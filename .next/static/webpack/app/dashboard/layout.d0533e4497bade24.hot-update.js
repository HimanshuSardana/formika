"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/layout",{

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/book.js":
/*!**********************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/book.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Book; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Book = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Book\", [\n    [\n        \"path\",\n        {\n            d: \"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20\",\n            key: \"k3hazp\"\n        }\n    ]\n]);\n //# sourceMappingURL=book.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvYm9vay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWFNLE1BQUFBLE9BQU9DLGdFQUFnQkEsQ0FBQyxRQUFRO0lBQ3BDO1FBQ0U7UUFDQTtZQUNFQyxHQUFHO1lBQ0hDLEtBQUs7UUFDUDtLQUNGO0NBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uLy4uL3NyYy9pY29ucy9ib29rLnRzPzFiNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBCb29rXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5OQ0F4T1M0MWRpMHhOVUV5TGpVZ01pNDFJREFnTUNBeElEWXVOU0F5U0RFNVlURWdNU0F3SURBZ01TQXhJREYyTVRoaE1TQXhJREFnTUNBeExURWdNVWcyTGpWaE1TQXhJREFnTUNBeElEQXROVWd5TUNJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2Jvb2tcbiAqIEBzZWUgaHR0cHM6Ly9sdWNpZGUuZGV2L2d1aWRlL3BhY2thZ2VzL2x1Y2lkZS1yZWFjdCAtIERvY3VtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBMdWNpZGUgaWNvbnMgcHJvcHMgYW5kIGFueSB2YWxpZCBTVkcgYXR0cmlidXRlXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IEpTWCBFbGVtZW50XG4gKlxuICovXG5jb25zdCBCb29rID0gY3JlYXRlTHVjaWRlSWNvbignQm9vaycsIFtcbiAgW1xuICAgICdwYXRoJyxcbiAgICB7XG4gICAgICBkOiAnTTQgMTkuNXYtMTVBMi41IDIuNSAwIDAgMSA2LjUgMkgxOWExIDEgMCAwIDEgMSAxdjE4YTEgMSAwIDAgMS0xIDFINi41YTEgMSAwIDAgMSAwLTVIMjAnLFxuICAgICAga2V5OiAnazNoYXpwJyxcbiAgICB9LFxuICBdLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJvb2s7XG4iXSwibmFtZXMiOlsiQm9vayIsImNyZWF0ZUx1Y2lkZUljb24iLCJkIiwia2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/book.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js":
/*!******************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/chevron-down.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChevronDown; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst ChevronDown = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"ChevronDown\", [\n    [\n        \"path\",\n        {\n            d: \"m6 9 6 6 6-6\",\n            key: \"qrunsl\"\n        }\n    ]\n]);\n //# sourceMappingURL=chevron-down.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvY2hldnJvbi1kb3duLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0sTUFBQUEsY0FBY0MsZ0VBQWdCQSxDQUFDLGVBQWU7SUFDbEQ7UUFBQztRQUFRO1lBQUVDLEdBQUc7WUFBZ0JDLEtBQUs7UUFBQTtLQUFVO0NBQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi8uLi9zcmMvaWNvbnMvY2hldnJvbi1kb3duLnRzP2NmMWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBDaGV2cm9uRG93blxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0p0TmlBNUlEWWdOaUEyTFRZaUlDOCtDand2YzNablBnbz0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2NoZXZyb24tZG93blxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IENoZXZyb25Eb3duID0gY3JlYXRlTHVjaWRlSWNvbignQ2hldnJvbkRvd24nLCBbXG4gIFsncGF0aCcsIHsgZDogJ202IDkgNiA2IDYtNicsIGtleTogJ3FydW5zbCcgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hldnJvbkRvd247XG4iXSwibmFtZXMiOlsiQ2hldnJvbkRvd24iLCJjcmVhdGVMdWNpZGVJY29uIiwiZCIsImtleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clipboard.js":
/*!***************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/clipboard.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Clipboard; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Clipboard = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Clipboard\", [\n    [\n        \"rect\",\n        {\n            width: \"8\",\n            height: \"4\",\n            x: \"8\",\n            y: \"2\",\n            rx: \"1\",\n            ry: \"1\",\n            key: \"tgr4d6\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\",\n            key: \"116196\"\n        }\n    ]\n]);\n //# sourceMappingURL=clipboard.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvY2xpcGJvYXJkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0sTUFBQUEsWUFBWUMsZ0VBQWdCQSxDQUFDLGFBQWE7SUFDOUM7UUFBQztRQUFRO1lBQUVDLE9BQU87WUFBS0MsUUFBUTtZQUFLQyxHQUFHO1lBQUtDLEdBQUc7WUFBS0MsSUFBSTtZQUFLQyxJQUFJO1lBQUtDLEtBQUs7UUFBQTtLQUFVO0lBQ3JGO1FBQ0U7UUFDQTtZQUNFQyxHQUFHO1lBQ0hELEtBQUs7UUFDUDtLQUNGO0NBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uLy4uL3NyYy9pY29ucy9jbGlwYm9hcmQudHM/YTNmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIENsaXBib2FyZFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y21WamRDQjNhV1IwYUQwaU9DSWdhR1ZwWjJoMFBTSTBJaUI0UFNJNElpQjVQU0l5SWlCeWVEMGlNU0lnY25rOUlqRWlJQzgrQ2lBZ1BIQmhkR2dnWkQwaVRURTJJRFJvTW1FeUlESWdNQ0F3SURFZ01pQXlkakUwWVRJZ01pQXdJREFnTVMweUlESklObUV5SURJZ01DQXdJREV0TWkweVZqWmhNaUF5SURBZ01DQXhJREl0TW1neUlpQXZQZ284TDNOMlp6NEspIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL2NsaXBib2FyZFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IENsaXBib2FyZCA9IGNyZWF0ZUx1Y2lkZUljb24oJ0NsaXBib2FyZCcsIFtcbiAgWydyZWN0JywgeyB3aWR0aDogJzgnLCBoZWlnaHQ6ICc0JywgeDogJzgnLCB5OiAnMicsIHJ4OiAnMScsIHJ5OiAnMScsIGtleTogJ3RncjRkNicgfV0sXG4gIFtcbiAgICAncGF0aCcsXG4gICAge1xuICAgICAgZDogJ00xNiA0aDJhMiAyIDAgMCAxIDIgMnYxNGEyIDIgMCAwIDEtMiAySDZhMiAyIDAgMCAxLTItMlY2YTIgMiAwIDAgMSAyLTJoMicsXG4gICAgICBrZXk6ICcxMTYxOTYnLFxuICAgIH0sXG4gIF0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2xpcGJvYXJkO1xuIl0sIm5hbWVzIjpbIkNsaXBib2FyZCIsImNyZWF0ZUx1Y2lkZUljb24iLCJ3aWR0aCIsImhlaWdodCIsIngiLCJ5IiwicngiLCJyeSIsImtleSIsImQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clipboard.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/ellipsis.js":
/*!**************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/ellipsis.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Ellipsis; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Ellipsis = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Ellipsis\", [\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"1\",\n            key: \"41hilf\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"19\",\n            cy: \"12\",\n            r: \"1\",\n            key: \"1wjl8i\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"5\",\n            cy: \"12\",\n            r: \"1\",\n            key: \"1pcz8c\"\n        }\n    ]\n]);\n //# sourceMappingURL=ellipsis.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvZWxsaXBzaXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFhTSxNQUFBQSxXQUFXQyxnRUFBZ0JBLENBQUMsWUFBWTtJQUM1QztRQUFDO1FBQVU7WUFBRUMsSUFBSTtZQUFNQyxJQUFJO1lBQU1DLEdBQUc7WUFBS0MsS0FBSztRQUFBO0tBQVU7SUFDeEQ7UUFBQztRQUFVO1lBQUVILElBQUk7WUFBTUMsSUFBSTtZQUFNQyxHQUFHO1lBQUtDLEtBQUs7UUFBQTtLQUFVO0lBQ3hEO1FBQUM7UUFBVTtZQUFFSCxJQUFJO1lBQUtDLElBQUk7WUFBTUMsR0FBRztZQUFLQyxLQUFLO1FBQUE7S0FBVTtDQUN4RCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vLi4vc3JjL2ljb25zL2VsbGlwc2lzLnRzPzljOTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBFbGxpcHNpc1xuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4WTJseVkyeGxJR040UFNJeE1pSWdZM2s5SWpFeUlpQnlQU0l4SWlBdlBnb2dJRHhqYVhKamJHVWdZM2c5SWpFNUlpQmplVDBpTVRJaUlISTlJakVpSUM4K0NpQWdQR05wY21Oc1pTQmplRDBpTlNJZ1kzazlJakV5SWlCeVBTSXhJaUF2UGdvOEwzTjJaejRLKSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9lbGxpcHNpc1xuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IEVsbGlwc2lzID0gY3JlYXRlTHVjaWRlSWNvbignRWxsaXBzaXMnLCBbXG4gIFsnY2lyY2xlJywgeyBjeDogJzEyJywgY3k6ICcxMicsIHI6ICcxJywga2V5OiAnNDFoaWxmJyB9XSxcbiAgWydjaXJjbGUnLCB7IGN4OiAnMTknLCBjeTogJzEyJywgcjogJzEnLCBrZXk6ICcxd2psOGknIH1dLFxuICBbJ2NpcmNsZScsIHsgY3g6ICc1JywgY3k6ICcxMicsIHI6ICcxJywga2V5OiAnMXBjejhjJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBFbGxpcHNpcztcbiJdLCJuYW1lcyI6WyJFbGxpcHNpcyIsImNyZWF0ZUx1Y2lkZUljb24iLCJjeCIsImN5IiwiciIsImtleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/ellipsis.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js":
/*!*********************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/eye.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Eye; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.454.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Eye = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Eye\", [\n    [\n        \"path\",\n        {\n            d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n            key: \"1nclc0\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"3\",\n            key: \"1v7zrd\"\n        }\n    ]\n]);\n //# sourceMappingURL=eye.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvZXllLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0sTUFBQUEsTUFBTUMsZ0VBQWdCQSxDQUFDLE9BQU87SUFDbEM7UUFDRTtRQUNBO1lBQ0VDLEdBQUc7WUFDSEMsS0FBSztRQUNQO0tBQ0Y7SUFDQTtRQUFDO1FBQVU7WUFBRUMsSUFBSTtZQUFNQyxJQUFJO1lBQU1DLEdBQUc7WUFBS0gsS0FBSztRQUFBO0tBQVU7Q0FDekQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uLy4uL3NyYy9pY29ucy9leWUudHM/OGNiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIEV5ZVxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0pOTWk0d05qSWdNVEl1TXpRNFlURWdNU0F3SURBZ01TQXdMUzQyT1RZZ01UQXVOelVnTVRBdU56VWdNQ0F3SURFZ01Ua3VPRGMySURBZ01TQXhJREFnTUNBeElEQWdMalk1TmlBeE1DNDNOU0F4TUM0M05TQXdJREFnTVMweE9TNDROellnTUNJZ0x6NEtJQ0E4WTJseVkyeGxJR040UFNJeE1pSWdZM2s5SWpFeUlpQnlQU0l6SWlBdlBnbzhMM04yWno0SykgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvZXllXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgRXllID0gY3JlYXRlTHVjaWRlSWNvbignRXllJywgW1xuICBbXG4gICAgJ3BhdGgnLFxuICAgIHtcbiAgICAgIGQ6ICdNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCcsXG4gICAgICBrZXk6ICcxbmNsYzAnLFxuICAgIH0sXG4gIF0sXG4gIFsnY2lyY2xlJywgeyBjeDogJzEyJywgY3k6ICcxMicsIHI6ICczJywga2V5OiAnMXY3enJkJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBFeWU7XG4iXSwibmFtZXMiOlsiRXllIiwiY3JlYXRlTHVjaWRlSWNvbiIsImQiLCJrZXkiLCJjeCIsImN5IiwiciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/forms.tsx":
/*!******************************!*\
  !*** ./components/forms.tsx ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Forms: function() { return /* binding */ Forms; },\n/* harmony export */   ResponseViewer: function() { return /* binding */ ResponseViewer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/dropdown-menu */ \"(app-pages-browser)/./components/ui/dropdown-menu.tsx\");\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @google/generative-ai */ \"(app-pages-browser)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var _ui_accordion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui/accordion */ \"(app-pages-browser)/./components/ui/accordion.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_supabase_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/supabase/client */ \"(app-pages-browser)/./utils/supabase/client.ts\");\n/* harmony import */ var _actions_generate_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/actions/generate_form */ \"(app-pages-browser)/./actions/generate_form.ts\");\n/* harmony import */ var _barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Book,Clipboard,Ellipsis,Eye,Plus,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Book,Clipboard,Ellipsis,Eye,Plus,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/ellipsis.js\");\n/* harmony import */ var _barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Book,Clipboard,Ellipsis,Eye,Plus,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Book,Clipboard,Ellipsis,Eye,Plus,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clipboard.js\");\n/* harmony import */ var _barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=Book,Clipboard,Ellipsis,Eye,Plus,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/book.js\");\n/* harmony import */ var _barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=Book,Clipboard,Ellipsis,Eye,Plus,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _hooks_useCurrentUser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/useCurrentUser */ \"(app-pages-browser)/./hooks/useCurrentUser.ts\");\n/* harmony import */ var _ui_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ui/dialog */ \"(app-pages-browser)/./components/ui/dialog.tsx\");\n/* harmony import */ var _floating_label_textarea__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./floating-label-textarea */ \"(app-pages-browser)/./components/floating-label-textarea.tsx\");\n/* harmony import */ var _floating_label_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./floating-label-input */ \"(app-pages-browser)/./components/floating-label-input.tsx\");\n/* harmony import */ var _ui_drawer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ui/drawer */ \"(app-pages-browser)/./components/ui/drawer.tsx\");\n/* harmony import */ var _ui_loading_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ui/loading-button */ \"(app-pages-browser)/./components/ui/loading-button.tsx\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ Forms,ResponseViewer auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Forms() {\n    _s();\n    const [formsData, setFormsData] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(null); // Added error state\n    const { user, loading: isUserLoading } = (0,_hooks_useCurrentUser__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n    const [formDescription, setFormDescription] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(\"\");\n    const [formName, setFormName] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(\"\");\n    const [isPending, startTransition] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useTransition)();\n    const handleGenerateForm = ()=>{\n        if (!formDescription.trim()) {\n            console.warn(\"Form description cannot be empty\");\n            return;\n        }\n        if (isUserLoading || !(user === null || user === void 0 ? void 0 : user.email)) {\n            console.error(\"User data is not available\");\n            return;\n        }\n        startTransition(async ()=>{\n            try {\n                const response = await (0,_actions_generate_form__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n                    email: user.email || \" \",\n                    formDescription,\n                    formName\n                });\n                if (response === null || response === void 0 ? void 0 : response.success) {\n                    console.log(\"Form generated successfully:\", response);\n                    sonner__WEBPACK_IMPORTED_MODULE_14__.toast.success(\"Form generated successfully\");\n                }\n            } catch (err) {\n                console.error(\"Error generating form:\", err);\n            }\n        });\n    };\n    if (isUserLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: \"Loading...\"\n        }, void 0, false, {\n            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n            lineNumber: 67,\n            columnNumber: 24\n        }, this); // Replace with a proper loading state if needed\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(()=>{\n        async function fetchForms() {\n            try {\n                var _user_user_metadata;\n                const supabase = await (0,_utils_supabase_client__WEBPACK_IMPORTED_MODULE_6__.createClient)();\n                const { data, error } = await supabase.from(\"forms\").select(\"*\").eq(\"created_by_email\", user === null || user === void 0 ? void 0 : (_user_user_metadata = user.user_metadata) === null || _user_user_metadata === void 0 ? void 0 : _user_user_metadata.email);\n                if (error) {\n                    throw error;\n                }\n                setFormsData(data || []);\n                console.log(data);\n            } catch (err) {\n                console.error(\"Error fetching forms:\", err);\n                setError(err instanceof Error ? err.message : \"An error occurred while fetching forms.\");\n            } finally{\n                setLoading(false);\n            }\n        }\n        fetchForms();\n    }, []); // Depend on `user` to refetch if it changes\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mx-5 -mt-3\",\n            children: \"Loading forms...\"\n        }, void 0, false, {\n            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n            lineNumber: 98,\n            columnNumber: 24\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mx-5 -mt-3\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-red-500\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                lineNumber: 104,\n                columnNumber: 33\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n            lineNumber: 103,\n            columnNumber: 25\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mx-5 -mt-3\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"font-extrabold text-3xl\",\n                        children: \"All Forms\"\n                    }, void 0, false, {\n                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 33\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.Dialog, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.DialogTrigger, {\n                                asChild: true,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                    disabled: isPending,\n                                    className: \"font-bold\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {}, void 0, false, {\n                                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                            lineNumber: 116,\n                                            columnNumber: 57\n                                        }, this),\n                                        \" New Form\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                    lineNumber: 115,\n                                    columnNumber: 49\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                lineNumber: 114,\n                                columnNumber: 41\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.DialogContent, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.DialogHeader, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.DialogTitle, {\n                                                children: \"Create New Form\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                                lineNumber: 121,\n                                                columnNumber: 57\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.DialogDescription, {\n                                                children: \"Describe your form\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                                lineNumber: 122,\n                                                columnNumber: 57\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 120,\n                                        columnNumber: 49\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_floating_label_input__WEBPACK_IMPORTED_MODULE_11__.FloatingLabelInput, {\n                                        onChange: (e)=>setFormName(e.target.value),\n                                        disabled: isPending,\n                                        value: formName,\n                                        label: \"Form Name\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 125,\n                                        columnNumber: 49\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_floating_label_textarea__WEBPACK_IMPORTED_MODULE_10__.FloatingLabelTextarea, {\n                                        value: formDescription,\n                                        onChange: (e)=>setFormDescription(e.target.value),\n                                        label: \"Form description\",\n                                        disabled: isPending\n                                    }, void 0, false, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 127,\n                                        columnNumber: 49\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.DialogFooter, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                                variant: \"secondary\",\n                                                className: \"font-bold bg-inherit text-destructive\",\n                                                disabled: isPending,\n                                                children: \"Cancel\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                                lineNumber: 134,\n                                                columnNumber: 57\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_loading_button__WEBPACK_IMPORTED_MODULE_13__.LoadingButton, {\n                                                className: \"font-bold\",\n                                                onClick: handleGenerateForm,\n                                                disabled: isPending,\n                                                loading: isPending,\n                                                children: isPending ? \"Generating\" : \"Generate Form\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                                lineNumber: 141,\n                                                columnNumber: 57\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 133,\n                                        columnNumber: 49\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 41\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                        lineNumber: 113,\n                        columnNumber: 33\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                lineNumber: 111,\n                columnNumber: 25\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-5\",\n                children: formsData.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-muted-foreground\",\n                    children: \"No forms available. Start by creating one!\"\n                }, void 0, false, {\n                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                    lineNumber: 156,\n                    columnNumber: 41\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\",\n                    children: formsData.map((form)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FormCard, {\n                            id: form.id,\n                            formName: form.formName,\n                            createdAt: form.createdAt,\n                            formSchema: form.formSchema\n                        }, form.id, false, {\n                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                            lineNumber: 160,\n                            columnNumber: 57\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                    lineNumber: 158,\n                    columnNumber: 41\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                lineNumber: 154,\n                columnNumber: 25\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n        lineNumber: 110,\n        columnNumber: 17\n    }, this);\n}\n_s(Forms, \"zlxzAAwiXAYW+Ib6carXFvfeSVw=\", false, function() {\n    return [\n        _hooks_useCurrentUser__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n        react__WEBPACK_IMPORTED_MODULE_5__.useTransition\n    ];\n});\n_c = Forms;\nfunction FormCard(param) {\n    let { id, formName, createdAt, formSchema } = param;\n    _s1();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter)();\n    const [isDrawerOpen, setIsDrawerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n    const [responses, setResponses] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]); // Ensure responses state is typed\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(()=>{\n        async function fetchResponses() {\n            try {\n                const supabase = await (0,_utils_supabase_client__WEBPACK_IMPORTED_MODULE_6__.createClient)();\n                // Fetch responses specific to the form's ID\n                const { data, error } = await supabase.from(\"responses\").select(\"*\").eq(\"form_id\", id); // Assuming `form_id` links responses to the form\n                if (error) {\n                    throw error;\n                }\n                setResponses(data || []);\n            } catch (err) {\n                console.error(\"Error fetching responses:\", err);\n            }\n        }\n        // Fetch responses only when the drawer is opened\n        if (isDrawerOpen) {\n            fetchResponses();\n        }\n    }, [\n        isDrawerOpen,\n        id\n    ]); // Depend on `isDrawerOpen` and `id`\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border border-muted hover:border-primary rounded-md p-5 shadow-sm hover:shadow-lg cursor-pointer flex justify-between items-center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"description\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        className: \"font-bold text-lg\",\n                        children: formName || \"Untitled Form\"\n                    }, void 0, false, {\n                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 33\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-muted-foreground\",\n                        children: [\n                            \"Created on: \",\n                            new Date(createdAt).toLocaleDateString()\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 33\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                lineNumber: 220,\n                columnNumber: 25\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_2__.DropdownMenu, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_2__.DropdownMenuTrigger, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            className: \"text-muted-foreground\"\n                        }, void 0, false, {\n                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                            lineNumber: 228,\n                            columnNumber: 41\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                        lineNumber: 227,\n                        columnNumber: 33\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_2__.DropdownMenuContent, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_2__.DropdownMenuItem, {\n                                onClick: ()=>router.push(\"/forms/\".concat(id)),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 232,\n                                        columnNumber: 49\n                                    }, this),\n                                    \" Preview\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                lineNumber: 231,\n                                columnNumber: 41\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_2__.DropdownMenuItem, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}, void 0, false, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 235,\n                                        columnNumber: 49\n                                    }, this),\n                                    \" Copy Form Link\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                lineNumber: 234,\n                                columnNumber: 41\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_2__.DropdownMenuItem, {\n                                onClick: ()=>setIsDrawerOpen(true),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {}, void 0, false, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 238,\n                                        columnNumber: 49\n                                    }, this),\n                                    \" View Responses\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                lineNumber: 237,\n                                columnNumber: 41\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                        lineNumber: 230,\n                        columnNumber: 33\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                lineNumber: 226,\n                columnNumber: 25\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_drawer__WEBPACK_IMPORTED_MODULE_12__.Drawer, {\n                open: isDrawerOpen,\n                direction: \"right\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_drawer__WEBPACK_IMPORTED_MODULE_12__.DrawerContent, {\n                    className: \"w-1/3 py-3 px-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_drawer__WEBPACK_IMPORTED_MODULE_12__.DrawerHeader, {\n                            className: \"flex justify-between gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_drawer__WEBPACK_IMPORTED_MODULE_12__.DrawerTitle, {\n                                    className: \"font-extrabold text-3xl\",\n                                    children: [\n                                        formName,\n                                        \"'s Responses\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                    lineNumber: 246,\n                                    columnNumber: 49\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_drawer__WEBPACK_IMPORTED_MODULE_12__.DrawerClose, {\n                                    onClick: ()=>setIsDrawerOpen(false),\n                                    asChild: true,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                        variant: \"secondary\",\n                                        size: \"icon\",\n                                        className: \"bg-inherit rounded-full hover:bg-background\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Book_Clipboard_Ellipsis_Eye_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {}, void 0, false, {\n                                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                            lineNumber: 253,\n                                            columnNumber: 65\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                        lineNumber: 248,\n                                        columnNumber: 57\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                    lineNumber: 247,\n                                    columnNumber: 49\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                            lineNumber: 245,\n                            columnNumber: 41\n                        }, this),\n                        responses.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ResponseViewer, {\n                            responses: responses,\n                            formSchema: formSchema\n                        }, void 0, false, {\n                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                            lineNumber: 259,\n                            columnNumber: 49\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"p-4 text-muted-foreground\",\n                            children: \"No responses available for this form.\"\n                        }, void 0, false, {\n                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                            lineNumber: 264,\n                            columnNumber: 49\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                    lineNumber: 244,\n                    columnNumber: 33\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                lineNumber: 243,\n                columnNumber: 25\n            }, this)\n        ]\n    }, id, true, {\n        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n        lineNumber: 216,\n        columnNumber: 17\n    }, this);\n}\n_s1(FormCard, \"jVvmZ9B/2/phX9VwcbJQxY3B5/M=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter\n    ];\n});\n_c1 = FormCard;\nfunction ResponseViewer(param) {\n    let { responses, formSchema } = param;\n    _s2();\n    const [currentIndex, setCurrentIndex] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(0); // Track current response\n    const [insights, setInsights] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(\"\");\n    const currentResponse = responses[currentIndex]; // Get the current response\n    const handlePrevious = ()=>{\n        if (currentIndex > 0) {\n            setCurrentIndex((prev)=>prev - 1);\n        }\n    };\n    function convertToWords(input) {\n        return input.replace(/([a-z])([A-Z])/g, \"$1 $2\");\n    }\n    const handleNext = ()=>{\n        if (currentIndex < responses.length - 1) {\n            setCurrentIndex((prev)=>prev + 1);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(()=>{\n        async function getAIInsights() {\n            try {\n                const genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_3__.GoogleGenerativeAI(\"AIzaSyACJmEUuOUzeaKK7F_CgNGO8Wk2gnCAe34\");\n                const model = genAI.getGenerativeModel({\n                    model: \"gemini-1.5-flash\",\n                    generationConfig: {\n                        maxOutputTokens: 500\n                    }\n                });\n                const formattedResponses = responses.map((response, index)=>{\n                    const fields = formSchema.map((field)=>\"\".concat(convertToWords(field.name), \": \").concat(response.response[field.name] || \"N/A\")).join(\", \");\n                    return \"Response \".concat(index + 1, \": \").concat(fields);\n                }).join(\"\\n\");\n                const prompt = \"Given the following form submissions, provide insights, your reply (excluding markdown syntax) should not exceed 300 words. Respond with markdown.\\n\\n\".concat(formattedResponses);\n                const result = await model.generateContent(prompt);\n                setInsights(result.response.text());\n            } catch (err) {\n                console.error(\"Error fetching AI insights:\", err);\n            }\n        }\n        if (responses.length > 0) {\n            getAIInsights();\n        }\n    }, [\n        responses\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n            className: \"flex flex-col gap-3\",\n            children: [\n                insights ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_accordion__WEBPACK_IMPORTED_MODULE_4__.Accordion, {\n                    type: \"single\",\n                    collapsible: true,\n                    className: \"border py-1 px-5 rounded-md\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_accordion__WEBPACK_IMPORTED_MODULE_4__.AccordionItem, {\n                        value: \"insights\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_accordion__WEBPACK_IMPORTED_MODULE_4__.AccordionTrigger, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"font-bold text-lg\",\n                                    children: \"AI Insights\"\n                                }, void 0, false, {\n                                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                    lineNumber: 335,\n                                    columnNumber: 65\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                lineNumber: 334,\n                                columnNumber: 57\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_accordion__WEBPACK_IMPORTED_MODULE_4__.AccordionContent, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: insights\n                                }, void 0, false, {\n                                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                    lineNumber: 338,\n                                    columnNumber: 65\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                                lineNumber: 337,\n                                columnNumber: 57\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                        lineNumber: 333,\n                        columnNumber: 49\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                    lineNumber: 332,\n                    columnNumber: 41\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Loading insights...\"\n                }, void 0, false, {\n                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                    lineNumber: 343,\n                    columnNumber: 41\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-3 flex justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                            onClick: handlePrevious,\n                            disabled: currentIndex === 0,\n                            children: \"Previous\"\n                        }, void 0, false, {\n                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                            lineNumber: 347,\n                            columnNumber: 41\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                            onClick: handleNext,\n                            disabled: currentIndex === responses.length - 1,\n                            children: \"Next\"\n                        }, void 0, false, {\n                            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                            lineNumber: 350,\n                            columnNumber: 41\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n                    lineNumber: 346,\n                    columnNumber: 33\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n            lineNumber: 330,\n            columnNumber: 25\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/forms.tsx\",\n        lineNumber: 329,\n        columnNumber: 17\n    }, this);\n}\n_s2(ResponseViewer, \"gM2q26fyNv3u4DqTWy6+yIdoXZw=\");\n_c2 = ResponseViewer;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"Forms\");\n$RefreshReg$(_c1, \"FormCard\");\n$RefreshReg$(_c2, \"ResponseViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvZm9ybXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNxQztBQUNvRjtBQUM5RDtBQUNtQztBQUNuQztBQUNKO0FBQ0o7QUFDNkI7QUFDNUI7QUFDMkU7QUFHN0Q7QUFDTjtBQUlnQztBQUN4QztBQUNyQjtBQVVhO0FBRXJDLFNBQVN1Qzs7SUFDUixNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBRzdCLCtDQUFRQSxDQUFhLEVBQUU7SUFDekQsTUFBTSxDQUFDOEIsU0FBU0MsV0FBVyxHQUFHL0IsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZ0MsT0FBT0MsU0FBUyxHQUFHakMsK0NBQVFBLENBQWdCLE9BQU8sb0JBQW9CO0lBQzdFLE1BQU0sRUFBRWtDLElBQUksRUFBRUosU0FBU0ssYUFBYSxFQUFFLEdBQUcxQixpRUFBY0E7SUFDdkQsTUFBTSxDQUFDMkIsaUJBQWlCQyxtQkFBbUIsR0FBR3JDLCtDQUFRQSxDQUFTO0lBQy9ELE1BQU0sQ0FBQ3NDLFVBQVVDLFlBQVksR0FBR3ZDLCtDQUFRQSxDQUFTO0lBQ2pELE1BQU0sQ0FBQ3dDLFdBQVdDLGdCQUFnQixHQUFHM0Msb0RBQWFBO0lBRWxELE1BQU00QyxxQkFBcUI7UUFDbkIsSUFBSSxDQUFDTixnQkFBZ0JPLElBQUksSUFBSTtZQUNyQkMsUUFBUUMsSUFBSSxDQUFDO1lBQ2I7UUFDUjtRQUVBLElBQUlWLGlCQUFpQixFQUFDRCxpQkFBQUEsMkJBQUFBLEtBQU1ZLEtBQUssR0FBRTtZQUMzQkYsUUFBUVosS0FBSyxDQUFDO1lBQ2Q7UUFDUjtRQUVBUyxnQkFBZ0I7WUFDUixJQUFJO2dCQUNJLE1BQU1NLFdBQVcsTUFBTTdDLGtFQUFZQSxDQUFDO29CQUFFNEMsT0FBT1osS0FBS1ksS0FBSyxJQUFJO29CQUFLVjtvQkFBaUJFO2dCQUFTO2dCQUMxRixJQUFJUyxxQkFBQUEsK0JBQUFBLFNBQVVDLE9BQU8s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LFVBQVVWLE1BQU0sR0FBRztzQ0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPdEg7SUFoRmdCb0I7TUFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9mb3Jtcy50c3g/YzU0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgRHJvcGRvd25NZW51LCBEcm9wZG93bk1lbnVDb250ZW50LCBEcm9wZG93bk1lbnVJdGVtLCBEcm9wZG93bk1lbnVUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51XCI7XG5pbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGdvb2dsZS9nZW5lcmF0aXZlLWFpXCI7XG5pbXBvcnQgeyBBY2NvcmRpb24sIEFjY29yZGlvbkl0ZW0sIEFjY29yZGlvbkNvbnRlbnQsIEFjY29yZGlvblRyaWdnZXIgfSBmcm9tIFwiLi91aS9hY2NvcmRpb25cIjtcbmltcG9ydCB7IHVzZVRyYW5zaXRpb24sIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL3V0aWxzL3N1cGFiYXNlL2NsaWVudFwiO1xuaW1wb3J0IGdlbmVyYXRlRm9ybSBmcm9tIFwiQC9hY3Rpb25zL2dlbmVyYXRlX2Zvcm1cIjtcbmltcG9ydCB7IFBsdXMsIEVsbGlwc2lzLCBDbGlwYm9hcmQsIEJvb2ssIEV5ZSwgWCwgTG9hZGVyMiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB1c2VDdXJyZW50VXNlciBmcm9tIFwiQC9ob29rcy91c2VDdXJyZW50VXNlclwiO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dUcmlnZ2VyLCBEaWFsb2dDb250ZW50LCBEaWFsb2dIZWFkZXIsIERpYWxvZ1RpdGxlLCBEaWFsb2dEZXNjcmlwdGlvbiwgRGlhbG9nRm9vdGVyIH0gZnJvbSBcIi4vdWkvZGlhbG9nXCI7XG5pbXBvcnQgeyBTZWxlY3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3NlbGVjdFwiO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RleHRhcmVhXCI7XG5pbXBvcnQgeyBGbG9hdGluZ0xhYmVsVGV4dGFyZWEgfSBmcm9tIFwiLi9mbG9hdGluZy1sYWJlbC10ZXh0YXJlYVwiO1xuaW1wb3J0IHsgRmxvYXRpbmdMYWJlbElucHV0IH0gZnJvbSBcIi4vZmxvYXRpbmctbGFiZWwtaW5wdXRcIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgUmFkaW9Hcm91cCwgUmFkaW9Hcm91cEl0ZW0gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3JhZGlvLWdyb3VwXCI7XG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvbGFiZWxcIjtcbmltcG9ydCB7IERyYXdlciwgRHJhd2VyQ29udGVudCwgRHJhd2VySGVhZGVyLCBEcmF3ZXJUaXRsZSwgRHJhd2VyQ2xvc2UgfSBmcm9tIFwiLi91aS9kcmF3ZXJcIjtcbmltcG9ydCB7IExvYWRpbmdCdXR0b24gfSBmcm9tIFwiLi91aS9sb2FkaW5nLWJ1dHRvblwiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQge1xuICAgICAgICBUYWJsZSxcbiAgICAgICAgVGFibGVCb2R5LFxuICAgICAgICBUYWJsZUNhcHRpb24sXG4gICAgICAgIFRhYmxlQ2VsbCxcbiAgICAgICAgVGFibGVIZWFkLFxuICAgICAgICBUYWJsZUhlYWRlcixcbiAgICAgICAgVGFibGVSb3csXG59IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGFibGVcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1zKCkge1xuICAgICAgICBjb25zdCBbZm9ybXNEYXRhLCBzZXRGb3Jtc0RhdGFdID0gdXNlU3RhdGU8Rm9ybURhdGFbXT4oW10pO1xuICAgICAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICAgICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTsgLy8gQWRkZWQgZXJyb3Igc3RhdGVcbiAgICAgICAgY29uc3QgeyB1c2VyLCBsb2FkaW5nOiBpc1VzZXJMb2FkaW5nIH0gPSB1c2VDdXJyZW50VXNlcigpO1xuICAgICAgICBjb25zdCBbZm9ybURlc2NyaXB0aW9uLCBzZXRGb3JtRGVzY3JpcHRpb25dID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgICAgICAgY29uc3QgW2Zvcm1OYW1lLCBzZXRGb3JtTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICAgICAgICBjb25zdCBbaXNQZW5kaW5nLCBzdGFydFRyYW5zaXRpb25dID0gdXNlVHJhbnNpdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlRm9ybSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZvcm1EZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZvcm0gZGVzY3JpcHRpb24gY2Fubm90IGJlIGVtcHR5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc1VzZXJMb2FkaW5nIHx8ICF1c2VyPy5lbWFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVzZXIgZGF0YSBpcyBub3QgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0YXJ0VHJhbnNpdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdlbmVyYXRlRm9ybSh7IGVtYWlsOiB1c2VyLmVtYWlsIHx8IFwiIFwiLCBmb3JtRGVzY3JpcHRpb24sIGZvcm1OYW1lIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2U/LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZvcm0gZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseTpcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJGb3JtIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2VuZXJhdGluZyBmb3JtOlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc1VzZXJMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjsgLy8gUmVwbGFjZSB3aXRoIGEgcHJvcGVyIGxvYWRpbmcgc3RhdGUgaWYgbmVlZGVkXG4gICAgICAgIH1cblxuICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoRm9ybXMoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZyb20oXCJmb3Jtc1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVxKFwiY3JlYXRlZF9ieV9lbWFpbFwiLCB1c2VyPy51c2VyX21ldGFkYXRhPy5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGb3Jtc0RhdGEoZGF0YSB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBmb3JtczpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmV0Y2hpbmcgZm9ybXMuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZmV0Y2hGb3JtcygpO1xuICAgICAgICB9LCBbXSk7IC8vIERlcGVuZCBvbiBgdXNlcmAgdG8gcmVmZXRjaCBpZiBpdCBjaGFuZ2VzXG5cbiAgICAgICAgaWYgKGxvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJteC01IC1tdC0zXCI+TG9hZGluZyBmb3Jtcy4uLjwvZGl2PjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LTUgLW10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCI+RXJyb3I6IHtlcnJvcn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LTUgLW10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1leHRyYWJvbGQgdGV4dC0zeGxcIj5BbGwgRm9ybXM8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGRpc2FibGVkPXtpc1BlbmRpbmd9IGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGx1cyAvPiBOZXcgRm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlPkNyZWF0ZSBOZXcgRm9ybTwvRGlhbG9nVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5EZXNjcmliZSB5b3VyIGZvcm08L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGbG9hdGluZ0xhYmVsSW5wdXQgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtTmFtZShlLnRhcmdldC52YWx1ZSl9IGRpc2FibGVkPXtpc1BlbmRpbmd9IHZhbHVlPXtmb3JtTmFtZX0gbGFiZWw9XCJGb3JtIE5hbWVcIiAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmxvYXRpbmdMYWJlbFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Rm9ybURlc2NyaXB0aW9uKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJGb3JtIGRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUGVuZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nRm9vdGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9udC1ib2xkIGJnLWluaGVyaXQgdGV4dC1kZXN0cnVjdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUGVuZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRpbmdCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb250LWJvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlRm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNQZW5kaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2lzUGVuZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1BlbmRpbmcgPyBcIkdlbmVyYXRpbmdcIiA6IFwiR2VuZXJhdGUgRm9ybVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xvYWRpbmdCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0Zvb3Rlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybXNEYXRhLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5ObyBmb3JtcyBhdmFpbGFibGUuIFN0YXJ0IGJ5IGNyZWF0aW5nIG9uZSE8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC00IGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybXNEYXRhLm1hcCgoZm9ybSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNhcmQga2V5PXtmb3JtLmlkfSBpZD17Zm9ybS5pZH0gZm9ybU5hbWU9e2Zvcm0uZm9ybU5hbWV9IGNyZWF0ZWRBdD17Zm9ybS5jcmVhdGVkQXR9IGZvcm1TY2hlbWE9e2Zvcm0uZm9ybVNjaGVtYX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG59XG5cbnR5cGUgRm9ybURhdGEgPSB7XG4gICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgIGZvcm1OYW1lOiBzdHJpbmc7XG4gICAgICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICAgICAgICBmb3JtU2NoZW1hOiBhbnlbXTtcbn07XG5cbnR5cGUgRm9ybUNhcmRQcm9wcyA9IHtcbiAgICAgICAgaWQ6IHN0cmluZztcbiAgICAgICAgZm9ybU5hbWU6IHN0cmluZztcbiAgICAgICAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gICAgICAgIGZvcm1TY2hlbWE6IGFueVtdO1xufTtcblxuZnVuY3Rpb24gRm9ybUNhcmQoeyBpZCwgZm9ybU5hbWUsIGNyZWF0ZWRBdCwgZm9ybVNjaGVtYSB9OiBGb3JtQ2FyZFByb3BzKSB7XG4gICAgICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICAgICAgICBjb25zdCBbaXNEcmF3ZXJPcGVuLCBzZXRJc0RyYXdlck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICBjb25zdCBbcmVzcG9uc2VzLCBzZXRSZXNwb25zZXNdID0gdXNlU3RhdGU8YW55W10+KFtdKTsgLy8gRW5zdXJlIHJlc3BvbnNlcyBzdGF0ZSBpcyB0eXBlZFxuXG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZXNwb25zZXMoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZldGNoIHJlc3BvbnNlcyBzcGVjaWZpYyB0byB0aGUgZm9ybSdzIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZyb20oXCJyZXNwb25zZXNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lcShcImZvcm1faWRcIiwgaWQpOyAvLyBBc3N1bWluZyBgZm9ybV9pZGAgbGlua3MgcmVzcG9uc2VzIHRvIHRoZSBmb3JtXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZXMoZGF0YSB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHJlc3BvbnNlczpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBGZXRjaCByZXNwb25zZXMgb25seSB3aGVuIHRoZSBkcmF3ZXIgaXMgb3BlbmVkXG4gICAgICAgICAgICAgICAgaWYgKGlzRHJhd2VyT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXNwb25zZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0sIFtpc0RyYXdlck9wZW4sIGlkXSk7IC8vIERlcGVuZCBvbiBgaXNEcmF3ZXJPcGVuYCBhbmQgYGlkYFxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItbXV0ZWQgaG92ZXI6Ym9yZGVyLXByaW1hcnkgcm91bmRlZC1tZCBwLTUgc2hhZG93LXNtIGhvdmVyOnNoYWRvdy1sZyBjdXJzb3ItcG9pbnRlciBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnXCI+e2Zvcm1OYW1lIHx8IFwiVW50aXRsZWQgRm9ybVwifTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlZCBvbjoge25ldyBEYXRlKGNyZWF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVsbGlwc2lzIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9mb3Jtcy8ke2lkfWApfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgLz4gUHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbGlwYm9hcmQgLz4gQ29weSBGb3JtIExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17KCkgPT4gc2V0SXNEcmF3ZXJPcGVuKHRydWUpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb29rIC8+IFZpZXcgUmVzcG9uc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPERyYXdlciBvcGVuPXtpc0RyYXdlck9wZW59IGRpcmVjdGlvbj1cInJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcmF3ZXJDb250ZW50IGNsYXNzTmFtZT1cInctMS8zIHB5LTMgcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcmF3ZXJIZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcmF3ZXJUaXRsZSBjbGFzc05hbWU9XCJmb250LWV4dHJhYm9sZCB0ZXh0LTN4bFwiPntmb3JtTmFtZX0ncyBSZXNwb25zZXM8L0RyYXdlclRpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyYXdlckNsb3NlIG9uQ2xpY2s9eygpID0+IHNldElzRHJhd2VyT3BlbihmYWxzZSl9IGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PXtcInNlY29uZGFyeVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9e1wiaWNvblwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWluaGVyaXQgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWJhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFggLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0RyYXdlckNsb3NlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJhd2VySGVhZGVyPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Jlc3BvbnNlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlc3BvbnNlVmlld2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlcz17cmVzcG9uc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtU2NoZW1hPXtmb3JtU2NoZW1hfSAvLyBQYXNzIGZvcm0gc2NoZW1hIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwicC00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPk5vIHJlc3BvbnNlcyBhdmFpbGFibGUgZm9yIHRoaXMgZm9ybS48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9EcmF3ZXJDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9EcmF3ZXI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG59XG5cbnR5cGUgUmVzcG9uc2VWaWV3ZXJQcm9wcyA9IHtcbiAgICAgICAgcmVzcG9uc2VzOiBhbnlbXTtcbiAgICAgICAgZm9ybVNjaGVtYTogYW55W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2VWaWV3ZXIoeyByZXNwb25zZXMsIGZvcm1TY2hlbWEgfTogUmVzcG9uc2VWaWV3ZXJQcm9wcykge1xuICAgICAgICBjb25zdCBbY3VycmVudEluZGV4LCBzZXRDdXJyZW50SW5kZXhdID0gdXNlU3RhdGUoMCk7IC8vIFRyYWNrIGN1cnJlbnQgcmVzcG9uc2VcbiAgICAgICAgY29uc3QgW2luc2lnaHRzLCBzZXRJbnNpZ2h0c10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXNwb25zZSA9IHJlc3BvbnNlc1tjdXJyZW50SW5kZXhdOyAvLyBHZXQgdGhlIGN1cnJlbnQgcmVzcG9uc2VcblxuICAgICAgICBjb25zdCBoYW5kbGVQcmV2aW91cyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEluZGV4KChwcmV2KSA9PiBwcmV2IC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbnZlcnRUb1dvcmRzKGlucHV0OiBzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMSAkMlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhbmRsZU5leHQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IHJlc3BvbnNlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5kZXgoKHByZXYpID0+IHByZXYgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBnZXRBSUluc2lnaHRzKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKFwiQUl6YVN5QUNKbUVVdU9VemVhS0s3Rl9DZ05HTzhXazJnbkNBZTM0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiBcImdlbWluaS0xLjUtZmxhc2hcIiwgZ2VuZXJhdGlvbkNvbmZpZzogeyBtYXhPdXRwdXRUb2tlbnM6IDUwMCB9IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFJlc3BvbnNlcyA9IHJlc3BvbnNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRzID0gZm9ybVNjaGVtYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChmaWVsZCkgPT4gYCR7Y29udmVydFRvV29yZHMoZmllbGQubmFtZSl9OiAke3Jlc3BvbnNlLnJlc3BvbnNlW2ZpZWxkLm5hbWVdIHx8IFwiTi9BXCJ9YClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgUmVzcG9uc2UgJHtpbmRleCArIDF9OiAke2ZpZWxkc31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oXCJcXG5cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gYEdpdmVuIHRoZSBmb2xsb3dpbmcgZm9ybSBzdWJtaXNzaW9ucywgcHJvdmlkZSBpbnNpZ2h0cywgeW91ciByZXBseSAoZXhjbHVkaW5nIG1hcmtkb3duIHN5bnRheCkgc2hvdWxkIG5vdCBleGNlZWQgMzAwIHdvcmRzLiBSZXNwb25kIHdpdGggbWFya2Rvd24uXFxuXFxuJHtmb3JtYXR0ZWRSZXNwb25zZXN9YDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5zaWdodHMocmVzdWx0LnJlc3BvbnNlLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIEFJIGluc2lnaHRzOlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QUlJbnNpZ2h0cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW3Jlc3BvbnNlc10pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2luc2lnaHRzID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBY2NvcmRpb24gdHlwZT1cInNpbmdsZVwiIGNvbGxhcHNpYmxlIGNsYXNzTmFtZT1cImJvcmRlciBweS0xIHB4LTUgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFjY29yZGlvbkl0ZW0gdmFsdWU9e1wiaW5zaWdodHNcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBY2NvcmRpb25UcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1sZ1wiPkFJIEluc2lnaHRzPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BY2NvcmRpb25UcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWNjb3JkaW9uQ29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57aW5zaWdodHN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0FjY29yZGlvbkNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0FjY29yZGlvbkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BY2NvcmRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TG9hZGluZyBpbnNpZ2h0cy4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVByZXZpb3VzfSBkaXNhYmxlZD17Y3VycmVudEluZGV4ID09PSAwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByZXZpb3VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVOZXh0fSBkaXNhYmxlZD17Y3VycmVudEluZGV4ID09PSByZXNwb25zZXMubGVuZ3RoIC0gMX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xufVxuXG4iXSwibmFtZXMiOlsiQnV0dG9uIiwiRHJvcGRvd25NZW51IiwiRHJvcGRvd25NZW51Q29udGVudCIsIkRyb3Bkb3duTWVudUl0ZW0iLCJEcm9wZG93bk1lbnVUcmlnZ2VyIiwiR29vZ2xlR2VuZXJhdGl2ZUFJIiwiQWNjb3JkaW9uIiwiQWNjb3JkaW9uSXRlbSIsIkFjY29yZGlvbkNvbnRlbnQiLCJBY2NvcmRpb25UcmlnZ2VyIiwidXNlVHJhbnNpdGlvbiIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiY3JlYXRlQ2xpZW50IiwiZ2VuZXJhdGVGb3JtIiwiUGx1cyIsIkVsbGlwc2lzIiwiQ2xpcGJvYXJkIiwiQm9vayIsIkV5ZSIsIlgiLCJ1c2VDdXJyZW50VXNlciIsIkRpYWxvZyIsIkRpYWxvZ1RyaWdnZXIiLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nSGVhZGVyIiwiRGlhbG9nVGl0bGUiLCJEaWFsb2dEZXNjcmlwdGlvbiIsIkRpYWxvZ0Zvb3RlciIsIkZsb2F0aW5nTGFiZWxUZXh0YXJlYSIsIkZsb2F0aW5nTGFiZWxJbnB1dCIsIkRyYXdlciIsIkRyYXdlckNvbnRlbnQiLCJEcmF3ZXJIZWFkZXIiLCJEcmF3ZXJUaXRsZSIsIkRyYXdlckNsb3NlIiwiTG9hZGluZ0J1dHRvbiIsInRvYXN0IiwidXNlUm91dGVyIiwiRm9ybXMiLCJmb3Jtc0RhdGEiLCJzZXRGb3Jtc0RhdGEiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJ1c2VyIiwiaXNVc2VyTG9hZGluZyIsImZvcm1EZXNjcmlwdGlvbiIsInNldEZvcm1EZXNjcmlwdGlvbiIsImZvcm1OYW1lIiwic2V0Rm9ybU5hbWUiLCJpc1BlbmRpbmciLCJzdGFydFRyYW5zaXRpb24iLCJoYW5kbGVHZW5lcmF0ZUZvcm0iLCJ0cmltIiwiY29uc29sZSIsIndhcm4iLCJlbWFpbCIsInJlc3BvbnNlIiwic3VjY2VzcyIsImxvZyIsImVyciIsImRpdiIsImZldGNoRm9ybXMiLCJzdXBhYmFzZSIsImRhdGEiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJ1c2VyX21ldGFkYXRhIiwiRXJyb3IiLCJtZXNzYWdlIiwiY2xhc3NOYW1lIiwicCIsImgzIiwiYXNDaGlsZCIsImRpc2FibGVkIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwidmFsdWUiLCJsYWJlbCIsInZhcmlhbnQiLCJvbkNsaWNrIiwibGVuZ3RoIiwibWFwIiwiZm9ybSIsIkZvcm1DYXJkIiwiaWQiLCJjcmVhdGVkQXQiLCJmb3JtU2NoZW1hIiwicm91dGVyIiwiaXNEcmF3ZXJPcGVuIiwic2V0SXNEcmF3ZXJPcGVuIiwicmVzcG9uc2VzIiwic2V0UmVzcG9uc2VzIiwiZmV0Y2hSZXNwb25zZXMiLCJoNCIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJwdXNoIiwib3BlbiIsImRpcmVjdGlvbiIsInNpemUiLCJSZXNwb25zZVZpZXdlciIsImN1cnJlbnRJbmRleCIsInNldEN1cnJlbnRJbmRleCIsImluc2lnaHRzIiwic2V0SW5zaWdodHMiLCJjdXJyZW50UmVzcG9uc2UiLCJoYW5kbGVQcmV2aW91cyIsInByZXYiLCJjb252ZXJ0VG9Xb3JkcyIsImlucHV0IiwicmVwbGFjZSIsImhhbmRsZU5leHQiLCJnZXRBSUluc2lnaHRzIiwiZ2VuQUkiLCJtb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsImdlbmVyYXRpb25Db25maWciLCJtYXhPdXRwdXRUb2tlbnMiLCJmb3JtYXR0ZWRSZXNwb25zZXMiLCJpbmRleCIsImZpZWxkcyIsImZpZWxkIiwibmFtZSIsImpvaW4iLCJwcm9tcHQiLCJyZXN1bHQiLCJnZW5lcmF0ZUNvbnRlbnQiLCJ0ZXh0IiwidHlwZSIsImNvbGxhcHNpYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/forms.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/accordion.tsx":
/*!*************************************!*\
  !*** ./components/ui/accordion.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Accordion: function() { return /* binding */ Accordion; },\n/* harmony export */   AccordionContent: function() { return /* binding */ AccordionContent; },\n/* harmony export */   AccordionItem: function() { return /* binding */ AccordionItem; },\n/* harmony export */   AccordionTrigger: function() { return /* binding */ AccordionTrigger; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-accordion */ \"(app-pages-browser)/./node_modules/@radix-ui/react-accordion/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Accordion,AccordionItem,AccordionTrigger,AccordionContent auto */ \n\n\n\n\nconst Accordion = _radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__.Root;\nconst AccordionItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c = (param, ref)=>{\n    let { className, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__.Item, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/accordion.tsx\",\n        lineNumber: 15,\n        columnNumber: 9\n    }, undefined);\n});\n_c1 = AccordionItem;\nAccordionItem.displayName = \"AccordionItem\";\nconst AccordionTrigger = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c2 = (param, ref)=>{\n    let { className, children, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__.Header, {\n        className: \"flex\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__.Trigger, {\n            ref: ref,\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\", className),\n            ...props,\n            children: [\n                children,\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    className: \"h-4 w-4 shrink-0 transition-transform duration-200\"\n                }, void 0, false, {\n                    fileName: \"/home/himanshu/projects/formika/components/ui/accordion.tsx\",\n                    lineNumber: 37,\n                    columnNumber: 25\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/himanshu/projects/formika/components/ui/accordion.tsx\",\n            lineNumber: 28,\n            columnNumber: 17\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/accordion.tsx\",\n        lineNumber: 27,\n        columnNumber: 9\n    }, undefined);\n});\n_c3 = AccordionTrigger;\nAccordionTrigger.displayName = _radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__.Trigger.displayName;\nconst AccordionContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c4 = (param, ref)=>{\n    let { className, children, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__.Content, {\n        ref: ref,\n        className: \"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\",\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"pb-4 pt-0\", className),\n            children: children\n        }, void 0, false, {\n            fileName: \"/home/himanshu/projects/formika/components/ui/accordion.tsx\",\n            lineNumber: 52,\n            columnNumber: 17\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/accordion.tsx\",\n        lineNumber: 47,\n        columnNumber: 9\n    }, undefined);\n});\n_c5 = AccordionContent;\nAccordionContent.displayName = _radix_ui_react_accordion__WEBPACK_IMPORTED_MODULE_3__.Content.displayName;\n\nvar _c, _c1, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"AccordionItem$React.forwardRef\");\n$RefreshReg$(_c1, \"AccordionItem\");\n$RefreshReg$(_c2, \"AccordionTrigger$React.forwardRef\");\n$RefreshReg$(_c3, \"AccordionTrigger\");\n$RefreshReg$(_c4, \"AccordionContent$React.forwardRef\");\n$RefreshReg$(_c5, \"AccordionContent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvYWNjb3JkaW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUNpQztBQUNyQjtBQUVWO0FBRWhDLE1BQU1JLFlBQVlILDJEQUF1QjtBQUV6QyxNQUFNSyw4QkFBZ0JOLDZDQUFnQixNQUdwQyxRQUEwQlE7UUFBekIsRUFBRUMsU0FBUyxFQUFFLEdBQUdDLE9BQU87eUJBQ2xCLDhEQUFDVCwyREFBdUI7UUFDaEJPLEtBQUtBO1FBQ0xDLFdBQVdOLDhDQUFFQSxDQUFDLElBQUlNO1FBQ2pCLEdBQUdDLEtBQUs7Ozs7Ozs7O0FBR3pCSixjQUFjTSxXQUFXLEdBQUc7QUFFNUIsTUFBTUMsaUNBQW1CYiw2Q0FBZ0IsT0FHdkMsUUFBb0NRO1FBQW5DLEVBQUVDLFNBQVMsRUFBRUssUUFBUSxFQUFFLEdBQUdKLE9BQU87eUJBQzVCLDhEQUFDVCw2REFBeUI7UUFBQ1EsV0FBVTtrQkFDN0IsNEVBQUNSLDhEQUEwQjtZQUNuQk8sS0FBS0E7WUFDTEMsV0FBV04sOENBQUVBLENBQ0wsZ0lBQ0FNO1lBRVAsR0FBR0MsS0FBSzs7Z0JBRVJJOzhCQUNELDhEQUFDWix1RkFBV0E7b0JBQUNPLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJL0NJLGlCQUFpQkQsV0FBVyxHQUFHWCw4REFBMEIsQ0FBQ1csV0FBVztBQUVyRSxNQUFNSyxpQ0FBbUJqQiw2Q0FBZ0IsT0FHdkMsUUFBb0NRO1FBQW5DLEVBQUVDLFNBQVMsRUFBRUssUUFBUSxFQUFFLEdBQUdKLE9BQU87eUJBQzVCLDhEQUFDVCw4REFBMEI7UUFDbkJPLEtBQUtBO1FBQ0xDLFdBQVU7UUFDVCxHQUFHQyxLQUFLO2tCQUVULDRFQUFDUztZQUFJVixXQUFXTiw4Q0FBRUEsQ0FBQyxhQUFhTTtzQkFBYUs7Ozs7Ozs7Ozs7Ozs7QUFJN0RHLGlCQUFpQkwsV0FBVyxHQUFHWCw4REFBMEIsQ0FBQ1csV0FBVztBQUVFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvdWkvYWNjb3JkaW9uLnRzeD8zMjljIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBBY2NvcmRpb25QcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1hY2NvcmRpb25cIlxuaW1wb3J0IHsgQ2hldnJvbkRvd24gfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcblxuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIlxuXG5jb25zdCBBY2NvcmRpb24gPSBBY2NvcmRpb25QcmltaXRpdmUuUm9vdFxuXG5jb25zdCBBY2NvcmRpb25JdGVtID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgICAgICAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQWNjb3JkaW9uUHJpbWl0aXZlLkl0ZW0+LFxuICAgICAgICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFjY29yZGlvblByaW1pdGl2ZS5JdGVtPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICAgICAgICA8QWNjb3JkaW9uUHJpbWl0aXZlLkl0ZW1cbiAgICAgICAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFwiXCIsIGNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPlxuKSlcbkFjY29yZGlvbkl0ZW0uZGlzcGxheU5hbWUgPSBcIkFjY29yZGlvbkl0ZW1cIlxuXG5jb25zdCBBY2NvcmRpb25UcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgICAgICAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQWNjb3JkaW9uUHJpbWl0aXZlLlRyaWdnZXI+LFxuICAgICAgICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFjY29yZGlvblByaW1pdGl2ZS5UcmlnZ2VyPlxuPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgICAgICAgPEFjY29yZGlvblByaW1pdGl2ZS5IZWFkZXIgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgIDxBY2NvcmRpb25QcmltaXRpdmUuVHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHktNCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBob3Zlcjp1bmRlcmxpbmUgWyZbZGF0YS1zdGF0ZT1vcGVuXT5zdmddOnJvdGF0ZS0xODBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJoLTQgdy00IHNocmluay0wIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTIwMFwiIC8+XG4gICAgICAgICAgICAgICAgPC9BY2NvcmRpb25QcmltaXRpdmUuVHJpZ2dlcj5cbiAgICAgICAgPC9BY2NvcmRpb25QcmltaXRpdmUuSGVhZGVyPlxuKSlcbkFjY29yZGlvblRyaWdnZXIuZGlzcGxheU5hbWUgPSBBY2NvcmRpb25QcmltaXRpdmUuVHJpZ2dlci5kaXNwbGF5TmFtZVxuXG5jb25zdCBBY2NvcmRpb25Db250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgICAgICAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQWNjb3JkaW9uUHJpbWl0aXZlLkNvbnRlbnQ+LFxuICAgICAgICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFjY29yZGlvblByaW1pdGl2ZS5Db250ZW50PlxuPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgICAgICAgPEFjY29yZGlvblByaW1pdGl2ZS5Db250ZW50XG4gICAgICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3ZlcmZsb3ctaGlkZGVuIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLWFjY29yZGlvbi11cCBkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWFjY29yZGlvbi1kb3duXCJcbiAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y24oXCJwYi00IHB0LTBcIiwgY2xhc3NOYW1lKX0+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgICA8L0FjY29yZGlvblByaW1pdGl2ZS5Db250ZW50PlxuKSlcblxuQWNjb3JkaW9uQ29udGVudC5kaXNwbGF5TmFtZSA9IEFjY29yZGlvblByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lXG5cbmV4cG9ydCB7IEFjY29yZGlvbiwgQWNjb3JkaW9uSXRlbSwgQWNjb3JkaW9uVHJpZ2dlciwgQWNjb3JkaW9uQ29udGVudCB9XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJBY2NvcmRpb25QcmltaXRpdmUiLCJDaGV2cm9uRG93biIsImNuIiwiQWNjb3JkaW9uIiwiUm9vdCIsIkFjY29yZGlvbkl0ZW0iLCJmb3J3YXJkUmVmIiwicmVmIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJJdGVtIiwiZGlzcGxheU5hbWUiLCJBY2NvcmRpb25UcmlnZ2VyIiwiY2hpbGRyZW4iLCJIZWFkZXIiLCJUcmlnZ2VyIiwiQWNjb3JkaW9uQ29udGVudCIsIkNvbnRlbnQiLCJkaXYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/accordion.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/drawer.tsx":
/*!**********************************!*\
  !*** ./components/ui/drawer.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Drawer: function() { return /* binding */ Drawer; },\n/* harmony export */   DrawerClose: function() { return /* binding */ DrawerClose; },\n/* harmony export */   DrawerContent: function() { return /* binding */ DrawerContent; },\n/* harmony export */   DrawerDescription: function() { return /* binding */ DrawerDescription; },\n/* harmony export */   DrawerFooter: function() { return /* binding */ DrawerFooter; },\n/* harmony export */   DrawerHeader: function() { return /* binding */ DrawerHeader; },\n/* harmony export */   DrawerOverlay: function() { return /* binding */ DrawerOverlay; },\n/* harmony export */   DrawerPortal: function() { return /* binding */ DrawerPortal; },\n/* harmony export */   DrawerTitle: function() { return /* binding */ DrawerTitle; },\n/* harmony export */   DrawerTrigger: function() { return /* binding */ DrawerTrigger; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var vaul__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vaul */ \"(app-pages-browser)/./node_modules/vaul/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-variance-authority */ \"(app-pages-browser)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Drawer,DrawerPortal,DrawerOverlay,DrawerTrigger,DrawerClose,DrawerContent,DrawerHeader,DrawerFooter,DrawerTitle,DrawerDescription auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nconst DrawerContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext({\n    direction: \"right\"\n});\nconst Drawer = (param)=>{\n    let { shouldScaleBackground = true, direction = \"right\", ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DrawerContext.Provider, {\n        value: {\n            direction\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Root, {\n            shouldScaleBackground: shouldScaleBackground,\n            direction: direction,\n            ...props\n        }, void 0, false, {\n            fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n            lineNumber: 19,\n            columnNumber: 17\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n        lineNumber: 18,\n        columnNumber: 9\n    }, undefined);\n};\n_c = Drawer;\nDrawer.displayName = \"Drawer\";\nconst DrawerTrigger = vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Trigger;\nconst DrawerPortal = vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Portal;\nconst DrawerClose = vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Close;\nconst DrawerOverlay = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((param, ref)=>{\n    let { className, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Overlay, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"fixed inset-0 z-50 bg-black/80\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n        lineNumber: 38,\n        columnNumber: 9\n    }, undefined);\n});\n_c1 = DrawerOverlay;\nDrawerOverlay.displayName = vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Overlay.displayName;\nconst drawerContentVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.cva)(\"fixed z-50 flex h-auto flex-col border bg-background\", {\n    variants: {\n        direction: {\n            right: \"ml-24 right-0 rounded-l-[10px] inset-y-0\",\n            top: \"mb-24 top-0 rounded-b-[10px] inset-x-0\",\n            bottom: \"mt-24 rounded-t-[10px] bottom-0 inset-x-0\",\n            left: \"mr-24 left-0 rounded-r-[10px] inset-y-0\"\n        }\n    },\n    defaultVariants: {\n        direction: \"right\"\n    }\n});\nconst DrawerContent = /*#__PURE__*/ _s(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c2 = _s((param, ref)=>{\n    let { className, children, ...props } = param;\n    _s();\n    const { direction } = react__WEBPACK_IMPORTED_MODULE_1__.useContext(DrawerContext);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DrawerPortal, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DrawerOverlay, {}, void 0, false, {\n                fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n                lineNumber: 68,\n                columnNumber: 25\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Content, {\n                ref: ref,\n                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(drawerContentVariants({\n                    direction,\n                    className\n                })),\n                ...props,\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n                lineNumber: 69,\n                columnNumber: 25\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n        lineNumber: 67,\n        columnNumber: 17\n    }, undefined);\n}, \"ajPHOkIH/Mg7AqRf/aUIekEE4lM=\")), \"ajPHOkIH/Mg7AqRf/aUIekEE4lM=\");\n_c3 = DrawerContent;\nDrawerContent.displayName = \"DrawerContent\";\nconst DrawerHeader = (param)=>{\n    let { className, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"grid gap-1.5 p-4 text-center sm:text-left\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n        lineNumber: 83,\n        columnNumber: 9\n    }, undefined);\n};\n_c4 = DrawerHeader;\nDrawerHeader.displayName = \"DrawerHeader\";\nconst DrawerFooter = (param)=>{\n    let { className, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"mt-auto flex flex-col gap-2 p-4\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n        lineNumber: 88,\n        columnNumber: 9\n    }, undefined);\n};\n_c5 = DrawerFooter;\nDrawerFooter.displayName = \"DrawerFooter\";\nconst DrawerTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c6 = (param, ref)=>{\n    let { className, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Title, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"text-lg font-semibold leading-none tracking-tight\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n        lineNumber: 96,\n        columnNumber: 9\n    }, undefined);\n});\n_c7 = DrawerTitle;\nDrawerTitle.displayName = vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Title.displayName;\nconst DrawerDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c8 = (param, ref)=>{\n    let { className, ...props } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Description, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"text-sm text-muted-foreground\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/home/himanshu/projects/formika/components/ui/drawer.tsx\",\n        lineNumber: 108,\n        columnNumber: 9\n    }, undefined);\n});\n_c9 = DrawerDescription;\nDrawerDescription.displayName = vaul__WEBPACK_IMPORTED_MODULE_2__.Drawer.Description.displayName;\n\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Drawer\");\n$RefreshReg$(_c1, \"DrawerOverlay\");\n$RefreshReg$(_c2, \"DrawerContent$React.forwardRef\");\n$RefreshReg$(_c3, \"DrawerContent\");\n$RefreshReg$(_c4, \"DrawerHeader\");\n$RefreshReg$(_c5, \"DrawerFooter\");\n$RefreshReg$(_c6, \"DrawerTitle$React.forwardRef\");\n$RefreshReg$(_c7, \"DrawerTitle\");\n$RefreshReg$(_c8, \"DrawerDescription$React.forwardRef\");\n$RefreshReg$(_c9, \"DrawerDescription\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvZHJhd2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFK0I7QUFDa0I7QUFDRjtBQUVkO0FBRWpDLE1BQU1LLDhCQUFnQkwsZ0RBQW1CLENBQXNEO0lBQ3ZGTyxXQUFXO0FBQ25CO0FBRUEsTUFBTU4sU0FBUztRQUFDLEVBQ1JPLHdCQUF3QixJQUFJLEVBQzVCRCxZQUFZLE9BQU8sRUFDbkIsR0FBR0UsT0FDeUM7eUJBQzVDLDhEQUFDSixjQUFjSyxRQUFRO1FBQUNDLE9BQU87WUFBRUo7UUFBVTtrQkFDbkMsNEVBQUNMLHdDQUFlQSxDQUFDVSxJQUFJO1lBQ2JKLHVCQUF1QkE7WUFDdkJELFdBQVdBO1lBQ1YsR0FBR0UsS0FBSzs7Ozs7Ozs7Ozs7O0tBVDNCUjtBQWFOQSxPQUFPWSxXQUFXLEdBQUc7QUFFckIsTUFBTUMsZ0JBQWdCWix3Q0FBZUEsQ0FBQ2EsT0FBTztBQUU3QyxNQUFNQyxlQUFlZCx3Q0FBZUEsQ0FBQ2UsTUFBTTtBQUUzQyxNQUFNQyxjQUFjaEIsd0NBQWVBLENBQUNpQixLQUFLO0FBRXpDLE1BQU1DLDhCQUFnQnBCLDZDQUFnQixDQUdwQyxRQUEwQnNCO1FBQXpCLEVBQUVDLFNBQVMsRUFBRSxHQUFHZCxPQUFPO3lCQUNsQiw4REFBQ1Asd0NBQWVBLENBQUNzQixPQUFPO1FBQ2hCRixLQUFLQTtRQUNMQyxXQUFXbkIsOENBQUVBLENBQUMsa0NBQWtDbUI7UUFDL0MsR0FBR2QsS0FBSzs7Ozs7OztNQVBuQlc7QUFVTkEsY0FBY1AsV0FBVyxHQUFHWCx3Q0FBZUEsQ0FBQ3NCLE9BQU8sQ0FBQ1gsV0FBVztBQUUvRCxNQUFNWSx3QkFBd0J0Qiw2REFBR0EsQ0FBQyx3REFBd0Q7SUFDbEZ1QixVQUFVO1FBQ0ZuQixXQUFXO1lBQ0hvQixPQUFPO1lBQ1BDLEtBQUs7WUFDTEMsUUFBUTtZQUNSQyxNQUFNO1FBQ2Q7SUFDUjtJQUNBQyxpQkFBaUI7UUFDVHhCLFdBQVc7SUFDbkI7QUFDUjtBQUVBLE1BQU15Qiw4QkFBZ0JoQyxHQUFBQSw2Q0FBZ0IsVUFHcEMsUUFBb0NzQjtRQUFuQyxFQUFFQyxTQUFTLEVBQUVVLFFBQVEsRUFBRSxHQUFHeEIsT0FBTzs7SUFDNUIsTUFBTSxFQUFFRixTQUFTLEVBQUUsR0FBR1AsNkNBQWdCLENBQUNLO0lBRXZDLHFCQUNRLDhEQUFDVzs7MEJBQ08sOERBQUNJOzs7OzswQkFDRCw4REFBQ2xCLHdDQUFlQSxDQUFDaUMsT0FBTztnQkFDaEJiLEtBQUtBO2dCQUNMQyxXQUFXbkIsOENBQUVBLENBQUNxQixzQkFBc0I7b0JBQUVsQjtvQkFBV2dCO2dCQUFVO2dCQUMxRCxHQUFHZCxLQUFLOzBCQUdSd0I7Ozs7Ozs7Ozs7OztBQUlqQzs7QUFDQUQsY0FBY25CLFdBQVcsR0FBRztBQUU1QixNQUFNdUIsZUFBZTtRQUFDLEVBQUViLFNBQVMsRUFBRSxHQUFHZCxPQUE2Qzt5QkFDM0UsOERBQUM0QjtRQUFJZCxXQUFXbkIsOENBQUVBLENBQUMsNkNBQTZDbUI7UUFBYSxHQUFHZCxLQUFLOzs7Ozs7O01BRHZGMkI7QUFHTkEsYUFBYXZCLFdBQVcsR0FBRztBQUUzQixNQUFNeUIsZUFBZTtRQUFDLEVBQUVmLFNBQVMsRUFBRSxHQUFHZCxPQUE2Qzt5QkFDM0UsOERBQUM0QjtRQUFJZCxXQUFXbkIsOENBQUVBLENBQUMsbUNBQW1DbUI7UUFBYSxHQUFHZCxLQUFLOzs7Ozs7O01BRDdFNkI7QUFHTkEsYUFBYXpCLFdBQVcsR0FBRztBQUUzQixNQUFNMEIsNEJBQWN2Qyw2Q0FBZ0IsT0FHbEMsUUFBMEJzQjtRQUF6QixFQUFFQyxTQUFTLEVBQUUsR0FBR2QsT0FBTzt5QkFDbEIsOERBQUNQLHdDQUFlQSxDQUFDc0MsS0FBSztRQUNkbEIsS0FBS0E7UUFDTEMsV0FBV25CLDhDQUFFQSxDQUFDLHFEQUFxRG1CO1FBQ2xFLEdBQUdkLEtBQUs7Ozs7Ozs7O0FBR3pCOEIsWUFBWTFCLFdBQVcsR0FBR1gsd0NBQWVBLENBQUNzQyxLQUFLLENBQUMzQixXQUFXO0FBRTNELE1BQU00QixrQ0FBb0J6Qyw2Q0FBZ0IsT0FHeEMsUUFBMEJzQjtRQUF6QixFQUFFQyxTQUFTLEVBQUUsR0FBR2QsT0FBTzt5QkFDbEIsOERBQUNQLHdDQUFlQSxDQUFDd0MsV0FBVztRQUNwQnBCLEtBQUtBO1FBQ0xDLFdBQVduQiw4Q0FBRUEsQ0FBQyxpQ0FBaUNtQjtRQUM5QyxHQUFHZCxLQUFLOzs7Ozs7OztBQUd6QmdDLGtCQUFrQjVCLFdBQVcsR0FBR1gsd0NBQWVBLENBQUN3QyxXQUFXLENBQUM3QixXQUFXO0FBYXJFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvdWkvZHJhd2VyLnRzeD9lNWFjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRHJhd2VyIGFzIERyYXdlclByaW1pdGl2ZSB9IGZyb20gJ3ZhdWwnO1xuaW1wb3J0IHsgY3ZhIH0gZnJvbSAnY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5JztcblxuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5cbmNvbnN0IERyYXdlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PHsgZGlyZWN0aW9uPzogJ3JpZ2h0JyB8ICd0b3AnIHwgJ2JvdHRvbScgfCAnbGVmdCcgfT4oe1xuICAgICAgICBkaXJlY3Rpb246ICdyaWdodCcsXG59KTtcblxuY29uc3QgRHJhd2VyID0gKHtcbiAgICAgICAgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kID0gdHJ1ZSxcbiAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JyxcbiAgICAgICAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuUm9vdD4pID0+IChcbiAgICAgICAgPERyYXdlckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgZGlyZWN0aW9uIH19PlxuICAgICAgICAgICAgICAgIDxEcmF3ZXJQcmltaXRpdmUuUm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kPXtzaG91bGRTY2FsZUJhY2tncm91bmR9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb249e2RpcmVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICA8L0RyYXdlckNvbnRleHQuUHJvdmlkZXI+XG4pO1xuRHJhd2VyLmRpc3BsYXlOYW1lID0gJ0RyYXdlcic7XG5cbmNvbnN0IERyYXdlclRyaWdnZXIgPSBEcmF3ZXJQcmltaXRpdmUuVHJpZ2dlcjtcblxuY29uc3QgRHJhd2VyUG9ydGFsID0gRHJhd2VyUHJpbWl0aXZlLlBvcnRhbDtcblxuY29uc3QgRHJhd2VyQ2xvc2UgPSBEcmF3ZXJQcmltaXRpdmUuQ2xvc2U7XG5cbmNvbnN0IERyYXdlck92ZXJsYXkgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICAgICAgICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuT3ZlcmxheT4sXG4gICAgICAgIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLk92ZXJsYXk+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gICAgICAgIDxEcmF3ZXJQcmltaXRpdmUuT3ZlcmxheVxuICAgICAgICAgICAgICAgIHJlZj17cmVmfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oJ2ZpeGVkIGluc2V0LTAgei01MCBiZy1ibGFjay84MCcsIGNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPlxuKSk7XG5EcmF3ZXJPdmVybGF5LmRpc3BsYXlOYW1lID0gRHJhd2VyUHJpbWl0aXZlLk92ZXJsYXkuZGlzcGxheU5hbWU7XG5cbmNvbnN0IGRyYXdlckNvbnRlbnRWYXJpYW50cyA9IGN2YSgnZml4ZWQgei01MCBmbGV4IGgtYXV0byBmbGV4LWNvbCBib3JkZXIgYmctYmFja2dyb3VuZCcsIHtcbiAgICAgICAgdmFyaWFudHM6IHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnbWwtMjQgcmlnaHQtMCByb3VuZGVkLWwtWzEwcHhdIGluc2V0LXktMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICdtYi0yNCB0b3AtMCByb3VuZGVkLWItWzEwcHhdIGluc2V0LXgtMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdtdC0yNCByb3VuZGVkLXQtWzEwcHhdIGJvdHRvbS0wIGluc2V0LXgtMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnbXItMjQgbGVmdC0wIHJvdW5kZWQtci1bMTBweF0gaW5zZXQteS0wJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICdyaWdodCcsXG4gICAgICAgIH0sXG59KTtcblxuY29uc3QgRHJhd2VyQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8XG4gICAgICAgIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyYXdlclByaW1pdGl2ZS5Db250ZW50PixcbiAgICAgICAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuQ29udGVudD5cbj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGlyZWN0aW9uIH0gPSBSZWFjdC51c2VDb250ZXh0KERyYXdlckNvbnRleHQpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPERyYXdlclBvcnRhbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEcmF3ZXJPdmVybGF5IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RHJhd2VyUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oZHJhd2VyQ29udGVudFZhcmlhbnRzKHsgZGlyZWN0aW9uLCBjbGFzc05hbWUgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT0nbXgtYXV0byBtdC00IGgtMiB3LVsxMDBweF0gcm91bmRlZC1mdWxsIGJnLW11dGVkJyAvPiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9EcmF3ZXJQcmltaXRpdmUuQ29udGVudD5cbiAgICAgICAgICAgICAgICA8L0RyYXdlclBvcnRhbD5cbiAgICAgICAgKTtcbn0pO1xuRHJhd2VyQ29udGVudC5kaXNwbGF5TmFtZSA9ICdEcmF3ZXJDb250ZW50JztcblxuY29uc3QgRHJhd2VySGVhZGVyID0gKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4pID0+IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKCdncmlkIGdhcC0xLjUgcC00IHRleHQtY2VudGVyIHNtOnRleHQtbGVmdCcsIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz5cbik7XG5EcmF3ZXJIZWFkZXIuZGlzcGxheU5hbWUgPSAnRHJhd2VySGVhZGVyJztcblxuY29uc3QgRHJhd2VyRm9vdGVyID0gKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4pID0+IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKCdtdC1hdXRvIGZsZXggZmxleC1jb2wgZ2FwLTIgcC00JywgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPlxuKTtcbkRyYXdlckZvb3Rlci5kaXNwbGF5TmFtZSA9ICdEcmF3ZXJGb290ZXInO1xuXG5jb25zdCBEcmF3ZXJUaXRsZSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gICAgICAgIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyYXdlclByaW1pdGl2ZS5UaXRsZT4sXG4gICAgICAgIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLlRpdGxlPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICAgICAgICA8RHJhd2VyUHJpbWl0aXZlLlRpdGxlXG4gICAgICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigndGV4dC1sZyBmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodCcsIGNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPlxuKSk7XG5EcmF3ZXJUaXRsZS5kaXNwbGF5TmFtZSA9IERyYXdlclByaW1pdGl2ZS5UaXRsZS5kaXNwbGF5TmFtZTtcblxuY29uc3QgRHJhd2VyRGVzY3JpcHRpb24gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICAgICAgICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuRGVzY3JpcHRpb24+LFxuICAgICAgICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyYXdlclByaW1pdGl2ZS5EZXNjcmlwdGlvbj5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgICAgICAgPERyYXdlclByaW1pdGl2ZS5EZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIHJlZj17cmVmfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oJ3RleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJywgY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIC8+XG4pKTtcbkRyYXdlckRlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gRHJhd2VyUHJpbWl0aXZlLkRlc2NyaXB0aW9uLmRpc3BsYXlOYW1lO1xuXG5leHBvcnQge1xuICAgICAgICBEcmF3ZXIsXG4gICAgICAgIERyYXdlclBvcnRhbCxcbiAgICAgICAgRHJhd2VyT3ZlcmxheSxcbiAgICAgICAgRHJhd2VyVHJpZ2dlcixcbiAgICAgICAgRHJhd2VyQ2xvc2UsXG4gICAgICAgIERyYXdlckNvbnRlbnQsXG4gICAgICAgIERyYXdlckhlYWRlcixcbiAgICAgICAgRHJhd2VyRm9vdGVyLFxuICAgICAgICBEcmF3ZXJUaXRsZSxcbiAgICAgICAgRHJhd2VyRGVzY3JpcHRpb24sXG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiRHJhd2VyIiwiRHJhd2VyUHJpbWl0aXZlIiwiY3ZhIiwiY24iLCJEcmF3ZXJDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImRpcmVjdGlvbiIsInNob3VsZFNjYWxlQmFja2dyb3VuZCIsInByb3BzIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIlJvb3QiLCJkaXNwbGF5TmFtZSIsIkRyYXdlclRyaWdnZXIiLCJUcmlnZ2VyIiwiRHJhd2VyUG9ydGFsIiwiUG9ydGFsIiwiRHJhd2VyQ2xvc2UiLCJDbG9zZSIsIkRyYXdlck92ZXJsYXkiLCJmb3J3YXJkUmVmIiwicmVmIiwiY2xhc3NOYW1lIiwiT3ZlcmxheSIsImRyYXdlckNvbnRlbnRWYXJpYW50cyIsInZhcmlhbnRzIiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwiZGVmYXVsdFZhcmlhbnRzIiwiRHJhd2VyQ29udGVudCIsImNoaWxkcmVuIiwidXNlQ29udGV4dCIsIkNvbnRlbnQiLCJEcmF3ZXJIZWFkZXIiLCJkaXYiLCJEcmF3ZXJGb290ZXIiLCJEcmF3ZXJUaXRsZSIsIlRpdGxlIiwiRHJhd2VyRGVzY3JpcHRpb24iLCJEZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/drawer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@google/generative-ai/dist/index.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@google/generative-ai/dist/index.mjs ***!
  \***********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockReason: function() { return /* binding */ BlockReason; },\n/* harmony export */   ChatSession: function() { return /* binding */ ChatSession; },\n/* harmony export */   DynamicRetrievalMode: function() { return /* binding */ DynamicRetrievalMode; },\n/* harmony export */   ExecutableCodeLanguage: function() { return /* binding */ ExecutableCodeLanguage; },\n/* harmony export */   FinishReason: function() { return /* binding */ FinishReason; },\n/* harmony export */   FunctionCallingMode: function() { return /* binding */ FunctionCallingMode; },\n/* harmony export */   GenerativeModel: function() { return /* binding */ GenerativeModel; },\n/* harmony export */   GoogleGenerativeAI: function() { return /* binding */ GoogleGenerativeAI; },\n/* harmony export */   GoogleGenerativeAIError: function() { return /* binding */ GoogleGenerativeAIError; },\n/* harmony export */   GoogleGenerativeAIFetchError: function() { return /* binding */ GoogleGenerativeAIFetchError; },\n/* harmony export */   GoogleGenerativeAIRequestInputError: function() { return /* binding */ GoogleGenerativeAIRequestInputError; },\n/* harmony export */   GoogleGenerativeAIResponseError: function() { return /* binding */ GoogleGenerativeAIResponseError; },\n/* harmony export */   HarmBlockThreshold: function() { return /* binding */ HarmBlockThreshold; },\n/* harmony export */   HarmCategory: function() { return /* binding */ HarmCategory; },\n/* harmony export */   HarmProbability: function() { return /* binding */ HarmProbability; },\n/* harmony export */   Outcome: function() { return /* binding */ Outcome; },\n/* harmony export */   POSSIBLE_ROLES: function() { return /* binding */ POSSIBLE_ROLES; },\n/* harmony export */   SchemaType: function() { return /* binding */ SchemaType; },\n/* harmony export */   TaskType: function() { return /* binding */ TaskType; }\n/* harmony export */ });\n/**\n * Contains the list of OpenAPI data types\n * as defined by https://swagger.io/docs/specification/data-models/data-types/\n * @public\n */\nvar SchemaType;\n(function (SchemaType) {\n    /** String type. */\n    SchemaType[\"STRING\"] = \"string\";\n    /** Number type. */\n    SchemaType[\"NUMBER\"] = \"number\";\n    /** Integer type. */\n    SchemaType[\"INTEGER\"] = \"integer\";\n    /** Boolean type. */\n    SchemaType[\"BOOLEAN\"] = \"boolean\";\n    /** Array type. */\n    SchemaType[\"ARRAY\"] = \"array\";\n    /** Object type. */\n    SchemaType[\"OBJECT\"] = \"object\";\n})(SchemaType || (SchemaType = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @public\n */\nvar ExecutableCodeLanguage;\n(function (ExecutableCodeLanguage) {\n    ExecutableCodeLanguage[\"LANGUAGE_UNSPECIFIED\"] = \"language_unspecified\";\n    ExecutableCodeLanguage[\"PYTHON\"] = \"python\";\n})(ExecutableCodeLanguage || (ExecutableCodeLanguage = {}));\n/**\n * Possible outcomes of code execution.\n * @public\n */\nvar Outcome;\n(function (Outcome) {\n    /**\n     * Unspecified status. This value should not be used.\n     */\n    Outcome[\"OUTCOME_UNSPECIFIED\"] = \"outcome_unspecified\";\n    /**\n     * Code execution completed successfully.\n     */\n    Outcome[\"OUTCOME_OK\"] = \"outcome_ok\";\n    /**\n     * Code execution finished but with a failure. `stderr` should contain the\n     * reason.\n     */\n    Outcome[\"OUTCOME_FAILED\"] = \"outcome_failed\";\n    /**\n     * Code execution ran for too long, and was cancelled. There may or may not\n     * be a partial output present.\n     */\n    Outcome[\"OUTCOME_DEADLINE_EXCEEDED\"] = \"outcome_deadline_exceeded\";\n})(Outcome || (Outcome = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Possible roles.\n * @public\n */\nconst POSSIBLE_ROLES = [\"user\", \"model\", \"function\", \"system\"];\n/**\n * Harm categories that would cause prompts or candidates to be blocked.\n * @public\n */\nvar HarmCategory;\n(function (HarmCategory) {\n    HarmCategory[\"HARM_CATEGORY_UNSPECIFIED\"] = \"HARM_CATEGORY_UNSPECIFIED\";\n    HarmCategory[\"HARM_CATEGORY_HATE_SPEECH\"] = \"HARM_CATEGORY_HATE_SPEECH\";\n    HarmCategory[\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"] = \"HARM_CATEGORY_SEXUALLY_EXPLICIT\";\n    HarmCategory[\"HARM_CATEGORY_HARASSMENT\"] = \"HARM_CATEGORY_HARASSMENT\";\n    HarmCategory[\"HARM_CATEGORY_DANGEROUS_CONTENT\"] = \"HARM_CATEGORY_DANGEROUS_CONTENT\";\n})(HarmCategory || (HarmCategory = {}));\n/**\n * Threshold above which a prompt or candidate will be blocked.\n * @public\n */\nvar HarmBlockThreshold;\n(function (HarmBlockThreshold) {\n    // Threshold is unspecified.\n    HarmBlockThreshold[\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"] = \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\";\n    // Content with NEGLIGIBLE will be allowed.\n    HarmBlockThreshold[\"BLOCK_LOW_AND_ABOVE\"] = \"BLOCK_LOW_AND_ABOVE\";\n    // Content with NEGLIGIBLE and LOW will be allowed.\n    HarmBlockThreshold[\"BLOCK_MEDIUM_AND_ABOVE\"] = \"BLOCK_MEDIUM_AND_ABOVE\";\n    // Content with NEGLIGIBLE, LOW, and MEDIUM will be allowed.\n    HarmBlockThreshold[\"BLOCK_ONLY_HIGH\"] = \"BLOCK_ONLY_HIGH\";\n    // All content will be allowed.\n    HarmBlockThreshold[\"BLOCK_NONE\"] = \"BLOCK_NONE\";\n})(HarmBlockThreshold || (HarmBlockThreshold = {}));\n/**\n * Probability that a prompt or candidate matches a harm category.\n * @public\n */\nvar HarmProbability;\n(function (HarmProbability) {\n    // Probability is unspecified.\n    HarmProbability[\"HARM_PROBABILITY_UNSPECIFIED\"] = \"HARM_PROBABILITY_UNSPECIFIED\";\n    // Content has a negligible chance of being unsafe.\n    HarmProbability[\"NEGLIGIBLE\"] = \"NEGLIGIBLE\";\n    // Content has a low chance of being unsafe.\n    HarmProbability[\"LOW\"] = \"LOW\";\n    // Content has a medium chance of being unsafe.\n    HarmProbability[\"MEDIUM\"] = \"MEDIUM\";\n    // Content has a high chance of being unsafe.\n    HarmProbability[\"HIGH\"] = \"HIGH\";\n})(HarmProbability || (HarmProbability = {}));\n/**\n * Reason that a prompt was blocked.\n * @public\n */\nvar BlockReason;\n(function (BlockReason) {\n    // A blocked reason was not specified.\n    BlockReason[\"BLOCKED_REASON_UNSPECIFIED\"] = \"BLOCKED_REASON_UNSPECIFIED\";\n    // Content was blocked by safety settings.\n    BlockReason[\"SAFETY\"] = \"SAFETY\";\n    // Content was blocked, but the reason is uncategorized.\n    BlockReason[\"OTHER\"] = \"OTHER\";\n})(BlockReason || (BlockReason = {}));\n/**\n * Reason that a candidate finished.\n * @public\n */\nvar FinishReason;\n(function (FinishReason) {\n    // Default value. This value is unused.\n    FinishReason[\"FINISH_REASON_UNSPECIFIED\"] = \"FINISH_REASON_UNSPECIFIED\";\n    // Natural stop point of the model or provided stop sequence.\n    FinishReason[\"STOP\"] = \"STOP\";\n    // The maximum number of tokens as specified in the request was reached.\n    FinishReason[\"MAX_TOKENS\"] = \"MAX_TOKENS\";\n    // The candidate content was flagged for safety reasons.\n    FinishReason[\"SAFETY\"] = \"SAFETY\";\n    // The candidate content was flagged for recitation reasons.\n    FinishReason[\"RECITATION\"] = \"RECITATION\";\n    // The candidate content was flagged for using an unsupported language.\n    FinishReason[\"LANGUAGE\"] = \"LANGUAGE\";\n    // Unknown reason.\n    FinishReason[\"OTHER\"] = \"OTHER\";\n})(FinishReason || (FinishReason = {}));\n/**\n * Task type for embedding content.\n * @public\n */\nvar TaskType;\n(function (TaskType) {\n    TaskType[\"TASK_TYPE_UNSPECIFIED\"] = \"TASK_TYPE_UNSPECIFIED\";\n    TaskType[\"RETRIEVAL_QUERY\"] = \"RETRIEVAL_QUERY\";\n    TaskType[\"RETRIEVAL_DOCUMENT\"] = \"RETRIEVAL_DOCUMENT\";\n    TaskType[\"SEMANTIC_SIMILARITY\"] = \"SEMANTIC_SIMILARITY\";\n    TaskType[\"CLASSIFICATION\"] = \"CLASSIFICATION\";\n    TaskType[\"CLUSTERING\"] = \"CLUSTERING\";\n})(TaskType || (TaskType = {}));\n/**\n * @public\n */\nvar FunctionCallingMode;\n(function (FunctionCallingMode) {\n    // Unspecified function calling mode. This value should not be used.\n    FunctionCallingMode[\"MODE_UNSPECIFIED\"] = \"MODE_UNSPECIFIED\";\n    // Default model behavior, model decides to predict either a function call\n    // or a natural language repspose.\n    FunctionCallingMode[\"AUTO\"] = \"AUTO\";\n    // Model is constrained to always predicting a function call only.\n    // If \"allowed_function_names\" are set, the predicted function call will be\n    // limited to any one of \"allowed_function_names\", else the predicted\n    // function call will be any one of the provided \"function_declarations\".\n    FunctionCallingMode[\"ANY\"] = \"ANY\";\n    // Model will not predict any function call. Model behavior is same as when\n    // not passing any function declarations.\n    FunctionCallingMode[\"NONE\"] = \"NONE\";\n})(FunctionCallingMode || (FunctionCallingMode = {}));\n/**\n * The mode of the predictor to be used in dynamic retrieval.\n * @public\n */\nvar DynamicRetrievalMode;\n(function (DynamicRetrievalMode) {\n    // Unspecified function calling mode. This value should not be used.\n    DynamicRetrievalMode[\"MODE_UNSPECIFIED\"] = \"MODE_UNSPECIFIED\";\n    // Run retrieval only when system decides it is necessary.\n    DynamicRetrievalMode[\"MODE_DYNAMIC\"] = \"MODE_DYNAMIC\";\n})(DynamicRetrievalMode || (DynamicRetrievalMode = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Basic error type for this SDK.\n * @public\n */\nclass GoogleGenerativeAIError extends Error {\n    constructor(message) {\n        super(`[GoogleGenerativeAI Error]: ${message}`);\n    }\n}\n/**\n * Errors in the contents of a response from the model. This includes parsing\n * errors, or responses including a safety block reason.\n * @public\n */\nclass GoogleGenerativeAIResponseError extends GoogleGenerativeAIError {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\n/**\n * Error class covering HTTP errors when calling the server. Includes HTTP\n * status, statusText, and optional details, if provided in the server response.\n * @public\n */\nclass GoogleGenerativeAIFetchError extends GoogleGenerativeAIError {\n    constructor(message, status, statusText, errorDetails) {\n        super(message);\n        this.status = status;\n        this.statusText = statusText;\n        this.errorDetails = errorDetails;\n    }\n}\n/**\n * Errors in the contents of a request originating from user input.\n * @public\n */\nclass GoogleGenerativeAIRequestInputError extends GoogleGenerativeAIError {\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst DEFAULT_BASE_URL = \"https://generativelanguage.googleapis.com\";\nconst DEFAULT_API_VERSION = \"v1beta\";\n/**\n * We can't `require` package.json if this runs on web. We will use rollup to\n * swap in the version number here at build time.\n */\nconst PACKAGE_VERSION = \"0.21.0\";\nconst PACKAGE_LOG_HEADER = \"genai-js\";\nvar Task;\n(function (Task) {\n    Task[\"GENERATE_CONTENT\"] = \"generateContent\";\n    Task[\"STREAM_GENERATE_CONTENT\"] = \"streamGenerateContent\";\n    Task[\"COUNT_TOKENS\"] = \"countTokens\";\n    Task[\"EMBED_CONTENT\"] = \"embedContent\";\n    Task[\"BATCH_EMBED_CONTENTS\"] = \"batchEmbedContents\";\n})(Task || (Task = {}));\nclass RequestUrl {\n    constructor(model, task, apiKey, stream, requestOptions) {\n        this.model = model;\n        this.task = task;\n        this.apiKey = apiKey;\n        this.stream = stream;\n        this.requestOptions = requestOptions;\n    }\n    toString() {\n        var _a, _b;\n        const apiVersion = ((_a = this.requestOptions) === null || _a === void 0 ? void 0 : _a.apiVersion) || DEFAULT_API_VERSION;\n        const baseUrl = ((_b = this.requestOptions) === null || _b === void 0 ? void 0 : _b.baseUrl) || DEFAULT_BASE_URL;\n        let url = `${baseUrl}/${apiVersion}/${this.model}:${this.task}`;\n        if (this.stream) {\n            url += \"?alt=sse\";\n        }\n        return url;\n    }\n}\n/**\n * Simple, but may become more complex if we add more versions to log.\n */\nfunction getClientHeaders(requestOptions) {\n    const clientHeaders = [];\n    if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient) {\n        clientHeaders.push(requestOptions.apiClient);\n    }\n    clientHeaders.push(`${PACKAGE_LOG_HEADER}/${PACKAGE_VERSION}`);\n    return clientHeaders.join(\" \");\n}\nasync function getHeaders(url) {\n    var _a;\n    const headers = new Headers();\n    headers.append(\"Content-Type\", \"application/json\");\n    headers.append(\"x-goog-api-client\", getClientHeaders(url.requestOptions));\n    headers.append(\"x-goog-api-key\", url.apiKey);\n    let customHeaders = (_a = url.requestOptions) === null || _a === void 0 ? void 0 : _a.customHeaders;\n    if (customHeaders) {\n        if (!(customHeaders instanceof Headers)) {\n            try {\n                customHeaders = new Headers(customHeaders);\n            }\n            catch (e) {\n                throw new GoogleGenerativeAIRequestInputError(`unable to convert customHeaders value ${JSON.stringify(customHeaders)} to Headers: ${e.message}`);\n            }\n        }\n        for (const [headerName, headerValue] of customHeaders.entries()) {\n            if (headerName === \"x-goog-api-key\") {\n                throw new GoogleGenerativeAIRequestInputError(`Cannot set reserved header name ${headerName}`);\n            }\n            else if (headerName === \"x-goog-api-client\") {\n                throw new GoogleGenerativeAIRequestInputError(`Header name ${headerName} can only be set using the apiClient field`);\n            }\n            headers.append(headerName, headerValue);\n        }\n    }\n    return headers;\n}\nasync function constructModelRequest(model, task, apiKey, stream, body, requestOptions) {\n    const url = new RequestUrl(model, task, apiKey, stream, requestOptions);\n    return {\n        url: url.toString(),\n        fetchOptions: Object.assign(Object.assign({}, buildFetchOptions(requestOptions)), { method: \"POST\", headers: await getHeaders(url), body }),\n    };\n}\nasync function makeModelRequest(model, task, apiKey, stream, body, requestOptions = {}, \n// Allows this to be stubbed for tests\nfetchFn = fetch) {\n    const { url, fetchOptions } = await constructModelRequest(model, task, apiKey, stream, body, requestOptions);\n    return makeRequest(url, fetchOptions, fetchFn);\n}\nasync function makeRequest(url, fetchOptions, fetchFn = fetch) {\n    let response;\n    try {\n        response = await fetchFn(url, fetchOptions);\n    }\n    catch (e) {\n        handleResponseError(e, url);\n    }\n    if (!response.ok) {\n        await handleResponseNotOk(response, url);\n    }\n    return response;\n}\nfunction handleResponseError(e, url) {\n    let err = e;\n    if (!(e instanceof GoogleGenerativeAIFetchError ||\n        e instanceof GoogleGenerativeAIRequestInputError)) {\n        err = new GoogleGenerativeAIError(`Error fetching from ${url.toString()}: ${e.message}`);\n        err.stack = e.stack;\n    }\n    throw err;\n}\nasync function handleResponseNotOk(response, url) {\n    let message = \"\";\n    let errorDetails;\n    try {\n        const json = await response.json();\n        message = json.error.message;\n        if (json.error.details) {\n            message += ` ${JSON.stringify(json.error.details)}`;\n            errorDetails = json.error.details;\n        }\n    }\n    catch (e) {\n        // ignored\n    }\n    throw new GoogleGenerativeAIFetchError(`Error fetching from ${url.toString()}: [${response.status} ${response.statusText}] ${message}`, response.status, response.statusText, errorDetails);\n}\n/**\n * Generates the request options to be passed to the fetch API.\n * @param requestOptions - The user-defined request options.\n * @returns The generated request options.\n */\nfunction buildFetchOptions(requestOptions) {\n    const fetchOptions = {};\n    if ((requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.signal) !== undefined || (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.timeout) >= 0) {\n        const controller = new AbortController();\n        if ((requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.timeout) >= 0) {\n            setTimeout(() => controller.abort(), requestOptions.timeout);\n        }\n        if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.signal) {\n            requestOptions.signal.addEventListener(\"abort\", () => {\n                controller.abort();\n            });\n        }\n        fetchOptions.signal = controller.signal;\n    }\n    return fetchOptions;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Adds convenience helper methods to a response object, including stream\n * chunks (as long as each chunk is a complete GenerateContentResponse JSON).\n */\nfunction addHelpers(response) {\n    response.text = () => {\n        if (response.candidates && response.candidates.length > 0) {\n            if (response.candidates.length > 1) {\n                console.warn(`This response had ${response.candidates.length} ` +\n                    `candidates. Returning text from the first candidate only. ` +\n                    `Access response.candidates directly to use the other candidates.`);\n            }\n            if (hadBadFinishReason(response.candidates[0])) {\n                throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);\n            }\n            return getText(response);\n        }\n        else if (response.promptFeedback) {\n            throw new GoogleGenerativeAIResponseError(`Text not available. ${formatBlockErrorMessage(response)}`, response);\n        }\n        return \"\";\n    };\n    /**\n     * TODO: remove at next major version\n     */\n    response.functionCall = () => {\n        if (response.candidates && response.candidates.length > 0) {\n            if (response.candidates.length > 1) {\n                console.warn(`This response had ${response.candidates.length} ` +\n                    `candidates. Returning function calls from the first candidate only. ` +\n                    `Access response.candidates directly to use the other candidates.`);\n            }\n            if (hadBadFinishReason(response.candidates[0])) {\n                throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);\n            }\n            console.warn(`response.functionCall() is deprecated. ` +\n                `Use response.functionCalls() instead.`);\n            return getFunctionCalls(response)[0];\n        }\n        else if (response.promptFeedback) {\n            throw new GoogleGenerativeAIResponseError(`Function call not available. ${formatBlockErrorMessage(response)}`, response);\n        }\n        return undefined;\n    };\n    response.functionCalls = () => {\n        if (response.candidates && response.candidates.length > 0) {\n            if (response.candidates.length > 1) {\n                console.warn(`This response had ${response.candidates.length} ` +\n                    `candidates. Returning function calls from the first candidate only. ` +\n                    `Access response.candidates directly to use the other candidates.`);\n            }\n            if (hadBadFinishReason(response.candidates[0])) {\n                throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);\n            }\n            return getFunctionCalls(response);\n        }\n        else if (response.promptFeedback) {\n            throw new GoogleGenerativeAIResponseError(`Function call not available. ${formatBlockErrorMessage(response)}`, response);\n        }\n        return undefined;\n    };\n    return response;\n}\n/**\n * Returns all text found in all parts of first candidate.\n */\nfunction getText(response) {\n    var _a, _b, _c, _d;\n    const textStrings = [];\n    if ((_b = (_a = response.candidates) === null || _a === void 0 ? void 0 : _a[0].content) === null || _b === void 0 ? void 0 : _b.parts) {\n        for (const part of (_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts) {\n            if (part.text) {\n                textStrings.push(part.text);\n            }\n            if (part.executableCode) {\n                textStrings.push(\"\\n```\" +\n                    part.executableCode.language +\n                    \"\\n\" +\n                    part.executableCode.code +\n                    \"\\n```\\n\");\n            }\n            if (part.codeExecutionResult) {\n                textStrings.push(\"\\n```\\n\" + part.codeExecutionResult.output + \"\\n```\\n\");\n            }\n        }\n    }\n    if (textStrings.length > 0) {\n        return textStrings.join(\"\");\n    }\n    else {\n        return \"\";\n    }\n}\n/**\n * Returns functionCall of first candidate.\n */\nfunction getFunctionCalls(response) {\n    var _a, _b, _c, _d;\n    const functionCalls = [];\n    if ((_b = (_a = response.candidates) === null || _a === void 0 ? void 0 : _a[0].content) === null || _b === void 0 ? void 0 : _b.parts) {\n        for (const part of (_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts) {\n            if (part.functionCall) {\n                functionCalls.push(part.functionCall);\n            }\n        }\n    }\n    if (functionCalls.length > 0) {\n        return functionCalls;\n    }\n    else {\n        return undefined;\n    }\n}\nconst badFinishReasons = [\n    FinishReason.RECITATION,\n    FinishReason.SAFETY,\n    FinishReason.LANGUAGE,\n];\nfunction hadBadFinishReason(candidate) {\n    return (!!candidate.finishReason &&\n        badFinishReasons.includes(candidate.finishReason));\n}\nfunction formatBlockErrorMessage(response) {\n    var _a, _b, _c;\n    let message = \"\";\n    if ((!response.candidates || response.candidates.length === 0) &&\n        response.promptFeedback) {\n        message += \"Response was blocked\";\n        if ((_a = response.promptFeedback) === null || _a === void 0 ? void 0 : _a.blockReason) {\n            message += ` due to ${response.promptFeedback.blockReason}`;\n        }\n        if ((_b = response.promptFeedback) === null || _b === void 0 ? void 0 : _b.blockReasonMessage) {\n            message += `: ${response.promptFeedback.blockReasonMessage}`;\n        }\n    }\n    else if ((_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0]) {\n        const firstCandidate = response.candidates[0];\n        if (hadBadFinishReason(firstCandidate)) {\n            message += `Candidate was blocked due to ${firstCandidate.finishReason}`;\n            if (firstCandidate.finishMessage) {\n                message += `: ${firstCandidate.finishMessage}`;\n            }\n        }\n    }\n    return message;\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst responseLineRE = /^data\\: (.*)(?:\\n\\n|\\r\\r|\\r\\n\\r\\n)/;\n/**\n * Process a response.body stream from the backend and return an\n * iterator that provides one complete GenerateContentResponse at a time\n * and a promise that resolves with a single aggregated\n * GenerateContentResponse.\n *\n * @param response - Response from a fetch call\n */\nfunction processStream(response) {\n    const inputStream = response.body.pipeThrough(new TextDecoderStream(\"utf8\", { fatal: true }));\n    const responseStream = getResponseStream(inputStream);\n    const [stream1, stream2] = responseStream.tee();\n    return {\n        stream: generateResponseSequence(stream1),\n        response: getResponsePromise(stream2),\n    };\n}\nasync function getResponsePromise(stream) {\n    const allResponses = [];\n    const reader = stream.getReader();\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            return addHelpers(aggregateResponses(allResponses));\n        }\n        allResponses.push(value);\n    }\n}\nfunction generateResponseSequence(stream) {\n    return __asyncGenerator(this, arguments, function* generateResponseSequence_1() {\n        const reader = stream.getReader();\n        while (true) {\n            const { value, done } = yield __await(reader.read());\n            if (done) {\n                break;\n            }\n            yield yield __await(addHelpers(value));\n        }\n    });\n}\n/**\n * Reads a raw stream from the fetch response and join incomplete\n * chunks, returning a new stream that provides a single complete\n * GenerateContentResponse in each iteration.\n */\nfunction getResponseStream(inputStream) {\n    const reader = inputStream.getReader();\n    const stream = new ReadableStream({\n        start(controller) {\n            let currentText = \"\";\n            return pump();\n            function pump() {\n                return reader.read().then(({ value, done }) => {\n                    if (done) {\n                        if (currentText.trim()) {\n                            controller.error(new GoogleGenerativeAIError(\"Failed to parse stream\"));\n                            return;\n                        }\n                        controller.close();\n                        return;\n                    }\n                    currentText += value;\n                    let match = currentText.match(responseLineRE);\n                    let parsedResponse;\n                    while (match) {\n                        try {\n                            parsedResponse = JSON.parse(match[1]);\n                        }\n                        catch (e) {\n                            controller.error(new GoogleGenerativeAIError(`Error parsing JSON response: \"${match[1]}\"`));\n                            return;\n                        }\n                        controller.enqueue(parsedResponse);\n                        currentText = currentText.substring(match[0].length);\n                        match = currentText.match(responseLineRE);\n                    }\n                    return pump();\n                });\n            }\n        },\n    });\n    return stream;\n}\n/**\n * Aggregates an array of `GenerateContentResponse`s into a single\n * GenerateContentResponse.\n */\nfunction aggregateResponses(responses) {\n    const lastResponse = responses[responses.length - 1];\n    const aggregatedResponse = {\n        promptFeedback: lastResponse === null || lastResponse === void 0 ? void 0 : lastResponse.promptFeedback,\n    };\n    for (const response of responses) {\n        if (response.candidates) {\n            for (const candidate of response.candidates) {\n                const i = candidate.index;\n                if (!aggregatedResponse.candidates) {\n                    aggregatedResponse.candidates = [];\n                }\n                if (!aggregatedResponse.candidates[i]) {\n                    aggregatedResponse.candidates[i] = {\n                        index: candidate.index,\n                    };\n                }\n                // Keep overwriting, the last one will be final\n                aggregatedResponse.candidates[i].citationMetadata =\n                    candidate.citationMetadata;\n                aggregatedResponse.candidates[i].groundingMetadata =\n                    candidate.groundingMetadata;\n                aggregatedResponse.candidates[i].finishReason = candidate.finishReason;\n                aggregatedResponse.candidates[i].finishMessage =\n                    candidate.finishMessage;\n                aggregatedResponse.candidates[i].safetyRatings =\n                    candidate.safetyRatings;\n                /**\n                 * Candidates should always have content and parts, but this handles\n                 * possible malformed responses.\n                 */\n                if (candidate.content && candidate.content.parts) {\n                    if (!aggregatedResponse.candidates[i].content) {\n                        aggregatedResponse.candidates[i].content = {\n                            role: candidate.content.role || \"user\",\n                            parts: [],\n                        };\n                    }\n                    const newPart = {};\n                    for (const part of candidate.content.parts) {\n                        if (part.text) {\n                            newPart.text = part.text;\n                        }\n                        if (part.functionCall) {\n                            newPart.functionCall = part.functionCall;\n                        }\n                        if (part.executableCode) {\n                            newPart.executableCode = part.executableCode;\n                        }\n                        if (part.codeExecutionResult) {\n                            newPart.codeExecutionResult = part.codeExecutionResult;\n                        }\n                        if (Object.keys(newPart).length === 0) {\n                            newPart.text = \"\";\n                        }\n                        aggregatedResponse.candidates[i].content.parts.push(newPart);\n                    }\n                }\n            }\n        }\n        if (response.usageMetadata) {\n            aggregatedResponse.usageMetadata = response.usageMetadata;\n        }\n    }\n    return aggregatedResponse;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function generateContentStream(apiKey, model, params, requestOptions) {\n    const response = await makeModelRequest(model, Task.STREAM_GENERATE_CONTENT, apiKey, \n    /* stream */ true, JSON.stringify(params), requestOptions);\n    return processStream(response);\n}\nasync function generateContent(apiKey, model, params, requestOptions) {\n    const response = await makeModelRequest(model, Task.GENERATE_CONTENT, apiKey, \n    /* stream */ false, JSON.stringify(params), requestOptions);\n    const responseJson = await response.json();\n    const enhancedResponse = addHelpers(responseJson);\n    return {\n        response: enhancedResponse,\n    };\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction formatSystemInstruction(input) {\n    // null or undefined\n    if (input == null) {\n        return undefined;\n    }\n    else if (typeof input === \"string\") {\n        return { role: \"system\", parts: [{ text: input }] };\n    }\n    else if (input.text) {\n        return { role: \"system\", parts: [input] };\n    }\n    else if (input.parts) {\n        if (!input.role) {\n            return { role: \"system\", parts: input.parts };\n        }\n        else {\n            return input;\n        }\n    }\n}\nfunction formatNewContent(request) {\n    let newParts = [];\n    if (typeof request === \"string\") {\n        newParts = [{ text: request }];\n    }\n    else {\n        for (const partOrString of request) {\n            if (typeof partOrString === \"string\") {\n                newParts.push({ text: partOrString });\n            }\n            else {\n                newParts.push(partOrString);\n            }\n        }\n    }\n    return assignRoleToPartsAndValidateSendMessageRequest(newParts);\n}\n/**\n * When multiple Part types (i.e. FunctionResponsePart and TextPart) are\n * passed in a single Part array, we may need to assign different roles to each\n * part. Currently only FunctionResponsePart requires a role other than 'user'.\n * @private\n * @param parts Array of parts to pass to the model\n * @returns Array of content items\n */\nfunction assignRoleToPartsAndValidateSendMessageRequest(parts) {\n    const userContent = { role: \"user\", parts: [] };\n    const functionContent = { role: \"function\", parts: [] };\n    let hasUserContent = false;\n    let hasFunctionContent = false;\n    for (const part of parts) {\n        if (\"functionResponse\" in part) {\n            functionContent.parts.push(part);\n            hasFunctionContent = true;\n        }\n        else {\n            userContent.parts.push(part);\n            hasUserContent = true;\n        }\n    }\n    if (hasUserContent && hasFunctionContent) {\n        throw new GoogleGenerativeAIError(\"Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.\");\n    }\n    if (!hasUserContent && !hasFunctionContent) {\n        throw new GoogleGenerativeAIError(\"No content is provided for sending chat message.\");\n    }\n    if (hasUserContent) {\n        return userContent;\n    }\n    return functionContent;\n}\nfunction formatCountTokensInput(params, modelParams) {\n    var _a;\n    let formattedGenerateContentRequest = {\n        model: modelParams === null || modelParams === void 0 ? void 0 : modelParams.model,\n        generationConfig: modelParams === null || modelParams === void 0 ? void 0 : modelParams.generationConfig,\n        safetySettings: modelParams === null || modelParams === void 0 ? void 0 : modelParams.safetySettings,\n        tools: modelParams === null || modelParams === void 0 ? void 0 : modelParams.tools,\n        toolConfig: modelParams === null || modelParams === void 0 ? void 0 : modelParams.toolConfig,\n        systemInstruction: modelParams === null || modelParams === void 0 ? void 0 : modelParams.systemInstruction,\n        cachedContent: (_a = modelParams === null || modelParams === void 0 ? void 0 : modelParams.cachedContent) === null || _a === void 0 ? void 0 : _a.name,\n        contents: [],\n    };\n    const containsGenerateContentRequest = params.generateContentRequest != null;\n    if (params.contents) {\n        if (containsGenerateContentRequest) {\n            throw new GoogleGenerativeAIRequestInputError(\"CountTokensRequest must have one of contents or generateContentRequest, not both.\");\n        }\n        formattedGenerateContentRequest.contents = params.contents;\n    }\n    else if (containsGenerateContentRequest) {\n        formattedGenerateContentRequest = Object.assign(Object.assign({}, formattedGenerateContentRequest), params.generateContentRequest);\n    }\n    else {\n        // Array or string\n        const content = formatNewContent(params);\n        formattedGenerateContentRequest.contents = [content];\n    }\n    return { generateContentRequest: formattedGenerateContentRequest };\n}\nfunction formatGenerateContentInput(params) {\n    let formattedRequest;\n    if (params.contents) {\n        formattedRequest = params;\n    }\n    else {\n        // Array or string\n        const content = formatNewContent(params);\n        formattedRequest = { contents: [content] };\n    }\n    if (params.systemInstruction) {\n        formattedRequest.systemInstruction = formatSystemInstruction(params.systemInstruction);\n    }\n    return formattedRequest;\n}\nfunction formatEmbedContentInput(params) {\n    if (typeof params === \"string\" || Array.isArray(params)) {\n        const content = formatNewContent(params);\n        return { content };\n    }\n    return params;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// https://ai.google.dev/api/rest/v1beta/Content#part\nconst VALID_PART_FIELDS = [\n    \"text\",\n    \"inlineData\",\n    \"functionCall\",\n    \"functionResponse\",\n    \"executableCode\",\n    \"codeExecutionResult\",\n];\nconst VALID_PARTS_PER_ROLE = {\n    user: [\"text\", \"inlineData\"],\n    function: [\"functionResponse\"],\n    model: [\"text\", \"functionCall\", \"executableCode\", \"codeExecutionResult\"],\n    // System instructions shouldn't be in history anyway.\n    system: [\"text\"],\n};\nfunction validateChatHistory(history) {\n    let prevContent = false;\n    for (const currContent of history) {\n        const { role, parts } = currContent;\n        if (!prevContent && role !== \"user\") {\n            throw new GoogleGenerativeAIError(`First content should be with role 'user', got ${role}`);\n        }\n        if (!POSSIBLE_ROLES.includes(role)) {\n            throw new GoogleGenerativeAIError(`Each item should include role field. Got ${role} but valid roles are: ${JSON.stringify(POSSIBLE_ROLES)}`);\n        }\n        if (!Array.isArray(parts)) {\n            throw new GoogleGenerativeAIError(\"Content should have 'parts' property with an array of Parts\");\n        }\n        if (parts.length === 0) {\n            throw new GoogleGenerativeAIError(\"Each Content should have at least one part\");\n        }\n        const countFields = {\n            text: 0,\n            inlineData: 0,\n            functionCall: 0,\n            functionResponse: 0,\n            fileData: 0,\n            executableCode: 0,\n            codeExecutionResult: 0,\n        };\n        for (const part of parts) {\n            for (const key of VALID_PART_FIELDS) {\n                if (key in part) {\n                    countFields[key] += 1;\n                }\n            }\n        }\n        const validParts = VALID_PARTS_PER_ROLE[role];\n        for (const key of VALID_PART_FIELDS) {\n            if (!validParts.includes(key) && countFields[key] > 0) {\n                throw new GoogleGenerativeAIError(`Content with role '${role}' can't contain '${key}' part`);\n            }\n        }\n        prevContent = true;\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Do not log a message for this error.\n */\nconst SILENT_ERROR = \"SILENT_ERROR\";\n/**\n * ChatSession class that enables sending chat messages and stores\n * history of sent and received messages so far.\n *\n * @public\n */\nclass ChatSession {\n    constructor(apiKey, model, params, _requestOptions = {}) {\n        this.model = model;\n        this.params = params;\n        this._requestOptions = _requestOptions;\n        this._history = [];\n        this._sendPromise = Promise.resolve();\n        this._apiKey = apiKey;\n        if (params === null || params === void 0 ? void 0 : params.history) {\n            validateChatHistory(params.history);\n            this._history = params.history;\n        }\n    }\n    /**\n     * Gets the chat history so far. Blocked prompts are not added to history.\n     * Blocked candidates are not added to history, nor are the prompts that\n     * generated them.\n     */\n    async getHistory() {\n        await this._sendPromise;\n        return this._history;\n    }\n    /**\n     * Sends a chat message and receives a non-streaming\n     * {@link GenerateContentResult}.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async sendMessage(request, requestOptions = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        await this._sendPromise;\n        const newContent = formatNewContent(request);\n        const generateContentRequest = {\n            safetySettings: (_a = this.params) === null || _a === void 0 ? void 0 : _a.safetySettings,\n            generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,\n            tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,\n            toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,\n            systemInstruction: (_e = this.params) === null || _e === void 0 ? void 0 : _e.systemInstruction,\n            cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,\n            contents: [...this._history, newContent],\n        };\n        const chatSessionRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        let finalResult;\n        // Add onto the chain.\n        this._sendPromise = this._sendPromise\n            .then(() => generateContent(this._apiKey, this.model, generateContentRequest, chatSessionRequestOptions))\n            .then((result) => {\n            var _a;\n            if (result.response.candidates &&\n                result.response.candidates.length > 0) {\n                this._history.push(newContent);\n                const responseContent = Object.assign({ parts: [], \n                    // Response seems to come back without a role set.\n                    role: \"model\" }, (_a = result.response.candidates) === null || _a === void 0 ? void 0 : _a[0].content);\n                this._history.push(responseContent);\n            }\n            else {\n                const blockErrorMessage = formatBlockErrorMessage(result.response);\n                if (blockErrorMessage) {\n                    console.warn(`sendMessage() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`);\n                }\n            }\n            finalResult = result;\n        });\n        await this._sendPromise;\n        return finalResult;\n    }\n    /**\n     * Sends a chat message and receives the response as a\n     * {@link GenerateContentStreamResult} containing an iterable stream\n     * and a response promise.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async sendMessageStream(request, requestOptions = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        await this._sendPromise;\n        const newContent = formatNewContent(request);\n        const generateContentRequest = {\n            safetySettings: (_a = this.params) === null || _a === void 0 ? void 0 : _a.safetySettings,\n            generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,\n            tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,\n            toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,\n            systemInstruction: (_e = this.params) === null || _e === void 0 ? void 0 : _e.systemInstruction,\n            cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,\n            contents: [...this._history, newContent],\n        };\n        const chatSessionRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        const streamPromise = generateContentStream(this._apiKey, this.model, generateContentRequest, chatSessionRequestOptions);\n        // Add onto the chain.\n        this._sendPromise = this._sendPromise\n            .then(() => streamPromise)\n            // This must be handled to avoid unhandled rejection, but jump\n            // to the final catch block with a label to not log this error.\n            .catch((_ignored) => {\n            throw new Error(SILENT_ERROR);\n        })\n            .then((streamResult) => streamResult.response)\n            .then((response) => {\n            if (response.candidates && response.candidates.length > 0) {\n                this._history.push(newContent);\n                const responseContent = Object.assign({}, response.candidates[0].content);\n                // Response seems to come back without a role set.\n                if (!responseContent.role) {\n                    responseContent.role = \"model\";\n                }\n                this._history.push(responseContent);\n            }\n            else {\n                const blockErrorMessage = formatBlockErrorMessage(response);\n                if (blockErrorMessage) {\n                    console.warn(`sendMessageStream() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`);\n                }\n            }\n        })\n            .catch((e) => {\n            // Errors in streamPromise are already catchable by the user as\n            // streamPromise is returned.\n            // Avoid duplicating the error message in logs.\n            if (e.message !== SILENT_ERROR) {\n                // Users do not have access to _sendPromise to catch errors\n                // downstream from streamPromise, so they should not throw.\n                console.error(e);\n            }\n        });\n        return streamPromise;\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function countTokens(apiKey, model, params, singleRequestOptions) {\n    const response = await makeModelRequest(model, Task.COUNT_TOKENS, apiKey, false, JSON.stringify(params), singleRequestOptions);\n    return response.json();\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function embedContent(apiKey, model, params, requestOptions) {\n    const response = await makeModelRequest(model, Task.EMBED_CONTENT, apiKey, false, JSON.stringify(params), requestOptions);\n    return response.json();\n}\nasync function batchEmbedContents(apiKey, model, params, requestOptions) {\n    const requestsWithModel = params.requests.map((request) => {\n        return Object.assign(Object.assign({}, request), { model });\n    });\n    const response = await makeModelRequest(model, Task.BATCH_EMBED_CONTENTS, apiKey, false, JSON.stringify({ requests: requestsWithModel }), requestOptions);\n    return response.json();\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Class for generative model APIs.\n * @public\n */\nclass GenerativeModel {\n    constructor(apiKey, modelParams, _requestOptions = {}) {\n        this.apiKey = apiKey;\n        this._requestOptions = _requestOptions;\n        if (modelParams.model.includes(\"/\")) {\n            // Models may be named \"models/model-name\" or \"tunedModels/model-name\"\n            this.model = modelParams.model;\n        }\n        else {\n            // If path is not included, assume it's a non-tuned model.\n            this.model = `models/${modelParams.model}`;\n        }\n        this.generationConfig = modelParams.generationConfig || {};\n        this.safetySettings = modelParams.safetySettings || [];\n        this.tools = modelParams.tools;\n        this.toolConfig = modelParams.toolConfig;\n        this.systemInstruction = formatSystemInstruction(modelParams.systemInstruction);\n        this.cachedContent = modelParams.cachedContent;\n    }\n    /**\n     * Makes a single non-streaming call to the model\n     * and returns an object containing a single {@link GenerateContentResponse}.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async generateContent(request, requestOptions = {}) {\n        var _a;\n        const formattedParams = formatGenerateContentInput(request);\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return generateContent(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name }, formattedParams), generativeModelRequestOptions);\n    }\n    /**\n     * Makes a single streaming call to the model and returns an object\n     * containing an iterable stream that iterates over all chunks in the\n     * streaming response as well as a promise that returns the final\n     * aggregated response.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async generateContentStream(request, requestOptions = {}) {\n        var _a;\n        const formattedParams = formatGenerateContentInput(request);\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return generateContentStream(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name }, formattedParams), generativeModelRequestOptions);\n    }\n    /**\n     * Gets a new {@link ChatSession} instance which can be used for\n     * multi-turn chats.\n     */\n    startChat(startChatParams) {\n        var _a;\n        return new ChatSession(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name }, startChatParams), this._requestOptions);\n    }\n    /**\n     * Counts the tokens in the provided request.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async countTokens(request, requestOptions = {}) {\n        const formattedParams = formatCountTokensInput(request, {\n            model: this.model,\n            generationConfig: this.generationConfig,\n            safetySettings: this.safetySettings,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n            cachedContent: this.cachedContent,\n        });\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return countTokens(this.apiKey, this.model, formattedParams, generativeModelRequestOptions);\n    }\n    /**\n     * Embeds the provided content.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async embedContent(request, requestOptions = {}) {\n        const formattedParams = formatEmbedContentInput(request);\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return embedContent(this.apiKey, this.model, formattedParams, generativeModelRequestOptions);\n    }\n    /**\n     * Embeds an array of {@link EmbedContentRequest}s.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async batchEmbedContents(batchEmbedContentRequest, requestOptions = {}) {\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return batchEmbedContents(this.apiKey, this.model, batchEmbedContentRequest, generativeModelRequestOptions);\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Top-level class for this SDK\n * @public\n */\nclass GoogleGenerativeAI {\n    constructor(apiKey) {\n        this.apiKey = apiKey;\n    }\n    /**\n     * Gets a {@link GenerativeModel} instance for the provided model name.\n     */\n    getGenerativeModel(modelParams, requestOptions) {\n        if (!modelParams.model) {\n            throw new GoogleGenerativeAIError(`Must provide a model name. ` +\n                `Example: genai.getGenerativeModel({ model: 'my-model-name' })`);\n        }\n        return new GenerativeModel(this.apiKey, modelParams, requestOptions);\n    }\n    /**\n     * Creates a {@link GenerativeModel} instance from provided content cache.\n     */\n    getGenerativeModelFromCachedContent(cachedContent, modelParams, requestOptions) {\n        if (!cachedContent.name) {\n            throw new GoogleGenerativeAIRequestInputError(\"Cached content must contain a `name` field.\");\n        }\n        if (!cachedContent.model) {\n            throw new GoogleGenerativeAIRequestInputError(\"Cached content must contain a `model` field.\");\n        }\n        /**\n         * Not checking tools and toolConfig for now as it would require a deep\n         * equality comparison and isn't likely to be a common case.\n         */\n        const disallowedDuplicates = [\"model\", \"systemInstruction\"];\n        for (const key of disallowedDuplicates) {\n            if ((modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) &&\n                cachedContent[key] &&\n                (modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) !== cachedContent[key]) {\n                if (key === \"model\") {\n                    const modelParamsComp = modelParams.model.startsWith(\"models/\")\n                        ? modelParams.model.replace(\"models/\", \"\")\n                        : modelParams.model;\n                    const cachedContentComp = cachedContent.model.startsWith(\"models/\")\n                        ? cachedContent.model.replace(\"models/\", \"\")\n                        : cachedContent.model;\n                    if (modelParamsComp === cachedContentComp) {\n                        continue;\n                    }\n                }\n                throw new GoogleGenerativeAIRequestInputError(`Different value for \"${key}\" specified in modelParams` +\n                    ` (${modelParams[key]}) and cachedContent (${cachedContent[key]})`);\n            }\n        }\n        const modelParamsFromCache = Object.assign(Object.assign({}, modelParams), { model: cachedContent.model, tools: cachedContent.tools, toolConfig: cachedContent.toolConfig, systemInstruction: cachedContent.systemInstruction, cachedContent });\n        return new GenerativeModel(this.apiKey, modelParamsFromCache, requestOptions);\n    }\n}\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmVyYXRpdmUtYWkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdEQUF3RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBDQUEwQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtDQUFrQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrREFBa0Q7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9EQUFvRDs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQkFBb0I7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QTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsSUFBSTtBQUMxRix5QkFBeUIsaUJBQWlCLHVCQUF1QixtQkFBbUI7QUFDcEY7QUFDQTtBQUNBLG1FQUFtRSxrQkFBa0IsaUtBQWlLO0FBQ3RQO0FBQ0E7QUFDQTs7QUFFeVg7QUFDelgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuZXJhdGl2ZS1haS9kaXN0L2luZGV4Lm1qcz9kMmE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udGFpbnMgdGhlIGxpc3Qgb2YgT3BlbkFQSSBkYXRhIHR5cGVzXG4gKiBhcyBkZWZpbmVkIGJ5IGh0dHBzOi8vc3dhZ2dlci5pby9kb2NzL3NwZWNpZmljYXRpb24vZGF0YS1tb2RlbHMvZGF0YS10eXBlcy9cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFNjaGVtYVR5cGU7XG4oZnVuY3Rpb24gKFNjaGVtYVR5cGUpIHtcbiAgICAvKiogU3RyaW5nIHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIlNUUklOR1wiXSA9IFwic3RyaW5nXCI7XG4gICAgLyoqIE51bWJlciB0eXBlLiAqL1xuICAgIFNjaGVtYVR5cGVbXCJOVU1CRVJcIl0gPSBcIm51bWJlclwiO1xuICAgIC8qKiBJbnRlZ2VyIHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIklOVEVHRVJcIl0gPSBcImludGVnZXJcIjtcbiAgICAvKiogQm9vbGVhbiB0eXBlLiAqL1xuICAgIFNjaGVtYVR5cGVbXCJCT09MRUFOXCJdID0gXCJib29sZWFuXCI7XG4gICAgLyoqIEFycmF5IHR5cGUuICovXG4gICAgU2NoZW1hVHlwZVtcIkFSUkFZXCJdID0gXCJhcnJheVwiO1xuICAgIC8qKiBPYmplY3QgdHlwZS4gKi9cbiAgICBTY2hlbWFUeXBlW1wiT0JKRUNUXCJdID0gXCJvYmplY3RcIjtcbn0pKFNjaGVtYVR5cGUgfHwgKFNjaGVtYVR5cGUgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbnZhciBFeGVjdXRhYmxlQ29kZUxhbmd1YWdlO1xuKGZ1bmN0aW9uIChFeGVjdXRhYmxlQ29kZUxhbmd1YWdlKSB7XG4gICAgRXhlY3V0YWJsZUNvZGVMYW5ndWFnZVtcIkxBTkdVQUdFX1VOU1BFQ0lGSUVEXCJdID0gXCJsYW5ndWFnZV91bnNwZWNpZmllZFwiO1xuICAgIEV4ZWN1dGFibGVDb2RlTGFuZ3VhZ2VbXCJQWVRIT05cIl0gPSBcInB5dGhvblwiO1xufSkoRXhlY3V0YWJsZUNvZGVMYW5ndWFnZSB8fCAoRXhlY3V0YWJsZUNvZGVMYW5ndWFnZSA9IHt9KSk7XG4vKipcbiAqIFBvc3NpYmxlIG91dGNvbWVzIG9mIGNvZGUgZXhlY3V0aW9uLlxuICogQHB1YmxpY1xuICovXG52YXIgT3V0Y29tZTtcbihmdW5jdGlvbiAoT3V0Y29tZSkge1xuICAgIC8qKlxuICAgICAqIFVuc3BlY2lmaWVkIHN0YXR1cy4gVGhpcyB2YWx1ZSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICovXG4gICAgT3V0Y29tZVtcIk9VVENPTUVfVU5TUEVDSUZJRURcIl0gPSBcIm91dGNvbWVfdW5zcGVjaWZpZWRcIjtcbiAgICAvKipcbiAgICAgKiBDb2RlIGV4ZWN1dGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAqL1xuICAgIE91dGNvbWVbXCJPVVRDT01FX09LXCJdID0gXCJvdXRjb21lX29rXCI7XG4gICAgLyoqXG4gICAgICogQ29kZSBleGVjdXRpb24gZmluaXNoZWQgYnV0IHdpdGggYSBmYWlsdXJlLiBgc3RkZXJyYCBzaG91bGQgY29udGFpbiB0aGVcbiAgICAgKiByZWFzb24uXG4gICAgICovXG4gICAgT3V0Y29tZVtcIk9VVENPTUVfRkFJTEVEXCJdID0gXCJvdXRjb21lX2ZhaWxlZFwiO1xuICAgIC8qKlxuICAgICAqIENvZGUgZXhlY3V0aW9uIHJhbiBmb3IgdG9vIGxvbmcsIGFuZCB3YXMgY2FuY2VsbGVkLiBUaGVyZSBtYXkgb3IgbWF5IG5vdFxuICAgICAqIGJlIGEgcGFydGlhbCBvdXRwdXQgcHJlc2VudC5cbiAgICAgKi9cbiAgICBPdXRjb21lW1wiT1VUQ09NRV9ERUFETElORV9FWENFRURFRFwiXSA9IFwib3V0Y29tZV9kZWFkbGluZV9leGNlZWRlZFwiO1xufSkoT3V0Y29tZSB8fCAoT3V0Y29tZSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFBvc3NpYmxlIHJvbGVzLlxuICogQHB1YmxpY1xuICovXG5jb25zdCBQT1NTSUJMRV9ST0xFUyA9IFtcInVzZXJcIiwgXCJtb2RlbFwiLCBcImZ1bmN0aW9uXCIsIFwic3lzdGVtXCJdO1xuLyoqXG4gKiBIYXJtIGNhdGVnb3JpZXMgdGhhdCB3b3VsZCBjYXVzZSBwcm9tcHRzIG9yIGNhbmRpZGF0ZXMgdG8gYmUgYmxvY2tlZC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIEhhcm1DYXRlZ29yeTtcbihmdW5jdGlvbiAoSGFybUNhdGVnb3J5KSB7XG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9DQVRFR09SWV9VTlNQRUNJRklFRFwiO1xuICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0hcIl0gPSBcIkhBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0hcIjtcbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCJdID0gXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCI7XG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9IQVJBU1NNRU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlRcIjtcbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCI7XG59KShIYXJtQ2F0ZWdvcnkgfHwgKEhhcm1DYXRlZ29yeSA9IHt9KSk7XG4vKipcbiAqIFRocmVzaG9sZCBhYm92ZSB3aGljaCBhIHByb21wdCBvciBjYW5kaWRhdGUgd2lsbCBiZSBibG9ja2VkLlxuICogQHB1YmxpY1xuICovXG52YXIgSGFybUJsb2NrVGhyZXNob2xkO1xuKGZ1bmN0aW9uIChIYXJtQmxvY2tUaHJlc2hvbGQpIHtcbiAgICAvLyBUaHJlc2hvbGQgaXMgdW5zcGVjaWZpZWQuXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiSEFSTV9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRURcIl0gPSBcIkhBUk1fQkxPQ0tfVEhSRVNIT0xEX1VOU1BFQ0lGSUVEXCI7XG4gICAgLy8gQ29udGVudCB3aXRoIE5FR0xJR0lCTEUgd2lsbCBiZSBhbGxvd2VkLlxuICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkJMT0NLX0xPV19BTkRfQUJPVkVcIl0gPSBcIkJMT0NLX0xPV19BTkRfQUJPVkVcIjtcbiAgICAvLyBDb250ZW50IHdpdGggTkVHTElHSUJMRSBhbmQgTE9XIHdpbGwgYmUgYWxsb3dlZC5cbiAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCJdID0gXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCI7XG4gICAgLy8gQ29udGVudCB3aXRoIE5FR0xJR0lCTEUsIExPVywgYW5kIE1FRElVTSB3aWxsIGJlIGFsbG93ZWQuXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfT05MWV9ISUdIXCJdID0gXCJCTE9DS19PTkxZX0hJR0hcIjtcbiAgICAvLyBBbGwgY29udGVudCB3aWxsIGJlIGFsbG93ZWQuXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfTk9ORVwiXSA9IFwiQkxPQ0tfTk9ORVwiO1xufSkoSGFybUJsb2NrVGhyZXNob2xkIHx8IChIYXJtQmxvY2tUaHJlc2hvbGQgPSB7fSkpO1xuLyoqXG4gKiBQcm9iYWJpbGl0eSB0aGF0IGEgcHJvbXB0IG9yIGNhbmRpZGF0ZSBtYXRjaGVzIGEgaGFybSBjYXRlZ29yeS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIEhhcm1Qcm9iYWJpbGl0eTtcbihmdW5jdGlvbiAoSGFybVByb2JhYmlsaXR5KSB7XG4gICAgLy8gUHJvYmFiaWxpdHkgaXMgdW5zcGVjaWZpZWQuXG4gICAgSGFybVByb2JhYmlsaXR5W1wiSEFSTV9QUk9CQUJJTElUWV9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9QUk9CQUJJTElUWV9VTlNQRUNJRklFRFwiO1xuICAgIC8vIENvbnRlbnQgaGFzIGEgbmVnbGlnaWJsZSBjaGFuY2Ugb2YgYmVpbmcgdW5zYWZlLlxuICAgIEhhcm1Qcm9iYWJpbGl0eVtcIk5FR0xJR0lCTEVcIl0gPSBcIk5FR0xJR0lCTEVcIjtcbiAgICAvLyBDb250ZW50IGhhcyBhIGxvdyBjaGFuY2Ugb2YgYmVpbmcgdW5zYWZlLlxuICAgIEhhcm1Qcm9iYWJpbGl0eVtcIkxPV1wiXSA9IFwiTE9XXCI7XG4gICAgLy8gQ29udGVudCBoYXMgYSBtZWRpdW0gY2hhbmNlIG9mIGJlaW5nIHVuc2FmZS5cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJNRURJVU1cIl0gPSBcIk1FRElVTVwiO1xuICAgIC8vIENvbnRlbnQgaGFzIGEgaGlnaCBjaGFuY2Ugb2YgYmVpbmcgdW5zYWZlLlxuICAgIEhhcm1Qcm9iYWJpbGl0eVtcIkhJR0hcIl0gPSBcIkhJR0hcIjtcbn0pKEhhcm1Qcm9iYWJpbGl0eSB8fCAoSGFybVByb2JhYmlsaXR5ID0ge30pKTtcbi8qKlxuICogUmVhc29uIHRoYXQgYSBwcm9tcHQgd2FzIGJsb2NrZWQuXG4gKiBAcHVibGljXG4gKi9cbnZhciBCbG9ja1JlYXNvbjtcbihmdW5jdGlvbiAoQmxvY2tSZWFzb24pIHtcbiAgICAvLyBBIGJsb2NrZWQgcmVhc29uIHdhcyBub3Qgc3BlY2lmaWVkLlxuICAgIEJsb2NrUmVhc29uW1wiQkxPQ0tFRF9SRUFTT05fVU5TUEVDSUZJRURcIl0gPSBcIkJMT0NLRURfUkVBU09OX1VOU1BFQ0lGSUVEXCI7XG4gICAgLy8gQ29udGVudCB3YXMgYmxvY2tlZCBieSBzYWZldHkgc2V0dGluZ3MuXG4gICAgQmxvY2tSZWFzb25bXCJTQUZFVFlcIl0gPSBcIlNBRkVUWVwiO1xuICAgIC8vIENvbnRlbnQgd2FzIGJsb2NrZWQsIGJ1dCB0aGUgcmVhc29uIGlzIHVuY2F0ZWdvcml6ZWQuXG4gICAgQmxvY2tSZWFzb25bXCJPVEhFUlwiXSA9IFwiT1RIRVJcIjtcbn0pKEJsb2NrUmVhc29uIHx8IChCbG9ja1JlYXNvbiA9IHt9KSk7XG4vKipcbiAqIFJlYXNvbiB0aGF0IGEgY2FuZGlkYXRlIGZpbmlzaGVkLlxuICogQHB1YmxpY1xuICovXG52YXIgRmluaXNoUmVhc29uO1xuKGZ1bmN0aW9uIChGaW5pc2hSZWFzb24pIHtcbiAgICAvLyBEZWZhdWx0IHZhbHVlLiBUaGlzIHZhbHVlIGlzIHVudXNlZC5cbiAgICBGaW5pc2hSZWFzb25bXCJGSU5JU0hfUkVBU09OX1VOU1BFQ0lGSUVEXCJdID0gXCJGSU5JU0hfUkVBU09OX1VOU1BFQ0lGSUVEXCI7XG4gICAgLy8gTmF0dXJhbCBzdG9wIHBvaW50IG9mIHRoZSBtb2RlbCBvciBwcm92aWRlZCBzdG9wIHNlcXVlbmNlLlxuICAgIEZpbmlzaFJlYXNvbltcIlNUT1BcIl0gPSBcIlNUT1BcIjtcbiAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIGFzIHNwZWNpZmllZCBpbiB0aGUgcmVxdWVzdCB3YXMgcmVhY2hlZC5cbiAgICBGaW5pc2hSZWFzb25bXCJNQVhfVE9LRU5TXCJdID0gXCJNQVhfVE9LRU5TXCI7XG4gICAgLy8gVGhlIGNhbmRpZGF0ZSBjb250ZW50IHdhcyBmbGFnZ2VkIGZvciBzYWZldHkgcmVhc29ucy5cbiAgICBGaW5pc2hSZWFzb25bXCJTQUZFVFlcIl0gPSBcIlNBRkVUWVwiO1xuICAgIC8vIFRoZSBjYW5kaWRhdGUgY29udGVudCB3YXMgZmxhZ2dlZCBmb3IgcmVjaXRhdGlvbiByZWFzb25zLlxuICAgIEZpbmlzaFJlYXNvbltcIlJFQ0lUQVRJT05cIl0gPSBcIlJFQ0lUQVRJT05cIjtcbiAgICAvLyBUaGUgY2FuZGlkYXRlIGNvbnRlbnQgd2FzIGZsYWdnZWQgZm9yIHVzaW5nIGFuIHVuc3VwcG9ydGVkIGxhbmd1YWdlLlxuICAgIEZpbmlzaFJlYXNvbltcIkxBTkdVQUdFXCJdID0gXCJMQU5HVUFHRVwiO1xuICAgIC8vIFVua25vd24gcmVhc29uLlxuICAgIEZpbmlzaFJlYXNvbltcIk9USEVSXCJdID0gXCJPVEhFUlwiO1xufSkoRmluaXNoUmVhc29uIHx8IChGaW5pc2hSZWFzb24gPSB7fSkpO1xuLyoqXG4gKiBUYXNrIHR5cGUgZm9yIGVtYmVkZGluZyBjb250ZW50LlxuICogQHB1YmxpY1xuICovXG52YXIgVGFza1R5cGU7XG4oZnVuY3Rpb24gKFRhc2tUeXBlKSB7XG4gICAgVGFza1R5cGVbXCJUQVNLX1RZUEVfVU5TUEVDSUZJRURcIl0gPSBcIlRBU0tfVFlQRV9VTlNQRUNJRklFRFwiO1xuICAgIFRhc2tUeXBlW1wiUkVUUklFVkFMX1FVRVJZXCJdID0gXCJSRVRSSUVWQUxfUVVFUllcIjtcbiAgICBUYXNrVHlwZVtcIlJFVFJJRVZBTF9ET0NVTUVOVFwiXSA9IFwiUkVUUklFVkFMX0RPQ1VNRU5UXCI7XG4gICAgVGFza1R5cGVbXCJTRU1BTlRJQ19TSU1JTEFSSVRZXCJdID0gXCJTRU1BTlRJQ19TSU1JTEFSSVRZXCI7XG4gICAgVGFza1R5cGVbXCJDTEFTU0lGSUNBVElPTlwiXSA9IFwiQ0xBU1NJRklDQVRJT05cIjtcbiAgICBUYXNrVHlwZVtcIkNMVVNURVJJTkdcIl0gPSBcIkNMVVNURVJJTkdcIjtcbn0pKFRhc2tUeXBlIHx8IChUYXNrVHlwZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEZ1bmN0aW9uQ2FsbGluZ01vZGU7XG4oZnVuY3Rpb24gKEZ1bmN0aW9uQ2FsbGluZ01vZGUpIHtcbiAgICAvLyBVbnNwZWNpZmllZCBmdW5jdGlvbiBjYWxsaW5nIG1vZGUuIFRoaXMgdmFsdWUgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgIEZ1bmN0aW9uQ2FsbGluZ01vZGVbXCJNT0RFX1VOU1BFQ0lGSUVEXCJdID0gXCJNT0RFX1VOU1BFQ0lGSUVEXCI7XG4gICAgLy8gRGVmYXVsdCBtb2RlbCBiZWhhdmlvciwgbW9kZWwgZGVjaWRlcyB0byBwcmVkaWN0IGVpdGhlciBhIGZ1bmN0aW9uIGNhbGxcbiAgICAvLyBvciBhIG5hdHVyYWwgbGFuZ3VhZ2UgcmVwc3Bvc2UuXG4gICAgRnVuY3Rpb25DYWxsaW5nTW9kZVtcIkFVVE9cIl0gPSBcIkFVVE9cIjtcbiAgICAvLyBNb2RlbCBpcyBjb25zdHJhaW5lZCB0byBhbHdheXMgcHJlZGljdGluZyBhIGZ1bmN0aW9uIGNhbGwgb25seS5cbiAgICAvLyBJZiBcImFsbG93ZWRfZnVuY3Rpb25fbmFtZXNcIiBhcmUgc2V0LCB0aGUgcHJlZGljdGVkIGZ1bmN0aW9uIGNhbGwgd2lsbCBiZVxuICAgIC8vIGxpbWl0ZWQgdG8gYW55IG9uZSBvZiBcImFsbG93ZWRfZnVuY3Rpb25fbmFtZXNcIiwgZWxzZSB0aGUgcHJlZGljdGVkXG4gICAgLy8gZnVuY3Rpb24gY2FsbCB3aWxsIGJlIGFueSBvbmUgb2YgdGhlIHByb3ZpZGVkIFwiZnVuY3Rpb25fZGVjbGFyYXRpb25zXCIuXG4gICAgRnVuY3Rpb25DYWxsaW5nTW9kZVtcIkFOWVwiXSA9IFwiQU5ZXCI7XG4gICAgLy8gTW9kZWwgd2lsbCBub3QgcHJlZGljdCBhbnkgZnVuY3Rpb24gY2FsbC4gTW9kZWwgYmVoYXZpb3IgaXMgc2FtZSBhcyB3aGVuXG4gICAgLy8gbm90IHBhc3NpbmcgYW55IGZ1bmN0aW9uIGRlY2xhcmF0aW9ucy5cbiAgICBGdW5jdGlvbkNhbGxpbmdNb2RlW1wiTk9ORVwiXSA9IFwiTk9ORVwiO1xufSkoRnVuY3Rpb25DYWxsaW5nTW9kZSB8fCAoRnVuY3Rpb25DYWxsaW5nTW9kZSA9IHt9KSk7XG4vKipcbiAqIFRoZSBtb2RlIG9mIHRoZSBwcmVkaWN0b3IgdG8gYmUgdXNlZCBpbiBkeW5hbWljIHJldHJpZXZhbC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIER5bmFtaWNSZXRyaWV2YWxNb2RlO1xuKGZ1bmN0aW9uIChEeW5hbWljUmV0cmlldmFsTW9kZSkge1xuICAgIC8vIFVuc3BlY2lmaWVkIGZ1bmN0aW9uIGNhbGxpbmcgbW9kZS4gVGhpcyB2YWx1ZSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgRHluYW1pY1JldHJpZXZhbE1vZGVbXCJNT0RFX1VOU1BFQ0lGSUVEXCJdID0gXCJNT0RFX1VOU1BFQ0lGSUVEXCI7XG4gICAgLy8gUnVuIHJldHJpZXZhbCBvbmx5IHdoZW4gc3lzdGVtIGRlY2lkZXMgaXQgaXMgbmVjZXNzYXJ5LlxuICAgIER5bmFtaWNSZXRyaWV2YWxNb2RlW1wiTU9ERV9EWU5BTUlDXCJdID0gXCJNT0RFX0RZTkFNSUNcIjtcbn0pKER5bmFtaWNSZXRyaWV2YWxNb2RlIHx8IChEeW5hbWljUmV0cmlldmFsTW9kZSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEJhc2ljIGVycm9yIHR5cGUgZm9yIHRoaXMgU0RLLlxuICogQHB1YmxpY1xuICovXG5jbGFzcyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKGBbR29vZ2xlR2VuZXJhdGl2ZUFJIEVycm9yXTogJHttZXNzYWdlfWApO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3JzIGluIHRoZSBjb250ZW50cyBvZiBhIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLiBUaGlzIGluY2x1ZGVzIHBhcnNpbmdcbiAqIGVycm9ycywgb3IgcmVzcG9uc2VzIGluY2x1ZGluZyBhIHNhZmV0eSBibG9jayByZWFzb24uXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB9XG59XG4vKipcbiAqIEVycm9yIGNsYXNzIGNvdmVyaW5nIEhUVFAgZXJyb3JzIHdoZW4gY2FsbGluZyB0aGUgc2VydmVyLiBJbmNsdWRlcyBIVFRQXG4gKiBzdGF0dXMsIHN0YXR1c1RleHQsIGFuZCBvcHRpb25hbCBkZXRhaWxzLCBpZiBwcm92aWRlZCBpbiB0aGUgc2VydmVyIHJlc3BvbnNlLlxuICogQHB1YmxpY1xuICovXG5jbGFzcyBHb29nbGVHZW5lcmF0aXZlQUlGZXRjaEVycm9yIGV4dGVuZHMgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cywgc3RhdHVzVGV4dCwgZXJyb3JEZXRhaWxzKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dDtcbiAgICAgICAgdGhpcy5lcnJvckRldGFpbHMgPSBlcnJvckRldGFpbHM7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvcnMgaW4gdGhlIGNvbnRlbnRzIG9mIGEgcmVxdWVzdCBvcmlnaW5hdGluZyBmcm9tIHVzZXIgaW5wdXQuXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yIGV4dGVuZHMgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3Ige1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgREVGQVVMVF9CQVNFX1VSTCA9IFwiaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb21cIjtcbmNvbnN0IERFRkFVTFRfQVBJX1ZFUlNJT04gPSBcInYxYmV0YVwiO1xuLyoqXG4gKiBXZSBjYW4ndCBgcmVxdWlyZWAgcGFja2FnZS5qc29uIGlmIHRoaXMgcnVucyBvbiB3ZWIuIFdlIHdpbGwgdXNlIHJvbGx1cCB0b1xuICogc3dhcCBpbiB0aGUgdmVyc2lvbiBudW1iZXIgaGVyZSBhdCBidWlsZCB0aW1lLlxuICovXG5jb25zdCBQQUNLQUdFX1ZFUlNJT04gPSBcIjAuMjEuMFwiO1xuY29uc3QgUEFDS0FHRV9MT0dfSEVBREVSID0gXCJnZW5haS1qc1wiO1xudmFyIFRhc2s7XG4oZnVuY3Rpb24gKFRhc2spIHtcbiAgICBUYXNrW1wiR0VORVJBVEVfQ09OVEVOVFwiXSA9IFwiZ2VuZXJhdGVDb250ZW50XCI7XG4gICAgVGFza1tcIlNUUkVBTV9HRU5FUkFURV9DT05URU5UXCJdID0gXCJzdHJlYW1HZW5lcmF0ZUNvbnRlbnRcIjtcbiAgICBUYXNrW1wiQ09VTlRfVE9LRU5TXCJdID0gXCJjb3VudFRva2Vuc1wiO1xuICAgIFRhc2tbXCJFTUJFRF9DT05URU5UXCJdID0gXCJlbWJlZENvbnRlbnRcIjtcbiAgICBUYXNrW1wiQkFUQ0hfRU1CRURfQ09OVEVOVFNcIl0gPSBcImJhdGNoRW1iZWRDb250ZW50c1wiO1xufSkoVGFzayB8fCAoVGFzayA9IHt9KSk7XG5jbGFzcyBSZXF1ZXN0VXJsIHtcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgdGFzaywgYXBpS2V5LCBzdHJlYW0sIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy50YXNrID0gdGFzaztcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICB0aGlzLnJlcXVlc3RPcHRpb25zID0gcmVxdWVzdE9wdGlvbnM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBhcGlWZXJzaW9uID0gKChfYSA9IHRoaXMucmVxdWVzdE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hcGlWZXJzaW9uKSB8fCBERUZBVUxUX0FQSV9WRVJTSU9OO1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gKChfYiA9IHRoaXMucmVxdWVzdE9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5iYXNlVXJsKSB8fCBERUZBVUxUX0JBU0VfVVJMO1xuICAgICAgICBsZXQgdXJsID0gYCR7YmFzZVVybH0vJHthcGlWZXJzaW9ufS8ke3RoaXMubW9kZWx9OiR7dGhpcy50YXNrfWA7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgdXJsICs9IFwiP2FsdD1zc2VcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbn1cbi8qKlxuICogU2ltcGxlLCBidXQgbWF5IGJlY29tZSBtb3JlIGNvbXBsZXggaWYgd2UgYWRkIG1vcmUgdmVyc2lvbnMgdG8gbG9nLlxuICovXG5mdW5jdGlvbiBnZXRDbGllbnRIZWFkZXJzKHJlcXVlc3RPcHRpb25zKSB7XG4gICAgY29uc3QgY2xpZW50SGVhZGVycyA9IFtdO1xuICAgIGlmIChyZXF1ZXN0T3B0aW9ucyA9PT0gbnVsbCB8fCByZXF1ZXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdE9wdGlvbnMuYXBpQ2xpZW50KSB7XG4gICAgICAgIGNsaWVudEhlYWRlcnMucHVzaChyZXF1ZXN0T3B0aW9ucy5hcGlDbGllbnQpO1xuICAgIH1cbiAgICBjbGllbnRIZWFkZXJzLnB1c2goYCR7UEFDS0FHRV9MT0dfSEVBREVSfS8ke1BBQ0tBR0VfVkVSU0lPTn1gKTtcbiAgICByZXR1cm4gY2xpZW50SGVhZGVycy5qb2luKFwiIFwiKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEhlYWRlcnModXJsKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICBoZWFkZXJzLmFwcGVuZChcIngtZ29vZy1hcGktY2xpZW50XCIsIGdldENsaWVudEhlYWRlcnModXJsLnJlcXVlc3RPcHRpb25zKSk7XG4gICAgaGVhZGVycy5hcHBlbmQoXCJ4LWdvb2ctYXBpLWtleVwiLCB1cmwuYXBpS2V5KTtcbiAgICBsZXQgY3VzdG9tSGVhZGVycyA9IChfYSA9IHVybC5yZXF1ZXN0T3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmN1c3RvbUhlYWRlcnM7XG4gICAgaWYgKGN1c3RvbUhlYWRlcnMpIHtcbiAgICAgICAgaWYgKCEoY3VzdG9tSGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGN1c3RvbUhlYWRlcnMgPSBuZXcgSGVhZGVycyhjdXN0b21IZWFkZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yKGB1bmFibGUgdG8gY29udmVydCBjdXN0b21IZWFkZXJzIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkoY3VzdG9tSGVhZGVycyl9IHRvIEhlYWRlcnM6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2hlYWRlck5hbWUsIGhlYWRlclZhbHVlXSBvZiBjdXN0b21IZWFkZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKGhlYWRlck5hbWUgPT09IFwieC1nb29nLWFwaS1rZXlcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlSZXF1ZXN0SW5wdXRFcnJvcihgQ2Fubm90IHNldCByZXNlcnZlZCBoZWFkZXIgbmFtZSAke2hlYWRlck5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkZXJOYW1lID09PSBcIngtZ29vZy1hcGktY2xpZW50XCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJUmVxdWVzdElucHV0RXJyb3IoYEhlYWRlciBuYW1lICR7aGVhZGVyTmFtZX0gY2FuIG9ubHkgYmUgc2V0IHVzaW5nIHRoZSBhcGlDbGllbnQgZmllbGRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKGhlYWRlck5hbWUsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGVhZGVycztcbn1cbmFzeW5jIGZ1bmN0aW9uIGNvbnN0cnVjdE1vZGVsUmVxdWVzdChtb2RlbCwgdGFzaywgYXBpS2V5LCBzdHJlYW0sIGJvZHksIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFJlcXVlc3RVcmwobW9kZWwsIHRhc2ssIGFwaUtleSwgc3RyZWFtLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiB1cmwudG9TdHJpbmcoKSxcbiAgICAgICAgZmV0Y2hPcHRpb25zOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGJ1aWxkRmV0Y2hPcHRpb25zKHJlcXVlc3RPcHRpb25zKSksIHsgbWV0aG9kOiBcIlBPU1RcIiwgaGVhZGVyczogYXdhaXQgZ2V0SGVhZGVycyh1cmwpLCBib2R5IH0pLFxuICAgIH07XG59XG5hc3luYyBmdW5jdGlvbiBtYWtlTW9kZWxSZXF1ZXN0KG1vZGVsLCB0YXNrLCBhcGlLZXksIHN0cmVhbSwgYm9keSwgcmVxdWVzdE9wdGlvbnMgPSB7fSwgXG4vLyBBbGxvd3MgdGhpcyB0byBiZSBzdHViYmVkIGZvciB0ZXN0c1xuZmV0Y2hGbiA9IGZldGNoKSB7XG4gICAgY29uc3QgeyB1cmwsIGZldGNoT3B0aW9ucyB9ID0gYXdhaXQgY29uc3RydWN0TW9kZWxSZXF1ZXN0KG1vZGVsLCB0YXNrLCBhcGlLZXksIHN0cmVhbSwgYm9keSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIHJldHVybiBtYWtlUmVxdWVzdCh1cmwsIGZldGNoT3B0aW9ucywgZmV0Y2hGbik7XG59XG5hc3luYyBmdW5jdGlvbiBtYWtlUmVxdWVzdCh1cmwsIGZldGNoT3B0aW9ucywgZmV0Y2hGbiA9IGZldGNoKSB7XG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hGbih1cmwsIGZldGNoT3B0aW9ucyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGhhbmRsZVJlc3BvbnNlRXJyb3IoZSwgdXJsKTtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZU5vdE9rKHJlc3BvbnNlLCB1cmwpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5mdW5jdGlvbiBoYW5kbGVSZXNwb25zZUVycm9yKGUsIHVybCkge1xuICAgIGxldCBlcnIgPSBlO1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBHb29nbGVHZW5lcmF0aXZlQUlGZXRjaEVycm9yIHx8XG4gICAgICAgIGUgaW5zdGFuY2VvZiBHb29nbGVHZW5lcmF0aXZlQUlSZXF1ZXN0SW5wdXRFcnJvcikpIHtcbiAgICAgICAgZXJyID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGBFcnJvciBmZXRjaGluZyBmcm9tICR7dXJsLnRvU3RyaW5nKCl9OiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgZXJyLnN0YWNrID0gZS5zdGFjaztcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2VOb3RPayhyZXNwb25zZSwgdXJsKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBcIlwiO1xuICAgIGxldCBlcnJvckRldGFpbHM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVzc2FnZSA9IGpzb24uZXJyb3IubWVzc2FnZTtcbiAgICAgICAgaWYgKGpzb24uZXJyb3IuZGV0YWlscykge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgICR7SlNPTi5zdHJpbmdpZnkoanNvbi5lcnJvci5kZXRhaWxzKX1gO1xuICAgICAgICAgICAgZXJyb3JEZXRhaWxzID0ganNvbi5lcnJvci5kZXRhaWxzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlnbm9yZWRcbiAgICB9XG4gICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUZldGNoRXJyb3IoYEVycm9yIGZldGNoaW5nIGZyb20gJHt1cmwudG9TdHJpbmcoKX06IFske3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fV0gJHttZXNzYWdlfWAsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCwgZXJyb3JEZXRhaWxzKTtcbn1cbi8qKlxuICogR2VuZXJhdGVzIHRoZSByZXF1ZXN0IG9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIHRoZSBmZXRjaCBBUEkuXG4gKiBAcGFyYW0gcmVxdWVzdE9wdGlvbnMgLSBUaGUgdXNlci1kZWZpbmVkIHJlcXVlc3Qgb3B0aW9ucy5cbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgcmVxdWVzdCBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBidWlsZEZldGNoT3B0aW9ucyhyZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IHt9O1xuICAgIGlmICgocmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLnNpZ25hbCkgIT09IHVuZGVmaW5lZCB8fCAocmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLnRpbWVvdXQpID49IDApIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgaWYgKChyZXF1ZXN0T3B0aW9ucyA9PT0gbnVsbCB8fCByZXF1ZXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdE9wdGlvbnMudGltZW91dCkgPj0gMCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIHJlcXVlc3RPcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1ZXN0T3B0aW9ucyA9PT0gbnVsbCB8fCByZXF1ZXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdE9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmZXRjaE9wdGlvbnMuc2lnbmFsID0gY29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuICAgIHJldHVybiBmZXRjaE9wdGlvbnM7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFkZHMgY29udmVuaWVuY2UgaGVscGVyIG1ldGhvZHMgdG8gYSByZXNwb25zZSBvYmplY3QsIGluY2x1ZGluZyBzdHJlYW1cbiAqIGNodW5rcyAoYXMgbG9uZyBhcyBlYWNoIGNodW5rIGlzIGEgY29tcGxldGUgR2VuZXJhdGVDb250ZW50UmVzcG9uc2UgSlNPTikuXG4gKi9cbmZ1bmN0aW9uIGFkZEhlbHBlcnMocmVzcG9uc2UpIHtcbiAgICByZXNwb25zZS50ZXh0ID0gKCkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlcyAmJiByZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoaXMgcmVzcG9uc2UgaGFkICR7cmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGh9IGAgK1xuICAgICAgICAgICAgICAgICAgICBgY2FuZGlkYXRlcy4gUmV0dXJuaW5nIHRleHQgZnJvbSB0aGUgZmlyc3QgY2FuZGlkYXRlIG9ubHkuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgQWNjZXNzIHJlc3BvbnNlLmNhbmRpZGF0ZXMgZGlyZWN0bHkgdG8gdXNlIHRoZSBvdGhlciBjYW5kaWRhdGVzLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhZEJhZEZpbmlzaFJlYXNvbihyZXNwb25zZS5jYW5kaWRhdGVzWzBdKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlSZXNwb25zZUVycm9yKGAke2Zvcm1hdEJsb2NrRXJyb3JNZXNzYWdlKHJlc3BvbnNlKX1gLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGV4dChyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UucHJvbXB0RmVlZGJhY2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlSZXNwb25zZUVycm9yKGBUZXh0IG5vdCBhdmFpbGFibGUuICR7Zm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzcG9uc2UpfWAsIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRPRE86IHJlbW92ZSBhdCBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgKi9cbiAgICByZXNwb25zZS5mdW5jdGlvbkNhbGwgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5jYW5kaWRhdGVzICYmIHJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhpcyByZXNwb25zZSBoYWQgJHtyZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aH0gYCArXG4gICAgICAgICAgICAgICAgICAgIGBjYW5kaWRhdGVzLiBSZXR1cm5pbmcgZnVuY3Rpb24gY2FsbHMgZnJvbSB0aGUgZmlyc3QgY2FuZGlkYXRlIG9ubHkuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgQWNjZXNzIHJlc3BvbnNlLmNhbmRpZGF0ZXMgZGlyZWN0bHkgdG8gdXNlIHRoZSBvdGhlciBjYW5kaWRhdGVzLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhZEJhZEZpbmlzaFJlYXNvbihyZXNwb25zZS5jYW5kaWRhdGVzWzBdKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlSZXNwb25zZUVycm9yKGAke2Zvcm1hdEJsb2NrRXJyb3JNZXNzYWdlKHJlc3BvbnNlKX1gLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHJlc3BvbnNlLmZ1bmN0aW9uQ2FsbCgpIGlzIGRlcHJlY2F0ZWQuIGAgK1xuICAgICAgICAgICAgICAgIGBVc2UgcmVzcG9uc2UuZnVuY3Rpb25DYWxscygpIGluc3RlYWQuYCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RnVuY3Rpb25DYWxscyhyZXNwb25zZSlbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UucHJvbXB0RmVlZGJhY2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlSZXNwb25zZUVycm9yKGBGdW5jdGlvbiBjYWxsIG5vdCBhdmFpbGFibGUuICR7Zm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzcG9uc2UpfWAsIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmVzcG9uc2UuZnVuY3Rpb25DYWxscyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmNhbmRpZGF0ZXMgJiYgcmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGlzIHJlc3BvbnNlIGhhZCAke3Jlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RofSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGNhbmRpZGF0ZXMuIFJldHVybmluZyBmdW5jdGlvbiBjYWxscyBmcm9tIHRoZSBmaXJzdCBjYW5kaWRhdGUgb25seS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBBY2Nlc3MgcmVzcG9uc2UuY2FuZGlkYXRlcyBkaXJlY3RseSB0byB1c2UgdGhlIG90aGVyIGNhbmRpZGF0ZXMuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFkQmFkRmluaXNoUmVhc29uKHJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IoYCR7Zm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzcG9uc2UpfWAsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXRGdW5jdGlvbkNhbGxzKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5wcm9tcHRGZWVkYmFjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IoYEZ1bmN0aW9uIGNhbGwgbm90IGF2YWlsYWJsZS4gJHtmb3JtYXRCbG9ja0Vycm9yTWVzc2FnZShyZXNwb25zZSl9YCwgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG4vKipcbiAqIFJldHVybnMgYWxsIHRleHQgZm91bmQgaW4gYWxsIHBhcnRzIG9mIGZpcnN0IGNhbmRpZGF0ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dChyZXNwb25zZSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCB0ZXh0U3RyaW5ncyA9IFtdO1xuICAgIGlmICgoX2IgPSAoX2EgPSByZXNwb25zZS5jYW5kaWRhdGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF0uY29udGVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhcnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiAoX2QgPSAoX2MgPSByZXNwb25zZS5jYW5kaWRhdGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMF0uY29udGVudCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnBhcnRzKSB7XG4gICAgICAgICAgICBpZiAocGFydC50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGV4dFN0cmluZ3MucHVzaChwYXJ0LnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnQuZXhlY3V0YWJsZUNvZGUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0U3RyaW5ncy5wdXNoKFwiXFxuYGBgXCIgK1xuICAgICAgICAgICAgICAgICAgICBwYXJ0LmV4ZWN1dGFibGVDb2RlLmxhbmd1YWdlICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIHBhcnQuZXhlY3V0YWJsZUNvZGUuY29kZSArXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuYGBgXFxuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnQuY29kZUV4ZWN1dGlvblJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRleHRTdHJpbmdzLnB1c2goXCJcXG5gYGBcXG5cIiArIHBhcnQuY29kZUV4ZWN1dGlvblJlc3VsdC5vdXRwdXQgKyBcIlxcbmBgYFxcblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodGV4dFN0cmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdGV4dFN0cmluZ3Muam9pbihcIlwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBmdW5jdGlvbkNhbGwgb2YgZmlyc3QgY2FuZGlkYXRlLlxuICovXG5mdW5jdGlvbiBnZXRGdW5jdGlvbkNhbGxzKHJlc3BvbnNlKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbHMgPSBbXTtcbiAgICBpZiAoKF9iID0gKF9hID0gcmVzcG9uc2UuY2FuZGlkYXRlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzBdLmNvbnRlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wYXJ0cykge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgKF9kID0gKF9jID0gcmVzcG9uc2UuY2FuZGlkYXRlcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jWzBdLmNvbnRlbnQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQuZnVuY3Rpb25DYWxsKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb25DYWxscy5wdXNoKHBhcnQuZnVuY3Rpb25DYWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZnVuY3Rpb25DYWxscy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbkNhbGxzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5jb25zdCBiYWRGaW5pc2hSZWFzb25zID0gW1xuICAgIEZpbmlzaFJlYXNvbi5SRUNJVEFUSU9OLFxuICAgIEZpbmlzaFJlYXNvbi5TQUZFVFksXG4gICAgRmluaXNoUmVhc29uLkxBTkdVQUdFLFxuXTtcbmZ1bmN0aW9uIGhhZEJhZEZpbmlzaFJlYXNvbihjYW5kaWRhdGUpIHtcbiAgICByZXR1cm4gKCEhY2FuZGlkYXRlLmZpbmlzaFJlYXNvbiAmJlxuICAgICAgICBiYWRGaW5pc2hSZWFzb25zLmluY2x1ZGVzKGNhbmRpZGF0ZS5maW5pc2hSZWFzb24pKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEJsb2NrRXJyb3JNZXNzYWdlKHJlc3BvbnNlKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgbGV0IG1lc3NhZ2UgPSBcIlwiO1xuICAgIGlmICgoIXJlc3BvbnNlLmNhbmRpZGF0ZXMgfHwgcmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPT09IDApICYmXG4gICAgICAgIHJlc3BvbnNlLnByb21wdEZlZWRiYWNrKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCJSZXNwb25zZSB3YXMgYmxvY2tlZFwiO1xuICAgICAgICBpZiAoKF9hID0gcmVzcG9uc2UucHJvbXB0RmVlZGJhY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ibG9ja1JlYXNvbikge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgIGR1ZSB0byAke3Jlc3BvbnNlLnByb21wdEZlZWRiYWNrLmJsb2NrUmVhc29ufWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChfYiA9IHJlc3BvbnNlLnByb21wdEZlZWRiYWNrKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmxvY2tSZWFzb25NZXNzYWdlKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGA6ICR7cmVzcG9uc2UucHJvbXB0RmVlZGJhY2suYmxvY2tSZWFzb25NZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoKF9jID0gcmVzcG9uc2UuY2FuZGlkYXRlcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jWzBdKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q2FuZGlkYXRlID0gcmVzcG9uc2UuY2FuZGlkYXRlc1swXTtcbiAgICAgICAgaWYgKGhhZEJhZEZpbmlzaFJlYXNvbihmaXJzdENhbmRpZGF0ZSkpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYENhbmRpZGF0ZSB3YXMgYmxvY2tlZCBkdWUgdG8gJHtmaXJzdENhbmRpZGF0ZS5maW5pc2hSZWFzb259YDtcbiAgICAgICAgICAgIGlmIChmaXJzdENhbmRpZGF0ZS5maW5pc2hNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgOiAke2ZpcnN0Q2FuZGlkYXRlLmZpbmlzaE1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbnR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xyXG4gICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xyXG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgcmVzcG9uc2VMaW5lUkUgPSAvXmRhdGFcXDogKC4qKSg/OlxcblxcbnxcXHJcXHJ8XFxyXFxuXFxyXFxuKS87XG4vKipcbiAqIFByb2Nlc3MgYSByZXNwb25zZS5ib2R5IHN0cmVhbSBmcm9tIHRoZSBiYWNrZW5kIGFuZCByZXR1cm4gYW5cbiAqIGl0ZXJhdG9yIHRoYXQgcHJvdmlkZXMgb25lIGNvbXBsZXRlIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlIGF0IGEgdGltZVxuICogYW5kIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBzaW5nbGUgYWdncmVnYXRlZFxuICogR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHJlc3BvbnNlIC0gUmVzcG9uc2UgZnJvbSBhIGZldGNoIGNhbGxcbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc1N0cmVhbShyZXNwb25zZSkge1xuICAgIGNvbnN0IGlucHV0U3RyZWFtID0gcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oXCJ1dGY4XCIsIHsgZmF0YWw6IHRydWUgfSkpO1xuICAgIGNvbnN0IHJlc3BvbnNlU3RyZWFtID0gZ2V0UmVzcG9uc2VTdHJlYW0oaW5wdXRTdHJlYW0pO1xuICAgIGNvbnN0IFtzdHJlYW0xLCBzdHJlYW0yXSA9IHJlc3BvbnNlU3RyZWFtLnRlZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogZ2VuZXJhdGVSZXNwb25zZVNlcXVlbmNlKHN0cmVhbTEpLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2VQcm9taXNlKHN0cmVhbTIpLFxuICAgIH07XG59XG5hc3luYyBmdW5jdGlvbiBnZXRSZXNwb25zZVByb21pc2Uoc3RyZWFtKSB7XG4gICAgY29uc3QgYWxsUmVzcG9uc2VzID0gW107XG4gICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gYWRkSGVscGVycyhhZ2dyZWdhdGVSZXNwb25zZXMoYWxsUmVzcG9uc2VzKSk7XG4gICAgICAgIH1cbiAgICAgICAgYWxsUmVzcG9uc2VzLnB1c2godmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUmVzcG9uc2VTZXF1ZW5jZShzdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiBnZW5lcmF0ZVJlc3BvbnNlU2VxdWVuY2VfMSgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0geWllbGQgX19hd2FpdChyZWFkZXIucmVhZCgpKTtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KGFkZEhlbHBlcnModmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBSZWFkcyBhIHJhdyBzdHJlYW0gZnJvbSB0aGUgZmV0Y2ggcmVzcG9uc2UgYW5kIGpvaW4gaW5jb21wbGV0ZVxuICogY2h1bmtzLCByZXR1cm5pbmcgYSBuZXcgc3RyZWFtIHRoYXQgcHJvdmlkZXMgYSBzaW5nbGUgY29tcGxldGVcbiAqIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlIGluIGVhY2ggaXRlcmF0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRSZXNwb25zZVN0cmVhbShpbnB1dFN0cmVhbSkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0U3RyZWFtLmdldFJlYWRlcigpO1xuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGV4dCA9IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gcHVtcCgpO1xuICAgICAgICAgICAgZnVuY3Rpb24gcHVtcCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWQoKS50aGVuKCh7IHZhbHVlLCBkb25lIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKG5ldyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBzdHJlYW1cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dCArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gY3VycmVudFRleHQubWF0Y2gocmVzcG9uc2VMaW5lUkUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRSZXNwb25zZSA9IEpTT04ucGFyc2UobWF0Y2hbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKG5ldyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvcihgRXJyb3IgcGFyc2luZyBKU09OIHJlc3BvbnNlOiBcIiR7bWF0Y2hbMV19XCJgKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnNlZFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0ID0gY3VycmVudFRleHQuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGN1cnJlbnRUZXh0Lm1hdGNoKHJlc3BvbnNlTGluZVJFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVtcCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBzdHJlYW07XG59XG4vKipcbiAqIEFnZ3JlZ2F0ZXMgYW4gYXJyYXkgb2YgYEdlbmVyYXRlQ29udGVudFJlc3BvbnNlYHMgaW50byBhIHNpbmdsZVxuICogR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuXG4gKi9cbmZ1bmN0aW9uIGFnZ3JlZ2F0ZVJlc3BvbnNlcyhyZXNwb25zZXMpIHtcbiAgICBjb25zdCBsYXN0UmVzcG9uc2UgPSByZXNwb25zZXNbcmVzcG9uc2VzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGFnZ3JlZ2F0ZWRSZXNwb25zZSA9IHtcbiAgICAgICAgcHJvbXB0RmVlZGJhY2s6IGxhc3RSZXNwb25zZSA9PT0gbnVsbCB8fCBsYXN0UmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxhc3RSZXNwb25zZS5wcm9tcHRGZWVkYmFjayxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgcmVzcG9uc2Ugb2YgcmVzcG9uc2VzKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5jYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiByZXNwb25zZS5jYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGNhbmRpZGF0ZS5pbmRleDtcbiAgICAgICAgICAgICAgICBpZiAoIWFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogY2FuZGlkYXRlLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBLZWVwIG92ZXJ3cml0aW5nLCB0aGUgbGFzdCBvbmUgd2lsbCBiZSBmaW5hbFxuICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldLmNpdGF0aW9uTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUuY2l0YXRpb25NZXRhZGF0YTtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5ncm91bmRpbmdNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS5ncm91bmRpbmdNZXRhZGF0YTtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5maW5pc2hSZWFzb24gPSBjYW5kaWRhdGUuZmluaXNoUmVhc29uO1xuICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldLmZpbmlzaE1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUuZmluaXNoTWVzc2FnZTtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5zYWZldHlSYXRpbmdzID1cbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLnNhZmV0eVJhdGluZ3M7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ2FuZGlkYXRlcyBzaG91bGQgYWx3YXlzIGhhdmUgY29udGVudCBhbmQgcGFydHMsIGJ1dCB0aGlzIGhhbmRsZXNcbiAgICAgICAgICAgICAgICAgKiBwb3NzaWJsZSBtYWxmb3JtZWQgcmVzcG9uc2VzLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuY29udGVudCAmJiBjYW5kaWRhdGUuY29udGVudC5wYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldLmNvbnRlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogY2FuZGlkYXRlLmNvbnRlbnQucm9sZSB8fCBcInVzZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhcnQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGNhbmRpZGF0ZS5jb250ZW50LnBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC50ZXh0ID0gcGFydC50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuZnVuY3Rpb25DYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC5mdW5jdGlvbkNhbGwgPSBwYXJ0LmZ1bmN0aW9uQ2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmV4ZWN1dGFibGVDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC5leGVjdXRhYmxlQ29kZSA9IHBhcnQuZXhlY3V0YWJsZUNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0ID0gcGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1BhcnQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcnQudGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50LnBhcnRzLnB1c2gobmV3UGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3BvbnNlLnVzYWdlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS51c2FnZU1ldGFkYXRhID0gcmVzcG9uc2UudXNhZ2VNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWdncmVnYXRlZFJlc3BvbnNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50U3RyZWFtKGFwaUtleSwgbW9kZWwsIHBhcmFtcywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VNb2RlbFJlcXVlc3QobW9kZWwsIFRhc2suU1RSRUFNX0dFTkVSQVRFX0NPTlRFTlQsIGFwaUtleSwgXG4gICAgLyogc3RyZWFtICovIHRydWUsIEpTT04uc3RyaW5naWZ5KHBhcmFtcyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICByZXR1cm4gcHJvY2Vzc1N0cmVhbShyZXNwb25zZSk7XG59XG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnQoYXBpS2V5LCBtb2RlbCwgcGFyYW1zLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFrZU1vZGVsUmVxdWVzdChtb2RlbCwgVGFzay5HRU5FUkFURV9DT05URU5ULCBhcGlLZXksIFxuICAgIC8qIHN0cmVhbSAqLyBmYWxzZSwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIGNvbnN0IHJlc3BvbnNlSnNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBlbmhhbmNlZFJlc3BvbnNlID0gYWRkSGVscGVycyhyZXNwb25zZUpzb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlOiBlbmhhbmNlZFJlc3BvbnNlLFxuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5mdW5jdGlvbiBmb3JtYXRTeXN0ZW1JbnN0cnVjdGlvbihpbnB1dCkge1xuICAgIC8vIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7IHJvbGU6IFwic3lzdGVtXCIsIHBhcnRzOiBbeyB0ZXh0OiBpbnB1dCB9XSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpbnB1dC50ZXh0KSB7XG4gICAgICAgIHJldHVybiB7IHJvbGU6IFwic3lzdGVtXCIsIHBhcnRzOiBbaW5wdXRdIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlucHV0LnBhcnRzKSB7XG4gICAgICAgIGlmICghaW5wdXQucm9sZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcm9sZTogXCJzeXN0ZW1cIiwgcGFydHM6IGlucHV0LnBhcnRzIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXROZXdDb250ZW50KHJlcXVlc3QpIHtcbiAgICBsZXQgbmV3UGFydHMgPSBbXTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgbmV3UGFydHMgPSBbeyB0ZXh0OiByZXF1ZXN0IH1dO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0T3JTdHJpbmcgb2YgcmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0T3JTdHJpbmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHsgdGV4dDogcGFydE9yU3RyaW5nIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3UGFydHMucHVzaChwYXJ0T3JTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25Sb2xlVG9QYXJ0c0FuZFZhbGlkYXRlU2VuZE1lc3NhZ2VSZXF1ZXN0KG5ld1BhcnRzKTtcbn1cbi8qKlxuICogV2hlbiBtdWx0aXBsZSBQYXJ0IHR5cGVzIChpLmUuIEZ1bmN0aW9uUmVzcG9uc2VQYXJ0IGFuZCBUZXh0UGFydCkgYXJlXG4gKiBwYXNzZWQgaW4gYSBzaW5nbGUgUGFydCBhcnJheSwgd2UgbWF5IG5lZWQgdG8gYXNzaWduIGRpZmZlcmVudCByb2xlcyB0byBlYWNoXG4gKiBwYXJ0LiBDdXJyZW50bHkgb25seSBGdW5jdGlvblJlc3BvbnNlUGFydCByZXF1aXJlcyBhIHJvbGUgb3RoZXIgdGhhbiAndXNlcicuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHBhcnRzIEFycmF5IG9mIHBhcnRzIHRvIHBhc3MgdG8gdGhlIG1vZGVsXG4gKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGl0ZW1zXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblJvbGVUb1BhcnRzQW5kVmFsaWRhdGVTZW5kTWVzc2FnZVJlcXVlc3QocGFydHMpIHtcbiAgICBjb25zdCB1c2VyQ29udGVudCA9IHsgcm9sZTogXCJ1c2VyXCIsIHBhcnRzOiBbXSB9O1xuICAgIGNvbnN0IGZ1bmN0aW9uQ29udGVudCA9IHsgcm9sZTogXCJmdW5jdGlvblwiLCBwYXJ0czogW10gfTtcbiAgICBsZXQgaGFzVXNlckNvbnRlbnQgPSBmYWxzZTtcbiAgICBsZXQgaGFzRnVuY3Rpb25Db250ZW50ID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uUmVzcG9uc2VcIiBpbiBwYXJ0KSB7XG4gICAgICAgICAgICBmdW5jdGlvbkNvbnRlbnQucGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIGhhc0Z1bmN0aW9uQ29udGVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1c2VyQ29udGVudC5wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgaGFzVXNlckNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNVc2VyQ29udGVudCAmJiBoYXNGdW5jdGlvbkNvbnRlbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKFwiV2l0aGluIGEgc2luZ2xlIG1lc3NhZ2UsIEZ1bmN0aW9uUmVzcG9uc2UgY2Fubm90IGJlIG1peGVkIHdpdGggb3RoZXIgdHlwZSBvZiBwYXJ0IGluIHRoZSByZXF1ZXN0IGZvciBzZW5kaW5nIGNoYXQgbWVzc2FnZS5cIik7XG4gICAgfVxuICAgIGlmICghaGFzVXNlckNvbnRlbnQgJiYgIWhhc0Z1bmN0aW9uQ29udGVudCkge1xuICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoXCJObyBjb250ZW50IGlzIHByb3ZpZGVkIGZvciBzZW5kaW5nIGNoYXQgbWVzc2FnZS5cIik7XG4gICAgfVxuICAgIGlmIChoYXNVc2VyQ29udGVudCkge1xuICAgICAgICByZXR1cm4gdXNlckNvbnRlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbkNvbnRlbnQ7XG59XG5mdW5jdGlvbiBmb3JtYXRDb3VudFRva2Vuc0lucHV0KHBhcmFtcywgbW9kZWxQYXJhbXMpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IGZvcm1hdHRlZEdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSB7XG4gICAgICAgIG1vZGVsOiBtb2RlbFBhcmFtcyA9PT0gbnVsbCB8fCBtb2RlbFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kZWxQYXJhbXMubW9kZWwsXG4gICAgICAgIGdlbmVyYXRpb25Db25maWc6IG1vZGVsUGFyYW1zID09PSBudWxsIHx8IG1vZGVsUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RlbFBhcmFtcy5nZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICBzYWZldHlTZXR0aW5nczogbW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zLnNhZmV0eVNldHRpbmdzLFxuICAgICAgICB0b29sczogbW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zLnRvb2xzLFxuICAgICAgICB0b29sQ29uZmlnOiBtb2RlbFBhcmFtcyA9PT0gbnVsbCB8fCBtb2RlbFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kZWxQYXJhbXMudG9vbENvbmZpZyxcbiAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IG1vZGVsUGFyYW1zID09PSBudWxsIHx8IG1vZGVsUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2RlbFBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbixcbiAgICAgICAgY2FjaGVkQ29udGVudDogKF9hID0gbW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zLmNhY2hlZENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lLFxuICAgICAgICBjb250ZW50czogW10sXG4gICAgfTtcbiAgICBjb25zdCBjb250YWluc0dlbmVyYXRlQ29udGVudFJlcXVlc3QgPSBwYXJhbXMuZ2VuZXJhdGVDb250ZW50UmVxdWVzdCAhPSBudWxsO1xuICAgIGlmIChwYXJhbXMuY29udGVudHMpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5zR2VuZXJhdGVDb250ZW50UmVxdWVzdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yKFwiQ291bnRUb2tlbnNSZXF1ZXN0IG11c3QgaGF2ZSBvbmUgb2YgY29udGVudHMgb3IgZ2VuZXJhdGVDb250ZW50UmVxdWVzdCwgbm90IGJvdGguXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdHRlZEdlbmVyYXRlQ29udGVudFJlcXVlc3QuY29udGVudHMgPSBwYXJhbXMuY29udGVudHM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRhaW5zR2VuZXJhdGVDb250ZW50UmVxdWVzdCkge1xuICAgICAgICBmb3JtYXR0ZWRHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBmb3JtYXR0ZWRHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KSwgcGFyYW1zLmdlbmVyYXRlQ29udGVudFJlcXVlc3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXJyYXkgb3Igc3RyaW5nXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXROZXdDb250ZW50KHBhcmFtcyk7XG4gICAgICAgIGZvcm1hdHRlZEdlbmVyYXRlQ29udGVudFJlcXVlc3QuY29udGVudHMgPSBbY29udGVudF07XG4gICAgfVxuICAgIHJldHVybiB7IGdlbmVyYXRlQ29udGVudFJlcXVlc3Q6IGZvcm1hdHRlZEdlbmVyYXRlQ29udGVudFJlcXVlc3QgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEdlbmVyYXRlQ29udGVudElucHV0KHBhcmFtcykge1xuICAgIGxldCBmb3JtYXR0ZWRSZXF1ZXN0O1xuICAgIGlmIChwYXJhbXMuY29udGVudHMpIHtcbiAgICAgICAgZm9ybWF0dGVkUmVxdWVzdCA9IHBhcmFtcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEFycmF5IG9yIHN0cmluZ1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZm9ybWF0TmV3Q29udGVudChwYXJhbXMpO1xuICAgICAgICBmb3JtYXR0ZWRSZXF1ZXN0ID0geyBjb250ZW50czogW2NvbnRlbnRdIH07XG4gICAgfVxuICAgIGlmIChwYXJhbXMuc3lzdGVtSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgZm9ybWF0dGVkUmVxdWVzdC5zeXN0ZW1JbnN0cnVjdGlvbiA9IGZvcm1hdFN5c3RlbUluc3RydWN0aW9uKHBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBmb3JtYXR0ZWRSZXF1ZXN0O1xufVxuZnVuY3Rpb24gZm9ybWF0RW1iZWRDb250ZW50SW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShwYXJhbXMpKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXROZXdDb250ZW50KHBhcmFtcyk7XG4gICAgICAgIHJldHVybiB7IGNvbnRlbnQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIGh0dHBzOi8vYWkuZ29vZ2xlLmRldi9hcGkvcmVzdC92MWJldGEvQ29udGVudCNwYXJ0XG5jb25zdCBWQUxJRF9QQVJUX0ZJRUxEUyA9IFtcbiAgICBcInRleHRcIixcbiAgICBcImlubGluZURhdGFcIixcbiAgICBcImZ1bmN0aW9uQ2FsbFwiLFxuICAgIFwiZnVuY3Rpb25SZXNwb25zZVwiLFxuICAgIFwiZXhlY3V0YWJsZUNvZGVcIixcbiAgICBcImNvZGVFeGVjdXRpb25SZXN1bHRcIixcbl07XG5jb25zdCBWQUxJRF9QQVJUU19QRVJfUk9MRSA9IHtcbiAgICB1c2VyOiBbXCJ0ZXh0XCIsIFwiaW5saW5lRGF0YVwiXSxcbiAgICBmdW5jdGlvbjogW1wiZnVuY3Rpb25SZXNwb25zZVwiXSxcbiAgICBtb2RlbDogW1widGV4dFwiLCBcImZ1bmN0aW9uQ2FsbFwiLCBcImV4ZWN1dGFibGVDb2RlXCIsIFwiY29kZUV4ZWN1dGlvblJlc3VsdFwiXSxcbiAgICAvLyBTeXN0ZW0gaW5zdHJ1Y3Rpb25zIHNob3VsZG4ndCBiZSBpbiBoaXN0b3J5IGFueXdheS5cbiAgICBzeXN0ZW06IFtcInRleHRcIl0sXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVDaGF0SGlzdG9yeShoaXN0b3J5KSB7XG4gICAgbGV0IHByZXZDb250ZW50ID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBjdXJyQ29udGVudCBvZiBoaXN0b3J5KSB7XG4gICAgICAgIGNvbnN0IHsgcm9sZSwgcGFydHMgfSA9IGN1cnJDb250ZW50O1xuICAgICAgICBpZiAoIXByZXZDb250ZW50ICYmIHJvbGUgIT09IFwidXNlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoYEZpcnN0IGNvbnRlbnQgc2hvdWxkIGJlIHdpdGggcm9sZSAndXNlcicsIGdvdCAke3JvbGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFQT1NTSUJMRV9ST0xFUy5pbmNsdWRlcyhyb2xlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGBFYWNoIGl0ZW0gc2hvdWxkIGluY2x1ZGUgcm9sZSBmaWVsZC4gR290ICR7cm9sZX0gYnV0IHZhbGlkIHJvbGVzIGFyZTogJHtKU09OLnN0cmluZ2lmeShQT1NTSUJMRV9ST0xFUyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcnRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKFwiQ29udGVudCBzaG91bGQgaGF2ZSAncGFydHMnIHByb3BlcnR5IHdpdGggYW4gYXJyYXkgb2YgUGFydHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKFwiRWFjaCBDb250ZW50IHNob3VsZCBoYXZlIGF0IGxlYXN0IG9uZSBwYXJ0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvdW50RmllbGRzID0ge1xuICAgICAgICAgICAgdGV4dDogMCxcbiAgICAgICAgICAgIGlubGluZURhdGE6IDAsXG4gICAgICAgICAgICBmdW5jdGlvbkNhbGw6IDAsXG4gICAgICAgICAgICBmdW5jdGlvblJlc3BvbnNlOiAwLFxuICAgICAgICAgICAgZmlsZURhdGE6IDAsXG4gICAgICAgICAgICBleGVjdXRhYmxlQ29kZTogMCxcbiAgICAgICAgICAgIGNvZGVFeGVjdXRpb25SZXN1bHQ6IDAsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgVkFMSURfUEFSVF9GSUVMRFMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRGaWVsZHNba2V5XSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxpZFBhcnRzID0gVkFMSURfUEFSVFNfUEVSX1JPTEVbcm9sZV07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFZBTElEX1BBUlRfRklFTERTKSB7XG4gICAgICAgICAgICBpZiAoIXZhbGlkUGFydHMuaW5jbHVkZXMoa2V5KSAmJiBjb3VudEZpZWxkc1trZXldID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvcihgQ29udGVudCB3aXRoIHJvbGUgJyR7cm9sZX0nIGNhbid0IGNvbnRhaW4gJyR7a2V5fScgcGFydGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZXZDb250ZW50ID0gdHJ1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIERvIG5vdCBsb2cgYSBtZXNzYWdlIGZvciB0aGlzIGVycm9yLlxuICovXG5jb25zdCBTSUxFTlRfRVJST1IgPSBcIlNJTEVOVF9FUlJPUlwiO1xuLyoqXG4gKiBDaGF0U2Vzc2lvbiBjbGFzcyB0aGF0IGVuYWJsZXMgc2VuZGluZyBjaGF0IG1lc3NhZ2VzIGFuZCBzdG9yZXNcbiAqIGhpc3Rvcnkgb2Ygc2VudCBhbmQgcmVjZWl2ZWQgbWVzc2FnZXMgc28gZmFyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgQ2hhdFNlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGFwaUtleSwgbW9kZWwsIHBhcmFtcywgX3JlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5fcmVxdWVzdE9wdGlvbnMgPSBfcmVxdWVzdE9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2hpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5fc2VuZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5fYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICBpZiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmhpc3RvcnkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlQ2hhdEhpc3RvcnkocGFyYW1zLmhpc3RvcnkpO1xuICAgICAgICAgICAgdGhpcy5faGlzdG9yeSA9IHBhcmFtcy5oaXN0b3J5O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNoYXQgaGlzdG9yeSBzbyBmYXIuIEJsb2NrZWQgcHJvbXB0cyBhcmUgbm90IGFkZGVkIHRvIGhpc3RvcnkuXG4gICAgICogQmxvY2tlZCBjYW5kaWRhdGVzIGFyZSBub3QgYWRkZWQgdG8gaGlzdG9yeSwgbm9yIGFyZSB0aGUgcHJvbXB0cyB0aGF0XG4gICAgICogZ2VuZXJhdGVkIHRoZW0uXG4gICAgICovXG4gICAgYXN5bmMgZ2V0SGlzdG9yeSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fc2VuZFByb21pc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaXN0b3J5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGNoYXQgbWVzc2FnZSBhbmQgcmVjZWl2ZXMgYSBub24tc3RyZWFtaW5nXG4gICAgICoge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3VsdH0uXG4gICAgICpcbiAgICAgKiBGaWVsZHMgc2V0IGluIHRoZSBvcHRpb25hbCB7QGxpbmsgU2luZ2xlUmVxdWVzdE9wdGlvbnN9IHBhcmFtZXRlciB3aWxsXG4gICAgICogdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gdmFsdWVzIHByb3ZpZGVkIHRvXG4gICAgICoge0BsaW5rIEdvb2dsZUdlbmVyYXRpdmVBSS5nZXRHZW5lcmF0aXZlTW9kZWwgfS5cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kTWVzc2FnZShyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBhd2FpdCB0aGlzLl9zZW5kUHJvbWlzZTtcbiAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGZvcm1hdE5ld0NvbnRlbnQocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSB7XG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogKF9hID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IChfYiA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHRvb2xzOiAoX2MgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvb2xzLFxuICAgICAgICAgICAgdG9vbENvbmZpZzogKF9kID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50b29sQ29uZmlnLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IChfZSA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBjYWNoZWRDb250ZW50OiAoX2YgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhY2hlZENvbnRlbnQsXG4gICAgICAgICAgICBjb250ZW50czogWy4uLnRoaXMuX2hpc3RvcnksIG5ld0NvbnRlbnRdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjaGF0U2Vzc2lvblJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgbGV0IGZpbmFsUmVzdWx0O1xuICAgICAgICAvLyBBZGQgb250byB0aGUgY2hhaW4uXG4gICAgICAgIHRoaXMuX3NlbmRQcm9taXNlID0gdGhpcy5fc2VuZFByb21pc2VcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGdlbmVyYXRlQ29udGVudCh0aGlzLl9hcGlLZXksIHRoaXMubW9kZWwsIGdlbmVyYXRlQ29udGVudFJlcXVlc3QsIGNoYXRTZXNzaW9uUmVxdWVzdE9wdGlvbnMpKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXNwb25zZS5jYW5kaWRhdGVzICYmXG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpc3RvcnkucHVzaChuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUNvbnRlbnQgPSBPYmplY3QuYXNzaWduKHsgcGFydHM6IFtdLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzcG9uc2Ugc2VlbXMgdG8gY29tZSBiYWNrIHdpdGhvdXQgYSByb2xlIHNldC5cbiAgICAgICAgICAgICAgICAgICAgcm9sZTogXCJtb2RlbFwiIH0sIChfYSA9IHJlc3VsdC5yZXNwb25zZS5jYW5kaWRhdGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF0uY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGlzdG9yeS5wdXNoKHJlc3BvbnNlQ29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9ja0Vycm9yTWVzc2FnZSA9IGZvcm1hdEJsb2NrRXJyb3JNZXNzYWdlKHJlc3VsdC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrRXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihgc2VuZE1lc3NhZ2UoKSB3YXMgdW5zdWNjZXNzZnVsLiAke2Jsb2NrRXJyb3JNZXNzYWdlfS4gSW5zcGVjdCByZXNwb25zZSBvYmplY3QgZm9yIGRldGFpbHMuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLl9zZW5kUHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGNoYXQgbWVzc2FnZSBhbmQgcmVjZWl2ZXMgdGhlIHJlc3BvbnNlIGFzIGFcbiAgICAgKiB7QGxpbmsgR2VuZXJhdGVDb250ZW50U3RyZWFtUmVzdWx0fSBjb250YWluaW5nIGFuIGl0ZXJhYmxlIHN0cmVhbVxuICAgICAqIGFuZCBhIHJlc3BvbnNlIHByb21pc2UuXG4gICAgICpcbiAgICAgKiBGaWVsZHMgc2V0IGluIHRoZSBvcHRpb25hbCB7QGxpbmsgU2luZ2xlUmVxdWVzdE9wdGlvbnN9IHBhcmFtZXRlciB3aWxsXG4gICAgICogdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gdmFsdWVzIHByb3ZpZGVkIHRvXG4gICAgICoge0BsaW5rIEdvb2dsZUdlbmVyYXRpdmVBSS5nZXRHZW5lcmF0aXZlTW9kZWwgfS5cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kTWVzc2FnZVN0cmVhbShyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBhd2FpdCB0aGlzLl9zZW5kUHJvbWlzZTtcbiAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGZvcm1hdE5ld0NvbnRlbnQocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlcXVlc3QgPSB7XG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogKF9hID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IChfYiA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHRvb2xzOiAoX2MgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvb2xzLFxuICAgICAgICAgICAgdG9vbENvbmZpZzogKF9kID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50b29sQ29uZmlnLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IChfZSA9IHRoaXMucGFyYW1zKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBjYWNoZWRDb250ZW50OiAoX2YgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhY2hlZENvbnRlbnQsXG4gICAgICAgICAgICBjb250ZW50czogWy4uLnRoaXMuX2hpc3RvcnksIG5ld0NvbnRlbnRdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjaGF0U2Vzc2lvblJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyksIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgc3RyZWFtUHJvbWlzZSA9IGdlbmVyYXRlQ29udGVudFN0cmVhbSh0aGlzLl9hcGlLZXksIHRoaXMubW9kZWwsIGdlbmVyYXRlQ29udGVudFJlcXVlc3QsIGNoYXRTZXNzaW9uUmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAvLyBBZGQgb250byB0aGUgY2hhaW4uXG4gICAgICAgIHRoaXMuX3NlbmRQcm9taXNlID0gdGhpcy5fc2VuZFByb21pc2VcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHN0cmVhbVByb21pc2UpXG4gICAgICAgICAgICAvLyBUaGlzIG11c3QgYmUgaGFuZGxlZCB0byBhdm9pZCB1bmhhbmRsZWQgcmVqZWN0aW9uLCBidXQganVtcFxuICAgICAgICAgICAgLy8gdG8gdGhlIGZpbmFsIGNhdGNoIGJsb2NrIHdpdGggYSBsYWJlbCB0byBub3QgbG9nIHRoaXMgZXJyb3IuXG4gICAgICAgICAgICAuY2F0Y2goKF9pZ25vcmVkKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoU0lMRU5UX0VSUk9SKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChzdHJlYW1SZXN1bHQpID0+IHN0cmVhbVJlc3VsdC5yZXNwb25zZSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNhbmRpZGF0ZXMgJiYgcmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGlzdG9yeS5wdXNoKG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0uY29udGVudCk7XG4gICAgICAgICAgICAgICAgLy8gUmVzcG9uc2Ugc2VlbXMgdG8gY29tZSBiYWNrIHdpdGhvdXQgYSByb2xlIHNldC5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlQ29udGVudC5yb2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29udGVudC5yb2xlID0gXCJtb2RlbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9oaXN0b3J5LnB1c2gocmVzcG9uc2VDb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrRXJyb3JNZXNzYWdlID0gZm9ybWF0QmxvY2tFcnJvck1lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChibG9ja0Vycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYHNlbmRNZXNzYWdlU3RyZWFtKCkgd2FzIHVuc3VjY2Vzc2Z1bC4gJHtibG9ja0Vycm9yTWVzc2FnZX0uIEluc3BlY3QgcmVzcG9uc2Ugb2JqZWN0IGZvciBkZXRhaWxzLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgLy8gRXJyb3JzIGluIHN0cmVhbVByb21pc2UgYXJlIGFscmVhZHkgY2F0Y2hhYmxlIGJ5IHRoZSB1c2VyIGFzXG4gICAgICAgICAgICAvLyBzdHJlYW1Qcm9taXNlIGlzIHJldHVybmVkLlxuICAgICAgICAgICAgLy8gQXZvaWQgZHVwbGljYXRpbmcgdGhlIGVycm9yIG1lc3NhZ2UgaW4gbG9ncy5cbiAgICAgICAgICAgIGlmIChlLm1lc3NhZ2UgIT09IFNJTEVOVF9FUlJPUikge1xuICAgICAgICAgICAgICAgIC8vIFVzZXJzIGRvIG5vdCBoYXZlIGFjY2VzcyB0byBfc2VuZFByb21pc2UgdG8gY2F0Y2ggZXJyb3JzXG4gICAgICAgICAgICAgICAgLy8gZG93bnN0cmVhbSBmcm9tIHN0cmVhbVByb21pc2UsIHNvIHRoZXkgc2hvdWxkIG5vdCB0aHJvdy5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbVByb21pc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY291bnRUb2tlbnMoYXBpS2V5LCBtb2RlbCwgcGFyYW1zLCBzaW5nbGVSZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFrZU1vZGVsUmVxdWVzdChtb2RlbCwgVGFzay5DT1VOVF9UT0tFTlMsIGFwaUtleSwgZmFsc2UsIEpTT04uc3RyaW5naWZ5KHBhcmFtcyksIHNpbmdsZVJlcXVlc3RPcHRpb25zKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZW1iZWRDb250ZW50KGFwaUtleSwgbW9kZWwsIHBhcmFtcywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VNb2RlbFJlcXVlc3QobW9kZWwsIFRhc2suRU1CRURfQ09OVEVOVCwgYXBpS2V5LCBmYWxzZSwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG59XG5hc3luYyBmdW5jdGlvbiBiYXRjaEVtYmVkQ29udGVudHMoYXBpS2V5LCBtb2RlbCwgcGFyYW1zLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IHJlcXVlc3RzV2l0aE1vZGVsID0gcGFyYW1zLnJlcXVlc3RzLm1hcCgocmVxdWVzdCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0KSwgeyBtb2RlbCB9KTtcbiAgICB9KTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VNb2RlbFJlcXVlc3QobW9kZWwsIFRhc2suQkFUQ0hfRU1CRURfQ09OVEVOVFMsIGFwaUtleSwgZmFsc2UsIEpTT04uc3RyaW5naWZ5KHsgcmVxdWVzdHM6IHJlcXVlc3RzV2l0aE1vZGVsIH0pLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ2xhc3MgZm9yIGdlbmVyYXRpdmUgbW9kZWwgQVBJcy5cbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgR2VuZXJhdGl2ZU1vZGVsIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlLZXksIG1vZGVsUGFyYW1zLCBfcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdE9wdGlvbnMgPSBfcmVxdWVzdE9wdGlvbnM7XG4gICAgICAgIGlmIChtb2RlbFBhcmFtcy5tb2RlbC5pbmNsdWRlcyhcIi9cIikpIHtcbiAgICAgICAgICAgIC8vIE1vZGVscyBtYXkgYmUgbmFtZWQgXCJtb2RlbHMvbW9kZWwtbmFtZVwiIG9yIFwidHVuZWRNb2RlbHMvbW9kZWwtbmFtZVwiXG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWxQYXJhbXMubW9kZWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBwYXRoIGlzIG5vdCBpbmNsdWRlZCwgYXNzdW1lIGl0J3MgYSBub24tdHVuZWQgbW9kZWwuXG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gYG1vZGVscy8ke21vZGVsUGFyYW1zLm1vZGVsfWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW5lcmF0aW9uQ29uZmlnID0gbW9kZWxQYXJhbXMuZ2VuZXJhdGlvbkNvbmZpZyB8fCB7fTtcbiAgICAgICAgdGhpcy5zYWZldHlTZXR0aW5ncyA9IG1vZGVsUGFyYW1zLnNhZmV0eVNldHRpbmdzIHx8IFtdO1xuICAgICAgICB0aGlzLnRvb2xzID0gbW9kZWxQYXJhbXMudG9vbHM7XG4gICAgICAgIHRoaXMudG9vbENvbmZpZyA9IG1vZGVsUGFyYW1zLnRvb2xDb25maWc7XG4gICAgICAgIHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24gPSBmb3JtYXRTeXN0ZW1JbnN0cnVjdGlvbihtb2RlbFBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuY2FjaGVkQ29udGVudCA9IG1vZGVsUGFyYW1zLmNhY2hlZENvbnRlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgc2luZ2xlIG5vbi1zdHJlYW1pbmcgY2FsbCB0byB0aGUgbW9kZWxcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBhIHNpbmdsZSB7QGxpbmsgR2VuZXJhdGVDb250ZW50UmVzcG9uc2V9LlxuICAgICAqXG4gICAgICogRmllbGRzIHNldCBpbiB0aGUgb3B0aW9uYWwge0BsaW5rIFNpbmdsZVJlcXVlc3RPcHRpb25zfSBwYXJhbWV0ZXIgd2lsbFxuICAgICAqIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoZSB7QGxpbmsgUmVxdWVzdE9wdGlvbnN9IHZhbHVlcyBwcm92aWRlZCB0b1xuICAgICAqIHtAbGluayBHb29nbGVHZW5lcmF0aXZlQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsIH0uXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVDb250ZW50KHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXJhbXMgPSBmb3JtYXRHZW5lcmF0ZUNvbnRlbnRJbnB1dChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3JlcXVlc3RPcHRpb25zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVDb250ZW50KHRoaXMuYXBpS2V5LCB0aGlzLm1vZGVsLCBPYmplY3QuYXNzaWduKHsgZ2VuZXJhdGlvbkNvbmZpZzogdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCBzYWZldHlTZXR0aW5nczogdGhpcy5zYWZldHlTZXR0aW5ncywgdG9vbHM6IHRoaXMudG9vbHMsIHRvb2xDb25maWc6IHRoaXMudG9vbENvbmZpZywgc3lzdGVtSW5zdHJ1Y3Rpb246IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24sIGNhY2hlZENvbnRlbnQ6IChfYSA9IHRoaXMuY2FjaGVkQ29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUgfSwgZm9ybWF0dGVkUGFyYW1zKSwgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIHNpbmdsZSBzdHJlYW1pbmcgY2FsbCB0byB0aGUgbW9kZWwgYW5kIHJldHVybnMgYW4gb2JqZWN0XG4gICAgICogY29udGFpbmluZyBhbiBpdGVyYWJsZSBzdHJlYW0gdGhhdCBpdGVyYXRlcyBvdmVyIGFsbCBjaHVua3MgaW4gdGhlXG4gICAgICogc3RyZWFtaW5nIHJlc3BvbnNlIGFzIHdlbGwgYXMgYSBwcm9taXNlIHRoYXQgcmV0dXJucyB0aGUgZmluYWxcbiAgICAgKiBhZ2dyZWdhdGVkIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogRmllbGRzIHNldCBpbiB0aGUgb3B0aW9uYWwge0BsaW5rIFNpbmdsZVJlcXVlc3RPcHRpb25zfSBwYXJhbWV0ZXIgd2lsbFxuICAgICAqIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoZSB7QGxpbmsgUmVxdWVzdE9wdGlvbnN9IHZhbHVlcyBwcm92aWRlZCB0b1xuICAgICAqIHtAbGluayBHb29nbGVHZW5lcmF0aXZlQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsIH0uXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVDb250ZW50U3RyZWFtKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXJhbXMgPSBmb3JtYXRHZW5lcmF0ZUNvbnRlbnRJbnB1dChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3JlcXVlc3RPcHRpb25zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVDb250ZW50U3RyZWFtKHRoaXMuYXBpS2V5LCB0aGlzLm1vZGVsLCBPYmplY3QuYXNzaWduKHsgZ2VuZXJhdGlvbkNvbmZpZzogdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCBzYWZldHlTZXR0aW5nczogdGhpcy5zYWZldHlTZXR0aW5ncywgdG9vbHM6IHRoaXMudG9vbHMsIHRvb2xDb25maWc6IHRoaXMudG9vbENvbmZpZywgc3lzdGVtSW5zdHJ1Y3Rpb246IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24sIGNhY2hlZENvbnRlbnQ6IChfYSA9IHRoaXMuY2FjaGVkQ29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUgfSwgZm9ybWF0dGVkUGFyYW1zKSwgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbmV3IHtAbGluayBDaGF0U2Vzc2lvbn0gaW5zdGFuY2Ugd2hpY2ggY2FuIGJlIHVzZWQgZm9yXG4gICAgICogbXVsdGktdHVybiBjaGF0cy5cbiAgICAgKi9cbiAgICBzdGFydENoYXQoc3RhcnRDaGF0UGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0U2Vzc2lvbih0aGlzLmFwaUtleSwgdGhpcy5tb2RlbCwgT2JqZWN0LmFzc2lnbih7IGdlbmVyYXRpb25Db25maWc6IHRoaXMuZ2VuZXJhdGlvbkNvbmZpZywgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRvb2xzOiB0aGlzLnRvb2xzLCB0b29sQ29uZmlnOiB0aGlzLnRvb2xDb25maWcsIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLCBjYWNoZWRDb250ZW50OiAoX2EgPSB0aGlzLmNhY2hlZENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lIH0sIHN0YXJ0Q2hhdFBhcmFtcyksIHRoaXMuX3JlcXVlc3RPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ291bnRzIHRoZSB0b2tlbnMgaW4gdGhlIHByb3ZpZGVkIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBGaWVsZHMgc2V0IGluIHRoZSBvcHRpb25hbCB7QGxpbmsgU2luZ2xlUmVxdWVzdE9wdGlvbnN9IHBhcmFtZXRlciB3aWxsXG4gICAgICogdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gdmFsdWVzIHByb3ZpZGVkIHRvXG4gICAgICoge0BsaW5rIEdvb2dsZUdlbmVyYXRpdmVBSS5nZXRHZW5lcmF0aXZlTW9kZWwgfS5cbiAgICAgKi9cbiAgICBhc3luYyBjb3VudFRva2VucyhyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFBhcmFtcyA9IGZvcm1hdENvdW50VG9rZW5zSW5wdXQocmVxdWVzdCwge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB0aGlzLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogdGhpcy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIHRvb2xzOiB0aGlzLnRvb2xzLFxuICAgICAgICAgICAgdG9vbENvbmZpZzogdGhpcy50b29sQ29uZmlnLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBjYWNoZWRDb250ZW50OiB0aGlzLmNhY2hlZENvbnRlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBnZW5lcmF0aXZlTW9kZWxSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fcmVxdWVzdE9wdGlvbnMpLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBjb3VudFRva2Vucyh0aGlzLmFwaUtleSwgdGhpcy5tb2RlbCwgZm9ybWF0dGVkUGFyYW1zLCBnZW5lcmF0aXZlTW9kZWxSZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtYmVkcyB0aGUgcHJvdmlkZWQgY29udGVudC5cbiAgICAgKlxuICAgICAqIEZpZWxkcyBzZXQgaW4gdGhlIG9wdGlvbmFsIHtAbGluayBTaW5nbGVSZXF1ZXN0T3B0aW9uc30gcGFyYW1ldGVyIHdpbGxcbiAgICAgKiB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGUge0BsaW5rIFJlcXVlc3RPcHRpb25zfSB2YWx1ZXMgcHJvdmlkZWQgdG9cbiAgICAgKiB7QGxpbmsgR29vZ2xlR2VuZXJhdGl2ZUFJLmdldEdlbmVyYXRpdmVNb2RlbCB9LlxuICAgICAqL1xuICAgIGFzeW5jIGVtYmVkQ29udGVudChyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFBhcmFtcyA9IGZvcm1hdEVtYmVkQ29udGVudElucHV0KHJlcXVlc3QpO1xuICAgICAgICBjb25zdCBnZW5lcmF0aXZlTW9kZWxSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fcmVxdWVzdE9wdGlvbnMpLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBlbWJlZENvbnRlbnQodGhpcy5hcGlLZXksIHRoaXMubW9kZWwsIGZvcm1hdHRlZFBhcmFtcywgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWJlZHMgYW4gYXJyYXkgb2Yge0BsaW5rIEVtYmVkQ29udGVudFJlcXVlc3R9cy5cbiAgICAgKlxuICAgICAqIEZpZWxkcyBzZXQgaW4gdGhlIG9wdGlvbmFsIHtAbGluayBTaW5nbGVSZXF1ZXN0T3B0aW9uc30gcGFyYW1ldGVyIHdpbGxcbiAgICAgKiB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGUge0BsaW5rIFJlcXVlc3RPcHRpb25zfSB2YWx1ZXMgcHJvdmlkZWQgdG9cbiAgICAgKiB7QGxpbmsgR29vZ2xlR2VuZXJhdGl2ZUFJLmdldEdlbmVyYXRpdmVNb2RlbCB9LlxuICAgICAqL1xuICAgIGFzeW5jIGJhdGNoRW1iZWRDb250ZW50cyhiYXRjaEVtYmVkQ29udGVudFJlcXVlc3QsIHJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGl2ZU1vZGVsUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3JlcXVlc3RPcHRpb25zKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYmF0Y2hFbWJlZENvbnRlbnRzKHRoaXMuYXBpS2V5LCB0aGlzLm1vZGVsLCBiYXRjaEVtYmVkQ29udGVudFJlcXVlc3QsIGdlbmVyYXRpdmVNb2RlbFJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRvcC1sZXZlbCBjbGFzcyBmb3IgdGhpcyBTREtcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgR29vZ2xlR2VuZXJhdGl2ZUFJIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlLZXkpIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSB7QGxpbmsgR2VuZXJhdGl2ZU1vZGVsfSBpbnN0YW5jZSBmb3IgdGhlIHByb3ZpZGVkIG1vZGVsIG5hbWUuXG4gICAgICovXG4gICAgZ2V0R2VuZXJhdGl2ZU1vZGVsKG1vZGVsUGFyYW1zLCByZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICBpZiAoIW1vZGVsUGFyYW1zLm1vZGVsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoYE11c3QgcHJvdmlkZSBhIG1vZGVsIG5hbWUuIGAgK1xuICAgICAgICAgICAgICAgIGBFeGFtcGxlOiBnZW5haS5nZXRHZW5lcmF0aXZlTW9kZWwoeyBtb2RlbDogJ215LW1vZGVsLW5hbWUnIH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0aXZlTW9kZWwodGhpcy5hcGlLZXksIG1vZGVsUGFyYW1zLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB7QGxpbmsgR2VuZXJhdGl2ZU1vZGVsfSBpbnN0YW5jZSBmcm9tIHByb3ZpZGVkIGNvbnRlbnQgY2FjaGUuXG4gICAgICovXG4gICAgZ2V0R2VuZXJhdGl2ZU1vZGVsRnJvbUNhY2hlZENvbnRlbnQoY2FjaGVkQ29udGVudCwgbW9kZWxQYXJhbXMsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIGlmICghY2FjaGVkQ29udGVudC5uYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJUmVxdWVzdElucHV0RXJyb3IoXCJDYWNoZWQgY29udGVudCBtdXN0IGNvbnRhaW4gYSBgbmFtZWAgZmllbGQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2FjaGVkQ29udGVudC5tb2RlbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEdvb2dsZUdlbmVyYXRpdmVBSVJlcXVlc3RJbnB1dEVycm9yKFwiQ2FjaGVkIGNvbnRlbnQgbXVzdCBjb250YWluIGEgYG1vZGVsYCBmaWVsZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdCBjaGVja2luZyB0b29scyBhbmQgdG9vbENvbmZpZyBmb3Igbm93IGFzIGl0IHdvdWxkIHJlcXVpcmUgYSBkZWVwXG4gICAgICAgICAqIGVxdWFsaXR5IGNvbXBhcmlzb24gYW5kIGlzbid0IGxpa2VseSB0byBiZSBhIGNvbW1vbiBjYXNlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZGlzYWxsb3dlZER1cGxpY2F0ZXMgPSBbXCJtb2RlbFwiLCBcInN5c3RlbUluc3RydWN0aW9uXCJdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBkaXNhbGxvd2VkRHVwbGljYXRlcykge1xuICAgICAgICAgICAgaWYgKChtb2RlbFBhcmFtcyA9PT0gbnVsbCB8fCBtb2RlbFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kZWxQYXJhbXNba2V5XSkgJiZcbiAgICAgICAgICAgICAgICBjYWNoZWRDb250ZW50W2tleV0gJiZcbiAgICAgICAgICAgICAgICAobW9kZWxQYXJhbXMgPT09IG51bGwgfHwgbW9kZWxQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZGVsUGFyYW1zW2tleV0pICE9PSBjYWNoZWRDb250ZW50W2tleV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcIm1vZGVsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxQYXJhbXNDb21wID0gbW9kZWxQYXJhbXMubW9kZWwuc3RhcnRzV2l0aChcIm1vZGVscy9cIilcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxQYXJhbXMubW9kZWwucmVwbGFjZShcIm1vZGVscy9cIiwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxQYXJhbXMubW9kZWw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZENvbnRlbnRDb21wID0gY2FjaGVkQ29udGVudC5tb2RlbC5zdGFydHNXaXRoKFwibW9kZWxzL1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjYWNoZWRDb250ZW50Lm1vZGVsLnJlcGxhY2UoXCJtb2RlbHMvXCIsIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNhY2hlZENvbnRlbnQubW9kZWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbFBhcmFtc0NvbXAgPT09IGNhY2hlZENvbnRlbnRDb21wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJUmVxdWVzdElucHV0RXJyb3IoYERpZmZlcmVudCB2YWx1ZSBmb3IgXCIke2tleX1cIiBzcGVjaWZpZWQgaW4gbW9kZWxQYXJhbXNgICtcbiAgICAgICAgICAgICAgICAgICAgYCAoJHttb2RlbFBhcmFtc1trZXldfSkgYW5kIGNhY2hlZENvbnRlbnQgKCR7Y2FjaGVkQ29udGVudFtrZXldfSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2RlbFBhcmFtc0Zyb21DYWNoZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbW9kZWxQYXJhbXMpLCB7IG1vZGVsOiBjYWNoZWRDb250ZW50Lm1vZGVsLCB0b29sczogY2FjaGVkQ29udGVudC50b29scywgdG9vbENvbmZpZzogY2FjaGVkQ29udGVudC50b29sQ29uZmlnLCBzeXN0ZW1JbnN0cnVjdGlvbjogY2FjaGVkQ29udGVudC5zeXN0ZW1JbnN0cnVjdGlvbiwgY2FjaGVkQ29udGVudCB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0aXZlTW9kZWwodGhpcy5hcGlLZXksIG1vZGVsUGFyYW1zRnJvbUNhY2hlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBCbG9ja1JlYXNvbiwgQ2hhdFNlc3Npb24sIER5bmFtaWNSZXRyaWV2YWxNb2RlLCBFeGVjdXRhYmxlQ29kZUxhbmd1YWdlLCBGaW5pc2hSZWFzb24sIEZ1bmN0aW9uQ2FsbGluZ01vZGUsIEdlbmVyYXRpdmVNb2RlbCwgR29vZ2xlR2VuZXJhdGl2ZUFJLCBHb29nbGVHZW5lcmF0aXZlQUlFcnJvciwgR29vZ2xlR2VuZXJhdGl2ZUFJRmV0Y2hFcnJvciwgR29vZ2xlR2VuZXJhdGl2ZUFJUmVxdWVzdElucHV0RXJyb3IsIEdvb2dsZUdlbmVyYXRpdmVBSVJlc3BvbnNlRXJyb3IsIEhhcm1CbG9ja1RocmVzaG9sZCwgSGFybUNhdGVnb3J5LCBIYXJtUHJvYmFiaWxpdHksIE91dGNvbWUsIFBPU1NJQkxFX1JPTEVTLCBTY2hlbWFUeXBlLCBUYXNrVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@google/generative-ai/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@radix-ui/react-accordion/dist/index.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@radix-ui/react-accordion/dist/index.mjs ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Accordion: function() { return /* binding */ Accordion; },\n/* harmony export */   AccordionContent: function() { return /* binding */ AccordionContent; },\n/* harmony export */   AccordionHeader: function() { return /* binding */ AccordionHeader; },\n/* harmony export */   AccordionItem: function() { return /* binding */ AccordionItem; },\n/* harmony export */   AccordionTrigger: function() { return /* binding */ AccordionTrigger; },\n/* harmony export */   Content: function() { return /* binding */ Content2; },\n/* harmony export */   Header: function() { return /* binding */ Header; },\n/* harmony export */   Item: function() { return /* binding */ Item; },\n/* harmony export */   Root: function() { return /* binding */ Root2; },\n/* harmony export */   Trigger: function() { return /* binding */ Trigger2; },\n/* harmony export */   createAccordionScope: function() { return /* binding */ createAccordionScope; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-context */ \"(app-pages-browser)/./node_modules/@radix-ui/react-context/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_collection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-collection */ \"(app-pages-browser)/./node_modules/@radix-ui/react-collection/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(app-pages-browser)/./node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-use-controllable-state */ \"(app-pages-browser)/./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-collapsible */ \"(app-pages-browser)/./node_modules/@radix-ui/react-collapsible/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-id */ \"(app-pages-browser)/./node_modules/@radix-ui/react-id/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_direction__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-direction */ \"(app-pages-browser)/./node_modules/@radix-ui/react-direction/dist/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* __next_internal_client_entry_do_not_use__ Accordion,AccordionContent,AccordionHeader,AccordionItem,AccordionTrigger,Content,Header,Item,Root,Trigger,createAccordionScope auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$();\n// packages/react/accordion/src/Accordion.tsx\n\n\n\n\n\n\n\n\n\n\n\n\nvar ACCORDION_NAME = \"Accordion\";\nvar ACCORDION_KEYS = [\n    \"Home\",\n    \"End\",\n    \"ArrowDown\",\n    \"ArrowUp\",\n    \"ArrowLeft\",\n    \"ArrowRight\"\n];\nvar [Collection, useCollection, createCollectionScope] = (0,_radix_ui_react_collection__WEBPACK_IMPORTED_MODULE_2__.createCollection)(ACCORDION_NAME);\nvar [createAccordionContext, createAccordionScope] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_3__.createContextScope)(ACCORDION_NAME, [\n    createCollectionScope,\n    _radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_4__.createCollapsibleScope\n]);\nvar useCollapsibleScope = (0,_radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_4__.createCollapsibleScope)();\nvar Accordion = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c = (props, forwardedRef)=>{\n    const { type, ...accordionProps } = props;\n    const singleProps = accordionProps;\n    const multipleProps = accordionProps;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Collection.Provider, {\n        scope: props.__scopeAccordion,\n        children: type === \"multiple\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionImplMultiple, {\n            ...multipleProps,\n            ref: forwardedRef\n        }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionImplSingle, {\n            ...singleProps,\n            ref: forwardedRef\n        })\n    });\n});\n_c1 = Accordion;\nAccordion.displayName = ACCORDION_NAME;\nvar [AccordionValueProvider, useAccordionValueContext] = createAccordionContext(ACCORDION_NAME);\nvar [AccordionCollapsibleProvider, useAccordionCollapsibleContext] = createAccordionContext(ACCORDION_NAME, {\n    collapsible: false\n});\nvar AccordionImplSingle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_s((props, forwardedRef)=>{\n    _s();\n    const { value: valueProp, defaultValue, onValueChange = ()=>{}, collapsible = false, ...accordionSingleProps } = props;\n    const [value, setValue] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_5__.useControllableState)({\n        prop: valueProp,\n        defaultProp: defaultValue,\n        onChange: onValueChange\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionValueProvider, {\n        scope: props.__scopeAccordion,\n        value: value ? [\n            value\n        ] : [],\n        onItemOpen: setValue,\n        onItemClose: react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>collapsible && setValue(\"\"), [\n            collapsible,\n            setValue\n        ]),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionCollapsibleProvider, {\n            scope: props.__scopeAccordion,\n            collapsible,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionImpl, {\n                ...accordionSingleProps,\n                ref: forwardedRef\n            })\n        })\n    });\n}, \"YOJQv+i1EvBOKDG6O/UTsoi+R8w=\", false, function() {\n    return [\n        _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_5__.useControllableState\n    ];\n}));\n_c2 = AccordionImplSingle;\nvar AccordionImplMultiple = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_s1((props, forwardedRef)=>{\n    _s1();\n    const { value: valueProp, defaultValue, onValueChange = ()=>{}, ...accordionMultipleProps } = props;\n    const [value = [], setValue] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_5__.useControllableState)({\n        prop: valueProp,\n        defaultProp: defaultValue,\n        onChange: onValueChange\n    });\n    const handleItemOpen = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((itemValue)=>setValue(function() {\n            let prevValue = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n            return [\n                ...prevValue,\n                itemValue\n            ];\n        }), [\n        setValue\n    ]);\n    const handleItemClose = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((itemValue)=>setValue(function() {\n            let prevValue = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n            return prevValue.filter((value2)=>value2 !== itemValue);\n        }), [\n        setValue\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionValueProvider, {\n        scope: props.__scopeAccordion,\n        value,\n        onItemOpen: handleItemOpen,\n        onItemClose: handleItemClose,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionCollapsibleProvider, {\n            scope: props.__scopeAccordion,\n            collapsible: true,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionImpl, {\n                ...accordionMultipleProps,\n                ref: forwardedRef\n            })\n        })\n    });\n}, \"3jBK5t/ELs78wpLvic1FExRmZ80=\", false, function() {\n    return [\n        _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_5__.useControllableState\n    ];\n}));\n_c3 = AccordionImplMultiple;\nvar [AccordionImplProvider, useAccordionContext] = createAccordionContext(ACCORDION_NAME);\nvar AccordionImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_s2((props, forwardedRef)=>{\n    _s2();\n    const { __scopeAccordion, disabled, dir, orientation = \"vertical\", ...accordionProps } = props;\n    const accordionRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.useComposedRefs)(accordionRef, forwardedRef);\n    const getItems = useCollection(__scopeAccordion);\n    const direction = (0,_radix_ui_react_direction__WEBPACK_IMPORTED_MODULE_7__.useDirection)(dir);\n    const isDirectionLTR = direction === \"ltr\";\n    const handleKeyDown = (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onKeyDown, (event)=>{\n        var _triggerCollection_clampedIndex_ref_current;\n        if (!ACCORDION_KEYS.includes(event.key)) return;\n        const target = event.target;\n        const triggerCollection = getItems().filter((item)=>{\n            var _item_ref_current;\n            return !((_item_ref_current = item.ref.current) === null || _item_ref_current === void 0 ? void 0 : _item_ref_current.disabled);\n        });\n        const triggerIndex = triggerCollection.findIndex((item)=>item.ref.current === target);\n        const triggerCount = triggerCollection.length;\n        if (triggerIndex === -1) return;\n        event.preventDefault();\n        let nextIndex = triggerIndex;\n        const homeIndex = 0;\n        const endIndex = triggerCount - 1;\n        const moveNext = ()=>{\n            nextIndex = triggerIndex + 1;\n            if (nextIndex > endIndex) {\n                nextIndex = homeIndex;\n            }\n        };\n        const movePrev = ()=>{\n            nextIndex = triggerIndex - 1;\n            if (nextIndex < homeIndex) {\n                nextIndex = endIndex;\n            }\n        };\n        switch(event.key){\n            case \"Home\":\n                nextIndex = homeIndex;\n                break;\n            case \"End\":\n                nextIndex = endIndex;\n                break;\n            case \"ArrowRight\":\n                if (orientation === \"horizontal\") {\n                    if (isDirectionLTR) {\n                        moveNext();\n                    } else {\n                        movePrev();\n                    }\n                }\n                break;\n            case \"ArrowDown\":\n                if (orientation === \"vertical\") {\n                    moveNext();\n                }\n                break;\n            case \"ArrowLeft\":\n                if (orientation === \"horizontal\") {\n                    if (isDirectionLTR) {\n                        movePrev();\n                    } else {\n                        moveNext();\n                    }\n                }\n                break;\n            case \"ArrowUp\":\n                if (orientation === \"vertical\") {\n                    movePrev();\n                }\n                break;\n        }\n        const clampedIndex = nextIndex % triggerCount;\n        (_triggerCollection_clampedIndex_ref_current = triggerCollection[clampedIndex].ref.current) === null || _triggerCollection_clampedIndex_ref_current === void 0 ? void 0 : _triggerCollection_clampedIndex_ref_current.focus();\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionImplProvider, {\n        scope: __scopeAccordion,\n        disabled,\n        direction: dir,\n        orientation,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Collection.Slot, {\n            scope: __scopeAccordion,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_9__.Primitive.div, {\n                ...accordionProps,\n                \"data-orientation\": orientation,\n                ref: composedRefs,\n                onKeyDown: disabled ? void 0 : handleKeyDown\n            })\n        })\n    });\n}, \"UmoGUz63p0bZH/a5iAuDKmrRGFA=\", false, function() {\n    return [\n        _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.useComposedRefs,\n        useCollection,\n        _radix_ui_react_direction__WEBPACK_IMPORTED_MODULE_7__.useDirection\n    ];\n}));\n_c4 = AccordionImpl;\nvar ITEM_NAME = \"AccordionItem\";\nvar [AccordionItemProvider, useAccordionItemContext] = createAccordionContext(ITEM_NAME);\nvar AccordionItem = /*#__PURE__*/ _s3(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c5 = _s3((props, forwardedRef)=>{\n    _s3();\n    const { __scopeAccordion, value, ...accordionItemProps } = props;\n    const accordionContext = useAccordionContext(ITEM_NAME, __scopeAccordion);\n    const valueContext = useAccordionValueContext(ITEM_NAME, __scopeAccordion);\n    const collapsibleScope = useCollapsibleScope(__scopeAccordion);\n    const triggerId = (0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_10__.useId)();\n    const open = value && valueContext.value.includes(value) || false;\n    const disabled = accordionContext.disabled || props.disabled;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AccordionItemProvider, {\n        scope: __scopeAccordion,\n        open,\n        disabled,\n        triggerId,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_4__.Root, {\n            \"data-orientation\": accordionContext.orientation,\n            \"data-state\": getState(open),\n            ...collapsibleScope,\n            ...accordionItemProps,\n            ref: forwardedRef,\n            disabled,\n            open,\n            onOpenChange: (open2)=>{\n                if (open2) {\n                    valueContext.onItemOpen(value);\n                } else {\n                    valueContext.onItemClose(value);\n                }\n            }\n        })\n    });\n}, \"9HZc62P1xPGVzZftLIblr9z3YIo=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionValueContext,\n        useCollapsibleScope,\n        _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_10__.useId\n    ];\n})), \"9HZc62P1xPGVzZftLIblr9z3YIo=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionValueContext,\n        useCollapsibleScope,\n        _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_10__.useId\n    ];\n});\n_c6 = AccordionItem;\nAccordionItem.displayName = ITEM_NAME;\nvar HEADER_NAME = \"AccordionHeader\";\nvar AccordionHeader = /*#__PURE__*/ _s4(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c7 = _s4((props, forwardedRef)=>{\n    _s4();\n    const { __scopeAccordion, ...headerProps } = props;\n    const accordionContext = useAccordionContext(ACCORDION_NAME, __scopeAccordion);\n    const itemContext = useAccordionItemContext(HEADER_NAME, __scopeAccordion);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_9__.Primitive.h3, {\n        \"data-orientation\": accordionContext.orientation,\n        \"data-state\": getState(itemContext.open),\n        \"data-disabled\": itemContext.disabled ? \"\" : void 0,\n        ...headerProps,\n        ref: forwardedRef\n    });\n}, \"inWl258rEuxe4f3bSkTq2KINMjY=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionItemContext\n    ];\n})), \"inWl258rEuxe4f3bSkTq2KINMjY=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionItemContext\n    ];\n});\n_c8 = AccordionHeader;\nAccordionHeader.displayName = HEADER_NAME;\nvar TRIGGER_NAME = \"AccordionTrigger\";\nvar AccordionTrigger = /*#__PURE__*/ _s5(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c9 = _s5((props, forwardedRef)=>{\n    _s5();\n    const { __scopeAccordion, ...triggerProps } = props;\n    const accordionContext = useAccordionContext(ACCORDION_NAME, __scopeAccordion);\n    const itemContext = useAccordionItemContext(TRIGGER_NAME, __scopeAccordion);\n    const collapsibleContext = useAccordionCollapsibleContext(TRIGGER_NAME, __scopeAccordion);\n    const collapsibleScope = useCollapsibleScope(__scopeAccordion);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Collection.ItemSlot, {\n        scope: __scopeAccordion,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_4__.Trigger, {\n            \"aria-disabled\": itemContext.open && !collapsibleContext.collapsible || void 0,\n            \"data-orientation\": accordionContext.orientation,\n            id: itemContext.triggerId,\n            ...collapsibleScope,\n            ...triggerProps,\n            ref: forwardedRef\n        })\n    });\n}, \"k1O3jvAtFBZXd9NDld6mPI3W8fE=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionItemContext,\n        useAccordionCollapsibleContext,\n        useCollapsibleScope\n    ];\n})), \"k1O3jvAtFBZXd9NDld6mPI3W8fE=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionItemContext,\n        useAccordionCollapsibleContext,\n        useCollapsibleScope\n    ];\n});\n_c10 = AccordionTrigger;\nAccordionTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"AccordionContent\";\nvar AccordionContent = /*#__PURE__*/ _s6(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c11 = _s6((props, forwardedRef)=>{\n    _s6();\n    const { __scopeAccordion, ...contentProps } = props;\n    const accordionContext = useAccordionContext(ACCORDION_NAME, __scopeAccordion);\n    const itemContext = useAccordionItemContext(CONTENT_NAME, __scopeAccordion);\n    const collapsibleScope = useCollapsibleScope(__scopeAccordion);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_4__.Content, {\n        role: \"region\",\n        \"aria-labelledby\": itemContext.triggerId,\n        \"data-orientation\": accordionContext.orientation,\n        ...collapsibleScope,\n        ...contentProps,\n        ref: forwardedRef,\n        style: {\n            [\"--radix-accordion-content-height\"]: \"var(--radix-collapsible-content-height)\",\n            [\"--radix-accordion-content-width\"]: \"var(--radix-collapsible-content-width)\",\n            ...props.style\n        }\n    });\n}, \"tzd2G7SnAC4y3ZL4FI6Ll5GYg7s=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionItemContext,\n        useCollapsibleScope\n    ];\n})), \"tzd2G7SnAC4y3ZL4FI6Ll5GYg7s=\", false, function() {\n    return [\n        useAccordionContext,\n        useAccordionItemContext,\n        useCollapsibleScope\n    ];\n});\n_c12 = AccordionContent;\nAccordionContent.displayName = CONTENT_NAME;\nfunction getState(open) {\n    return open ? \"open\" : \"closed\";\n}\nvar Root2 = Accordion;\nvar Item = AccordionItem;\nvar Header = AccordionHeader;\nvar Trigger2 = AccordionTrigger;\nvar Content2 = AccordionContent;\n //# sourceMappingURL=index.mjs.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n$RefreshReg$(_c, \"Accordion$React.forwardRef\");\n$RefreshReg$(_c1, \"Accordion\");\n$RefreshReg$(_c2, \"AccordionImplSingle\");\n$RefreshReg$(_c3, \"AccordionImplMultiple\");\n$RefreshReg$(_c4, \"AccordionImpl\");\n$RefreshReg$(_c5, \"AccordionItem$React.forwardRef\");\n$RefreshReg$(_c6, \"AccordionItem\");\n$RefreshReg$(_c7, \"AccordionHeader$React.forwardRef\");\n$RefreshReg$(_c8, \"AccordionHeader\");\n$RefreshReg$(_c9, \"AccordionTrigger$React.forwardRef\");\n$RefreshReg$(_c10, \"AccordionTrigger\");\n$RefreshReg$(_c11, \"AccordionContent$React.forwardRef\");\n$RefreshReg$(_c12, \"AccordionContent\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtYWNjb3JkaW9uL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrQjtBQUNpQjtBQUNGO0FBQ0Q7QUFDSztBQUNBO0FBQ1g7QUFDWTtBQUNDO0FBQ2pCO0FBR087QUFxQ25CO0FBN0JWLElBQU1ZLGlCQUFpQjtBQUN2QixJQUFNQyxpQkFBaUI7SUFBQztJQUFRO0lBQU87SUFBYTtJQUFXO0lBQWE7Q0FBWTtBQUV4RixJQUFNLENBQUNDLFlBQVlDLGVBQWVDLHNCQUFxQixHQUNyRGQsNEVBQWdCQSxDQUEwQlU7QUFHNUMsSUFBTSxDQUFDSyx3QkFBd0JDLHFCQUFvQixHQUFJakIsMkVBQWtCQSxDQUFDVyxnQkFBZ0I7SUFDeEZJO0lBQ0FSLCtFQUFzQkE7Q0FDdkI7QUFDRCxJQUFNVyxzQkFBc0JYLG1GQUFzQkE7QUFVbEQsSUFBTVksMEJBQVlwQiw2Q0FBTSxNQUN0QixDQUFDc0IsT0FBbUVDO0lBQ2xFLE1BQU0sRUFBRUMsSUFBQSxFQUFNLEdBQUdDLGdCQUFlLEdBQUlIO0lBQ3BDLE1BQU1JLGNBQWNEO0lBQ3BCLE1BQU1FLGdCQUFnQkY7SUFDdEIsT0FDRSxnQkFBQWQsc0RBQUFBLENBQUNHLFdBQVdjLFFBQUEsRUFBWDtRQUFvQkMsT0FBT1AsTUFBTVEsZ0JBQUE7UUFDL0JDLFVBQUFQLFNBQVMsYUFDUixnQkFBQWIsc0RBQUFBLENBQUNxQix1QkFBQTtZQUF1QixHQUFHTCxhQUFBO1lBQWVNLEtBQUtWO1FBQUEsS0FFL0MsZ0JBQUFaLHNEQUFBQSxDQUFDdUIscUJBQUE7WUFBcUIsR0FBR1IsV0FBQTtZQUFhTyxLQUFLVjtRQUFBO0lBQWM7QUFJakU7O0FBR0ZILFVBQVVlLFdBQUEsR0FBY3ZCO0FBVXhCLElBQU0sQ0FBQ3dCLHdCQUF3QkMseUJBQXdCLEdBQ3JEcEIsdUJBQW1ETDtBQUVyRCxJQUFNLENBQUMw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QixjQUFjekY7SUFDMUQsTUFBTXVFLG1CQUFtQmxGLG9CQUFvQlc7SUFDN0MsT0FDRSxnQkFBQW5CLHNEQUFBQSxDQUFzQkosZ0VBQUEsRUFBckI7UUFDQ29ILE1BQUs7UUFDTCxtQkFBaUJiLFlBQVlSLFNBQUE7UUFDN0Isb0JBQWtCSCxpQkFBaUJuQyxXQUFBO1FBQ2xDLEdBQUdxQyxnQkFBQTtRQUNILEdBQUdvQixZQUFBO1FBQ0p4RixLQUFLVjtRQUNMcUcsT0FBTztZQUNMLENBQUMsbUNBQXlDLEVBQUc7WUFDN0MsQ0FBQyxrQ0FBd0MsRUFBRztZQUM1QyxHQUFHdEcsTUFBTXNHLEtBQUE7UUFDWDtJQUFBO0FBR047O1FBbEIyQi9EO1FBQ0xtQztRQUNLN0U7Ozs7UUFGQTBDO1FBQ0xtQztRQUNLN0U7Ozs7QUFtQjdCcUcsaUJBQWlCckYsV0FBQSxHQUFjb0Y7QUFJL0IsU0FBU2QsU0FBU0YsSUFBQTtJQUNoQixPQUFPQSxPQUFPLFNBQVM7QUFDekI7QUFFQSxJQUFNQyxRQUFPcEY7QUFDYixJQUFNeUcsT0FBTzVCO0FBQ2IsSUFBTTZCLFNBQVNsQjtBQUNmLElBQU1TLFdBQVVKO0FBQ2hCLElBQU1TLFdBQVVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi9zcmMvQWNjb3JkaW9uLnRzeD8xOTJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0U2NvcGUgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtY29udGV4dCc7XG5pbXBvcnQgeyBjcmVhdGVDb2xsZWN0aW9uIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmcyc7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gJ0ByYWRpeC11aS9wcmltaXRpdmUnO1xuaW1wb3J0IHsgdXNlQ29udHJvbGxhYmxlU3RhdGUgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdXNlLWNvbnRyb2xsYWJsZS1zdGF0ZSc7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlJztcbmltcG9ydCAqIGFzIENvbGxhcHNpYmxlUHJpbWl0aXZlIGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb2xsYXBzaWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVDb2xsYXBzaWJsZVNjb3BlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWNvbGxhcHNpYmxlJztcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWlkJztcblxuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb250ZXh0JztcbmltcG9ydCB7IHVzZURpcmVjdGlvbiB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1kaXJlY3Rpb24nO1xuXG50eXBlIERpcmVjdGlvbiA9ICdsdHInIHwgJ3J0bCc7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFjY29yZGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBBQ0NPUkRJT05fTkFNRSA9ICdBY2NvcmRpb24nO1xuY29uc3QgQUNDT1JESU9OX0tFWVMgPSBbJ0hvbWUnLCAnRW5kJywgJ0Fycm93RG93bicsICdBcnJvd1VwJywgJ0Fycm93TGVmdCcsICdBcnJvd1JpZ2h0J107XG5cbmNvbnN0IFtDb2xsZWN0aW9uLCB1c2VDb2xsZWN0aW9uLCBjcmVhdGVDb2xsZWN0aW9uU2NvcGVdID1cbiAgY3JlYXRlQ29sbGVjdGlvbjxBY2NvcmRpb25UcmlnZ2VyRWxlbWVudD4oQUNDT1JESU9OX05BTUUpO1xuXG50eXBlIFNjb3BlZFByb3BzPFA+ID0gUCAmIHsgX19zY29wZUFjY29yZGlvbj86IFNjb3BlIH07XG5jb25zdCBbY3JlYXRlQWNjb3JkaW9uQ29udGV4dCwgY3JlYXRlQWNjb3JkaW9uU2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKEFDQ09SRElPTl9OQU1FLCBbXG4gIGNyZWF0ZUNvbGxlY3Rpb25TY29wZSxcbiAgY3JlYXRlQ29sbGFwc2libGVTY29wZSxcbl0pO1xuY29uc3QgdXNlQ29sbGFwc2libGVTY29wZSA9IGNyZWF0ZUNvbGxhcHNpYmxlU2NvcGUoKTtcblxudHlwZSBBY2NvcmRpb25FbGVtZW50ID0gQWNjb3JkaW9uSW1wbE11bHRpcGxlRWxlbWVudCB8IEFjY29yZGlvbkltcGxTaW5nbGVFbGVtZW50O1xuaW50ZXJmYWNlIEFjY29yZGlvblNpbmdsZVByb3BzIGV4dGVuZHMgQWNjb3JkaW9uSW1wbFNpbmdsZVByb3BzIHtcbiAgdHlwZTogJ3NpbmdsZSc7XG59XG5pbnRlcmZhY2UgQWNjb3JkaW9uTXVsdGlwbGVQcm9wcyBleHRlbmRzIEFjY29yZGlvbkltcGxNdWx0aXBsZVByb3BzIHtcbiAgdHlwZTogJ211bHRpcGxlJztcbn1cblxuY29uc3QgQWNjb3JkaW9uID0gUmVhY3QuZm9yd2FyZFJlZjxBY2NvcmRpb25FbGVtZW50LCBBY2NvcmRpb25TaW5nbGVQcm9wcyB8IEFjY29yZGlvbk11bHRpcGxlUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPEFjY29yZGlvblNpbmdsZVByb3BzIHwgQWNjb3JkaW9uTXVsdGlwbGVQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgdHlwZSwgLi4uYWNjb3JkaW9uUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHNpbmdsZVByb3BzID0gYWNjb3JkaW9uUHJvcHMgYXMgQWNjb3JkaW9uSW1wbFNpbmdsZVByb3BzO1xuICAgIGNvbnN0IG11bHRpcGxlUHJvcHMgPSBhY2NvcmRpb25Qcm9wcyBhcyBBY2NvcmRpb25JbXBsTXVsdGlwbGVQcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPENvbGxlY3Rpb24uUHJvdmlkZXIgc2NvcGU9e3Byb3BzLl9fc2NvcGVBY2NvcmRpb259PlxuICAgICAgICB7dHlwZSA9PT0gJ211bHRpcGxlJyA/IChcbiAgICAgICAgICA8QWNjb3JkaW9uSW1wbE11bHRpcGxlIHsuLi5tdWx0aXBsZVByb3BzfSByZWY9e2ZvcndhcmRlZFJlZn0gLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8QWNjb3JkaW9uSW1wbFNpbmdsZSB7Li4uc2luZ2xlUHJvcHN9IHJlZj17Zm9yd2FyZGVkUmVmfSAvPlxuICAgICAgICApfVxuICAgICAgPC9Db2xsZWN0aW9uLlByb3ZpZGVyPlxuICAgICk7XG4gIH1cbik7XG5cbkFjY29yZGlvbi5kaXNwbGF5TmFtZSA9IEFDQ09SRElPTl9OQU1FO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbnR5cGUgQWNjb3JkaW9uVmFsdWVDb250ZXh0VmFsdWUgPSB7XG4gIHZhbHVlOiBzdHJpbmdbXTtcbiAgb25JdGVtT3Blbih2YWx1ZTogc3RyaW5nKTogdm9pZDtcbiAgb25JdGVtQ2xvc2UodmFsdWU6IHN0cmluZyk6IHZvaWQ7XG59O1xuXG5jb25zdCBbQWNjb3JkaW9uVmFsdWVQcm92aWRlciwgdXNlQWNjb3JkaW9uVmFsdWVDb250ZXh0XSA9XG4gIGNyZWF0ZUFjY29yZGlvbkNvbnRleHQ8QWNjb3JkaW9uVmFsdWVDb250ZXh0VmFsdWU+KEFDQ09SRElPTl9OQU1FKTtcblxuY29uc3QgW0FjY29yZGlvbkNvbGxhcHNpYmxlUHJvdmlkZXIsIHVzZUFjY29yZGlvbkNvbGxhcHNpYmxlQ29udGV4dF0gPSBjcmVhdGVBY2NvcmRpb25Db250ZXh0KFxuICBBQ0NPUkRJT05fTkFNRSxcbiAgeyBjb2xsYXBzaWJsZTogZmFsc2UgfVxuKTtcblxudHlwZSBBY2NvcmRpb25JbXBsU2luZ2xlRWxlbWVudCA9IEFjY29yZGlvbkltcGxFbGVtZW50O1xuaW50ZXJmYWNlIEFjY29yZGlvbkltcGxTaW5nbGVQcm9wcyBleHRlbmRzIEFjY29yZGlvbkltcGxQcm9wcyB7XG4gIC8qKlxuICAgKiBUaGUgY29udHJvbGxlZCBzdGF0ZWZ1bCB2YWx1ZSBvZiB0aGUgYWNjb3JkaW9uIGl0ZW0gd2hvc2UgY29udGVudCBpcyBleHBhbmRlZC5cbiAgICovXG4gIHZhbHVlPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBpdGVtIHdob3NlIGNvbnRlbnQgaXMgZXhwYW5kZWQgd2hlbiB0aGUgYWNjb3JkaW9uIGlzIGluaXRpYWxseSByZW5kZXJlZC4gVXNlXG4gICAqIGBkZWZhdWx0VmFsdWVgIGlmIHlvdSBkbyBub3QgbmVlZCB0byBjb250cm9sIHRoZSBzdGF0ZSBvZiBhbiBhY2NvcmRpb24uXG4gICAqL1xuICBkZWZhdWx0VmFsdWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FsbGJhY2sgdGhhdCBmaXJlcyB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgYWNjb3JkaW9uIGNoYW5nZXMuXG4gICAqL1xuICBvblZhbHVlQ2hhbmdlPyh2YWx1ZTogc3RyaW5nKTogdm9pZDtcbiAgLyoqXG4gICAqIFdoZXRoZXIgYW4gYWNjb3JkaW9uIGl0ZW0gY2FuIGJlIGNvbGxhcHNlZCBhZnRlciBpdCBoYXMgYmVlbiBvcGVuZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBjb2xsYXBzaWJsZT86IGJvb2xlYW47XG59XG5cbmNvbnN0IEFjY29yZGlvbkltcGxTaW5nbGUgPSBSZWFjdC5mb3J3YXJkUmVmPEFjY29yZGlvbkltcGxTaW5nbGVFbGVtZW50LCBBY2NvcmRpb25JbXBsU2luZ2xlUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPEFjY29yZGlvbkltcGxTaW5nbGVQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlOiB2YWx1ZVByb3AsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICBvblZhbHVlQ2hhbmdlID0gKCkgPT4ge30sXG4gICAgICBjb2xsYXBzaWJsZSA9IGZhbHNlLFxuICAgICAgLi4uYWNjb3JkaW9uU2luZ2xlUHJvcHNcbiAgICB9ID0gcHJvcHM7XG5cbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICAgIHByb3A6IHZhbHVlUHJvcCxcbiAgICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0VmFsdWUsXG4gICAgICBvbkNoYW5nZTogb25WYWx1ZUNoYW5nZSxcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8QWNjb3JkaW9uVmFsdWVQcm92aWRlclxuICAgICAgICBzY29wZT17cHJvcHMuX19zY29wZUFjY29yZGlvbn1cbiAgICAgICAgdmFsdWU9e3ZhbHVlID8gW3ZhbHVlXSA6IFtdfVxuICAgICAgICBvbkl0ZW1PcGVuPXtzZXRWYWx1ZX1cbiAgICAgICAgb25JdGVtQ2xvc2U9e1JlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGNvbGxhcHNpYmxlICYmIHNldFZhbHVlKCcnKSwgW2NvbGxhcHNpYmxlLCBzZXRWYWx1ZV0pfVxuICAgICAgPlxuICAgICAgICA8QWNjb3JkaW9uQ29sbGFwc2libGVQcm92aWRlciBzY29wZT17cHJvcHMuX19zY29wZUFjY29yZGlvbn0gY29sbGFwc2libGU9e2NvbGxhcHNpYmxlfT5cbiAgICAgICAgICA8QWNjb3JkaW9uSW1wbCB7Li4uYWNjb3JkaW9uU2luZ2xlUHJvcHN9IHJlZj17Zm9yd2FyZGVkUmVmfSAvPlxuICAgICAgICA8L0FjY29yZGlvbkNvbGxhcHNpYmxlUHJvdmlkZXI+XG4gICAgICA8L0FjY29yZGlvblZhbHVlUHJvdmlkZXI+XG4gICAgKTtcbiAgfVxuKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG50eXBlIEFjY29yZGlvbkltcGxNdWx0aXBsZUVsZW1lbnQgPSBBY2NvcmRpb25JbXBsRWxlbWVudDtcbmludGVyZmFjZSBBY2NvcmRpb25JbXBsTXVsdGlwbGVQcm9wcyBleHRlbmRzIEFjY29yZGlvbkltcGxQcm9wcyB7XG4gIC8qKlxuICAgKiBUaGUgY29udHJvbGxlZCBzdGF0ZWZ1bCB2YWx1ZSBvZiB0aGUgYWNjb3JkaW9uIGl0ZW1zIHdob3NlIGNvbnRlbnRzIGFyZSBleHBhbmRlZC5cbiAgICovXG4gIHZhbHVlPzogc3RyaW5nW107XG4gIC8qKlxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIGl0ZW1zIHdob3NlIGNvbnRlbnRzIGFyZSBleHBhbmRlZCB3aGVuIHRoZSBhY2NvcmRpb24gaXMgaW5pdGlhbGx5IHJlbmRlcmVkLiBVc2VcbiAgICogYGRlZmF1bHRWYWx1ZWAgaWYgeW91IGRvIG5vdCBuZWVkIHRvIGNvbnRyb2wgdGhlIHN0YXRlIG9mIGFuIGFjY29yZGlvbi5cbiAgICovXG4gIGRlZmF1bHRWYWx1ZT86IHN0cmluZ1tdO1xuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIHRoYXQgZmlyZXMgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIGFjY29yZGlvbiBjaGFuZ2VzLlxuICAgKi9cbiAgb25WYWx1ZUNoYW5nZT8odmFsdWU6IHN0cmluZ1tdKTogdm9pZDtcbn1cblxuY29uc3QgQWNjb3JkaW9uSW1wbE11bHRpcGxlID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgQWNjb3JkaW9uSW1wbE11bHRpcGxlRWxlbWVudCxcbiAgQWNjb3JkaW9uSW1wbE11bHRpcGxlUHJvcHNcbj4oKHByb3BzOiBTY29wZWRQcm9wczxBY2NvcmRpb25JbXBsTXVsdGlwbGVQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgdmFsdWU6IHZhbHVlUHJvcCxcbiAgICBkZWZhdWx0VmFsdWUsXG4gICAgb25WYWx1ZUNoYW5nZSA9ICgpID0+IHt9LFxuICAgIC4uLmFjY29yZGlvbk11bHRpcGxlUHJvcHNcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IFt2YWx1ZSA9IFtdLCBzZXRWYWx1ZV0gPSB1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gICAgcHJvcDogdmFsdWVQcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0VmFsdWUsXG4gICAgb25DaGFuZ2U6IG9uVmFsdWVDaGFuZ2UsXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUl0ZW1PcGVuID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGl0ZW1WYWx1ZTogc3RyaW5nKSA9PiBzZXRWYWx1ZSgocHJldlZhbHVlID0gW10pID0+IFsuLi5wcmV2VmFsdWUsIGl0ZW1WYWx1ZV0pLFxuICAgIFtzZXRWYWx1ZV1cbiAgKTtcblxuICBjb25zdCBoYW5kbGVJdGVtQ2xvc2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoaXRlbVZhbHVlOiBzdHJpbmcpID0+XG4gICAgICBzZXRWYWx1ZSgocHJldlZhbHVlID0gW10pID0+IHByZXZWYWx1ZS5maWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPT0gaXRlbVZhbHVlKSksXG4gICAgW3NldFZhbHVlXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPEFjY29yZGlvblZhbHVlUHJvdmlkZXJcbiAgICAgIHNjb3BlPXtwcm9wcy5fX3Njb3BlQWNjb3JkaW9ufVxuICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgb25JdGVtT3Blbj17aGFuZGxlSXRlbU9wZW59XG4gICAgICBvbkl0ZW1DbG9zZT17aGFuZGxlSXRlbUNsb3NlfVxuICAgID5cbiAgICAgIDxBY2NvcmRpb25Db2xsYXBzaWJsZVByb3ZpZGVyIHNjb3BlPXtwcm9wcy5fX3Njb3BlQWNjb3JkaW9ufSBjb2xsYXBzaWJsZT17dHJ1ZX0+XG4gICAgICAgIDxBY2NvcmRpb25JbXBsIHsuLi5hY2NvcmRpb25NdWx0aXBsZVByb3BzfSByZWY9e2ZvcndhcmRlZFJlZn0gLz5cbiAgICAgIDwvQWNjb3JkaW9uQ29sbGFwc2libGVQcm92aWRlcj5cbiAgICA8L0FjY29yZGlvblZhbHVlUHJvdmlkZXI+XG4gICk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG50eXBlIEFjY29yZGlvbkltcGxDb250ZXh0VmFsdWUgPSB7XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgZGlyZWN0aW9uOiBBY2NvcmRpb25JbXBsUHJvcHNbJ2RpciddO1xuICBvcmllbnRhdGlvbjogQWNjb3JkaW9uSW1wbFByb3BzWydvcmllbnRhdGlvbiddO1xufTtcblxuY29uc3QgW0FjY29yZGlvbkltcGxQcm92aWRlciwgdXNlQWNjb3JkaW9uQ29udGV4dF0gPVxuICBjcmVhdGVBY2NvcmRpb25Db250ZXh0PEFjY29yZGlvbkltcGxDb250ZXh0VmFsdWU+KEFDQ09SRElPTl9OQU1FKTtcblxudHlwZSBBY2NvcmRpb25JbXBsRWxlbWVudCA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xudHlwZSBQcmltaXRpdmVEaXZQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG5pbnRlcmZhY2UgQWNjb3JkaW9uSW1wbFByb3BzIGV4dGVuZHMgUHJpbWl0aXZlRGl2UHJvcHMge1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgYW4gYWNjb3JkaW9uIGlzIGRpc2FibGVkIGZyb20gdXNlciBpbnRlcmFjdGlvbi5cbiAgICpcbiAgICogQGRlZmF1bHRWYWx1ZSBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIGxheW91dCBpbiB3aGljaCB0aGUgQWNjb3JkaW9uIG9wZXJhdGVzLlxuICAgKiBAZGVmYXVsdCB2ZXJ0aWNhbFxuICAgKi9cbiAgb3JpZW50YXRpb24/OiBSZWFjdC5BcmlhQXR0cmlidXRlc1snYXJpYS1vcmllbnRhdGlvbiddO1xuICAvKipcbiAgICogVGhlIGxhbmd1YWdlIHJlYWQgZGlyZWN0aW9uLlxuICAgKi9cbiAgZGlyPzogRGlyZWN0aW9uO1xufVxuXG5jb25zdCBBY2NvcmRpb25JbXBsID0gUmVhY3QuZm9yd2FyZFJlZjxBY2NvcmRpb25JbXBsRWxlbWVudCwgQWNjb3JkaW9uSW1wbFByb3BzPihcbiAgKHByb3BzOiBTY29wZWRQcm9wczxBY2NvcmRpb25JbXBsUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVBY2NvcmRpb24sIGRpc2FibGVkLCBkaXIsIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJywgLi4uYWNjb3JkaW9uUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGFjY29yZGlvblJlZiA9IFJlYWN0LnVzZVJlZjxBY2NvcmRpb25JbXBsRWxlbWVudD4obnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGFjY29yZGlvblJlZiwgZm9yd2FyZGVkUmVmKTtcbiAgICBjb25zdCBnZXRJdGVtcyA9IHVzZUNvbGxlY3Rpb24oX19zY29wZUFjY29yZGlvbik7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdXNlRGlyZWN0aW9uKGRpcik7XG4gICAgY29uc3QgaXNEaXJlY3Rpb25MVFIgPSBkaXJlY3Rpb24gPT09ICdsdHInO1xuXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIUFDQ09SRElPTl9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIHJldHVybjtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IHRyaWdnZXJDb2xsZWN0aW9uID0gZ2V0SXRlbXMoKS5maWx0ZXIoKGl0ZW0pID0+ICFpdGVtLnJlZi5jdXJyZW50Py5kaXNhYmxlZCk7XG4gICAgICBjb25zdCB0cmlnZ2VySW5kZXggPSB0cmlnZ2VyQ29sbGVjdGlvbi5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0ucmVmLmN1cnJlbnQgPT09IHRhcmdldCk7XG4gICAgICBjb25zdCB0cmlnZ2VyQ291bnQgPSB0cmlnZ2VyQ29sbGVjdGlvbi5sZW5ndGg7XG5cbiAgICAgIGlmICh0cmlnZ2VySW5kZXggPT09IC0xKSByZXR1cm47XG5cbiAgICAgIC8vIFByZXZlbnRzIHBhZ2Ugc2Nyb2xsIHdoaWxlIHVzZXIgaXMgbmF2aWdhdGluZ1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgbGV0IG5leHRJbmRleCA9IHRyaWdnZXJJbmRleDtcbiAgICAgIGNvbnN0IGhvbWVJbmRleCA9IDA7XG4gICAgICBjb25zdCBlbmRJbmRleCA9IHRyaWdnZXJDb3VudCAtIDE7XG5cbiAgICAgIGNvbnN0IG1vdmVOZXh0ID0gKCkgPT4ge1xuICAgICAgICBuZXh0SW5kZXggPSB0cmlnZ2VySW5kZXggKyAxO1xuICAgICAgICBpZiAobmV4dEluZGV4ID4gZW5kSW5kZXgpIHtcbiAgICAgICAgICBuZXh0SW5kZXggPSBob21lSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1vdmVQcmV2ID0gKCkgPT4ge1xuICAgICAgICBuZXh0SW5kZXggPSB0cmlnZ2VySW5kZXggLSAxO1xuICAgICAgICBpZiAobmV4dEluZGV4IDwgaG9tZUluZGV4KSB7XG4gICAgICAgICAgbmV4dEluZGV4ID0gZW5kSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICAgIG5leHRJbmRleCA9IGhvbWVJbmRleDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRW5kJzpcbiAgICAgICAgICBuZXh0SW5kZXggPSBlbmRJbmRleDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIGlmIChpc0RpcmVjdGlvbkxUUikge1xuICAgICAgICAgICAgICBtb3ZlTmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW92ZVByZXYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBtb3ZlTmV4dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgaWYgKGlzRGlyZWN0aW9uTFRSKSB7XG4gICAgICAgICAgICAgIG1vdmVQcmV2KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb3ZlTmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBtb3ZlUHJldigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2xhbXBlZEluZGV4ID0gbmV4dEluZGV4ICUgdHJpZ2dlckNvdW50O1xuICAgICAgdHJpZ2dlckNvbGxlY3Rpb25bY2xhbXBlZEluZGV4XS5yZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8QWNjb3JkaW9uSW1wbFByb3ZpZGVyXG4gICAgICAgIHNjb3BlPXtfX3Njb3BlQWNjb3JkaW9ufVxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIGRpcmVjdGlvbj17ZGlyfVxuICAgICAgICBvcmllbnRhdGlvbj17b3JpZW50YXRpb259XG4gICAgICA+XG4gICAgICAgIDxDb2xsZWN0aW9uLlNsb3Qgc2NvcGU9e19fc2NvcGVBY2NvcmRpb259PlxuICAgICAgICAgIDxQcmltaXRpdmUuZGl2XG4gICAgICAgICAgICB7Li4uYWNjb3JkaW9uUHJvcHN9XG4gICAgICAgICAgICBkYXRhLW9yaWVudGF0aW9uPXtvcmllbnRhdGlvbn1cbiAgICAgICAgICAgIHJlZj17Y29tcG9zZWRSZWZzfVxuICAgICAgICAgICAgb25LZXlEb3duPXtkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGhhbmRsZUtleURvd259XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Db2xsZWN0aW9uLlNsb3Q+XG4gICAgICA8L0FjY29yZGlvbkltcGxQcm92aWRlcj5cbiAgICApO1xuICB9XG4pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBY2NvcmRpb25JdGVtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IElURU1fTkFNRSA9ICdBY2NvcmRpb25JdGVtJztcblxudHlwZSBBY2NvcmRpb25JdGVtQ29udGV4dFZhbHVlID0geyBvcGVuPzogYm9vbGVhbjsgZGlzYWJsZWQ/OiBib29sZWFuOyB0cmlnZ2VySWQ6IHN0cmluZyB9O1xuY29uc3QgW0FjY29yZGlvbkl0ZW1Qcm92aWRlciwgdXNlQWNjb3JkaW9uSXRlbUNvbnRleHRdID1cbiAgY3JlYXRlQWNjb3JkaW9uQ29udGV4dDxBY2NvcmRpb25JdGVtQ29udGV4dFZhbHVlPihJVEVNX05BTUUpO1xuXG50eXBlIEFjY29yZGlvbkl0ZW1FbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQ29sbGFwc2libGVQcmltaXRpdmUuUm9vdD47XG50eXBlIENvbGxhcHNpYmxlUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIENvbGxhcHNpYmxlUHJpbWl0aXZlLlJvb3Q+O1xuaW50ZXJmYWNlIEFjY29yZGlvbkl0ZW1Qcm9wc1xuICBleHRlbmRzIE9taXQ8Q29sbGFwc2libGVQcm9wcywgJ29wZW4nIHwgJ2RlZmF1bHRPcGVuJyB8ICdvbk9wZW5DaGFuZ2UnPiB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCBhbiBhY2NvcmRpb24gaXRlbSBpcyBkaXNhYmxlZCBmcm9tIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgZmFsc2VcbiAgICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEEgc3RyaW5nIHZhbHVlIGZvciB0aGUgYWNjb3JkaW9uIGl0ZW0uIEFsbCBpdGVtcyB3aXRoaW4gYW4gYWNjb3JkaW9uIHNob3VsZCB1c2UgYSB1bmlxdWUgdmFsdWUuXG4gICAqL1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIGBBY2NvcmRpb25JdGVtYCBjb250YWlucyBhbGwgb2YgdGhlIHBhcnRzIG9mIGEgY29sbGFwc2libGUgc2VjdGlvbiBpbnNpZGUgb2YgYW4gYEFjY29yZGlvbmAuXG4gKi9cbmNvbnN0IEFjY29yZGlvbkl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPEFjY29yZGlvbkl0ZW1FbGVtZW50LCBBY2NvcmRpb25JdGVtUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPEFjY29yZGlvbkl0ZW1Qcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZUFjY29yZGlvbiwgdmFsdWUsIC4uLmFjY29yZGlvbkl0ZW1Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgYWNjb3JkaW9uQ29udGV4dCA9IHVzZUFjY29yZGlvbkNvbnRleHQoSVRFTV9OQU1FLCBfX3Njb3BlQWNjb3JkaW9uKTtcbiAgICBjb25zdCB2YWx1ZUNvbnRleHQgPSB1c2VBY2NvcmRpb25WYWx1ZUNvbnRleHQoSVRFTV9OQU1FLCBfX3Njb3BlQWNjb3JkaW9uKTtcbiAgICBjb25zdCBjb2xsYXBzaWJsZVNjb3BlID0gdXNlQ29sbGFwc2libGVTY29wZShfX3Njb3BlQWNjb3JkaW9uKTtcbiAgICBjb25zdCB0cmlnZ2VySWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IG9wZW4gPSAodmFsdWUgJiYgdmFsdWVDb250ZXh0LnZhbHVlLmluY2x1ZGVzKHZhbHVlKSkgfHwgZmFsc2U7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBhY2NvcmRpb25Db250ZXh0LmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxBY2NvcmRpb25JdGVtUHJvdmlkZXJcbiAgICAgICAgc2NvcGU9e19fc2NvcGVBY2NvcmRpb259XG4gICAgICAgIG9wZW49e29wZW59XG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgdHJpZ2dlcklkPXt0cmlnZ2VySWR9XG4gICAgICA+XG4gICAgICAgIDxDb2xsYXBzaWJsZVByaW1pdGl2ZS5Sb290XG4gICAgICAgICAgZGF0YS1vcmllbnRhdGlvbj17YWNjb3JkaW9uQ29udGV4dC5vcmllbnRhdGlvbn1cbiAgICAgICAgICBkYXRhLXN0YXRlPXtnZXRTdGF0ZShvcGVuKX1cbiAgICAgICAgICB7Li4uY29sbGFwc2libGVTY29wZX1cbiAgICAgICAgICB7Li4uYWNjb3JkaW9uSXRlbVByb3BzfVxuICAgICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBvcGVuPXtvcGVufVxuICAgICAgICAgIG9uT3BlbkNoYW5nZT17KG9wZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChvcGVuKSB7XG4gICAgICAgICAgICAgIHZhbHVlQ29udGV4dC5vbkl0ZW1PcGVuKHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbHVlQ29udGV4dC5vbkl0ZW1DbG9zZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvQWNjb3JkaW9uSXRlbVByb3ZpZGVyPlxuICAgICk7XG4gIH1cbik7XG5cbkFjY29yZGlvbkl0ZW0uZGlzcGxheU5hbWUgPSBJVEVNX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFjY29yZGlvbkhlYWRlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBIRUFERVJfTkFNRSA9ICdBY2NvcmRpb25IZWFkZXInO1xuXG50eXBlIEFjY29yZGlvbkhlYWRlckVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuaDM+O1xudHlwZSBQcmltaXRpdmVIZWFkaW5nM1Byb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuaDM+O1xuaW50ZXJmYWNlIEFjY29yZGlvbkhlYWRlclByb3BzIGV4dGVuZHMgUHJpbWl0aXZlSGVhZGluZzNQcm9wcyB7fVxuXG4vKipcbiAqIGBBY2NvcmRpb25IZWFkZXJgIGNvbnRhaW5zIHRoZSBjb250ZW50IGZvciB0aGUgcGFydHMgb2YgYW4gYEFjY29yZGlvbkl0ZW1gIHRoYXQgd2lsbCBiZSB2aXNpYmxlXG4gKiB3aGV0aGVyIG9yIG5vdCBpdHMgY29udGVudCBpcyBjb2xsYXBzZWQuXG4gKi9cbmNvbnN0IEFjY29yZGlvbkhlYWRlciA9IFJlYWN0LmZvcndhcmRSZWY8QWNjb3JkaW9uSGVhZGVyRWxlbWVudCwgQWNjb3JkaW9uSGVhZGVyUHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPEFjY29yZGlvbkhlYWRlclByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlQWNjb3JkaW9uLCAuLi5oZWFkZXJQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgYWNjb3JkaW9uQ29udGV4dCA9IHVzZUFjY29yZGlvbkNvbnRleHQoQUNDT1JESU9OX05BTUUsIF9fc2NvcGVBY2NvcmRpb24pO1xuICAgIGNvbnN0IGl0ZW1Db250ZXh0ID0gdXNlQWNjb3JkaW9uSXRlbUNvbnRleHQoSEVBREVSX05BTUUsIF9fc2NvcGVBY2NvcmRpb24pO1xuICAgIHJldHVybiAoXG4gICAgICA8UHJpbWl0aXZlLmgzXG4gICAgICAgIGRhdGEtb3JpZW50YXRpb249e2FjY29yZGlvbkNvbnRleHQub3JpZW50YXRpb259XG4gICAgICAgIGRhdGEtc3RhdGU9e2dldFN0YXRlKGl0ZW1Db250ZXh0Lm9wZW4pfVxuICAgICAgICBkYXRhLWRpc2FibGVkPXtpdGVtQ29udGV4dC5kaXNhYmxlZCA/ICcnIDogdW5kZWZpbmVkfVxuICAgICAgICB7Li4uaGVhZGVyUHJvcHN9XG4gICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgLz5cbiAgICApO1xuICB9XG4pO1xuXG5BY2NvcmRpb25IZWFkZXIuZGlzcGxheU5hbWUgPSBIRUFERVJfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWNjb3JkaW9uVHJpZ2dlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBUUklHR0VSX05BTUUgPSAnQWNjb3JkaW9uVHJpZ2dlcic7XG5cbnR5cGUgQWNjb3JkaW9uVHJpZ2dlckVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBDb2xsYXBzaWJsZVByaW1pdGl2ZS5UcmlnZ2VyPjtcbnR5cGUgQ29sbGFwc2libGVUcmlnZ2VyUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIENvbGxhcHNpYmxlUHJpbWl0aXZlLlRyaWdnZXI+O1xuaW50ZXJmYWNlIEFjY29yZGlvblRyaWdnZXJQcm9wcyBleHRlbmRzIENvbGxhcHNpYmxlVHJpZ2dlclByb3BzIHt9XG5cbi8qKlxuICogYEFjY29yZGlvblRyaWdnZXJgIGlzIHRoZSB0cmlnZ2VyIHRoYXQgdG9nZ2xlcyB0aGUgY29sbGFwc2VkIHN0YXRlIG9mIGFuIGBBY2NvcmRpb25JdGVtYC4gSXRcbiAqIHNob3VsZCBhbHdheXMgYmUgbmVzdGVkIGluc2lkZSBvZiBhbiBgQWNjb3JkaW9uSGVhZGVyYC5cbiAqL1xuY29uc3QgQWNjb3JkaW9uVHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWY8QWNjb3JkaW9uVHJpZ2dlckVsZW1lbnQsIEFjY29yZGlvblRyaWdnZXJQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8QWNjb3JkaW9uVHJpZ2dlclByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlQWNjb3JkaW9uLCAuLi50cmlnZ2VyUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGFjY29yZGlvbkNvbnRleHQgPSB1c2VBY2NvcmRpb25Db250ZXh0KEFDQ09SRElPTl9OQU1FLCBfX3Njb3BlQWNjb3JkaW9uKTtcbiAgICBjb25zdCBpdGVtQ29udGV4dCA9IHVzZUFjY29yZGlvbkl0ZW1Db250ZXh0KFRSSUdHRVJfTkFNRSwgX19zY29wZUFjY29yZGlvbik7XG4gICAgY29uc3QgY29sbGFwc2libGVDb250ZXh0ID0gdXNlQWNjb3JkaW9uQ29sbGFwc2libGVDb250ZXh0KFRSSUdHRVJfTkFNRSwgX19zY29wZUFjY29yZGlvbik7XG4gICAgY29uc3QgY29sbGFwc2libGVTY29wZSA9IHVzZUNvbGxhcHNpYmxlU2NvcGUoX19zY29wZUFjY29yZGlvbik7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb2xsZWN0aW9uLkl0ZW1TbG90IHNjb3BlPXtfX3Njb3BlQWNjb3JkaW9ufT5cbiAgICAgICAgPENvbGxhcHNpYmxlUHJpbWl0aXZlLlRyaWdnZXJcbiAgICAgICAgICBhcmlhLWRpc2FibGVkPXsoaXRlbUNvbnRleHQub3BlbiAmJiAhY29sbGFwc2libGVDb250ZXh0LmNvbGxhcHNpYmxlKSB8fCB1bmRlZmluZWR9XG4gICAgICAgICAgZGF0YS1vcmllbnRhdGlvbj17YWNjb3JkaW9uQ29udGV4dC5vcmllbnRhdGlvbn1cbiAgICAgICAgICBpZD17aXRlbUNvbnRleHQudHJpZ2dlcklkfVxuICAgICAgICAgIHsuLi5jb2xsYXBzaWJsZVNjb3BlfVxuICAgICAgICAgIHsuLi50cmlnZ2VyUHJvcHN9XG4gICAgICAgICAgcmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgICAgIC8+XG4gICAgICA8L0NvbGxlY3Rpb24uSXRlbVNsb3Q+XG4gICAgKTtcbiAgfVxuKTtcblxuQWNjb3JkaW9uVHJpZ2dlci5kaXNwbGF5TmFtZSA9IFRSSUdHRVJfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWNjb3JkaW9uQ29udGVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBDT05URU5UX05BTUUgPSAnQWNjb3JkaW9uQ29udGVudCc7XG5cbnR5cGUgQWNjb3JkaW9uQ29udGVudEVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBDb2xsYXBzaWJsZVByaW1pdGl2ZS5Db250ZW50PjtcbnR5cGUgQ29sbGFwc2libGVDb250ZW50UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIENvbGxhcHNpYmxlUHJpbWl0aXZlLkNvbnRlbnQ+O1xuaW50ZXJmYWNlIEFjY29yZGlvbkNvbnRlbnRQcm9wcyBleHRlbmRzIENvbGxhcHNpYmxlQ29udGVudFByb3BzIHt9XG5cbi8qKlxuICogYEFjY29yZGlvbkNvbnRlbnRgIGNvbnRhaW5zIHRoZSBjb2xsYXBzaWJsZSBjb250ZW50IGZvciBhbiBgQWNjb3JkaW9uSXRlbWAuXG4gKi9cbmNvbnN0IEFjY29yZGlvbkNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPEFjY29yZGlvbkNvbnRlbnRFbGVtZW50LCBBY2NvcmRpb25Db250ZW50UHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPEFjY29yZGlvbkNvbnRlbnRQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZUFjY29yZGlvbiwgLi4uY29udGVudFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBhY2NvcmRpb25Db250ZXh0ID0gdXNlQWNjb3JkaW9uQ29udGV4dChBQ0NPUkRJT05fTkFNRSwgX19zY29wZUFjY29yZGlvbik7XG4gICAgY29uc3QgaXRlbUNvbnRleHQgPSB1c2VBY2NvcmRpb25JdGVtQ29udGV4dChDT05URU5UX05BTUUsIF9fc2NvcGVBY2NvcmRpb24pO1xuICAgIGNvbnN0IGNvbGxhcHNpYmxlU2NvcGUgPSB1c2VDb2xsYXBzaWJsZVNjb3BlKF9fc2NvcGVBY2NvcmRpb24pO1xuICAgIHJldHVybiAoXG4gICAgICA8Q29sbGFwc2libGVQcmltaXRpdmUuQ29udGVudFxuICAgICAgICByb2xlPVwicmVnaW9uXCJcbiAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PXtpdGVtQ29udGV4dC50cmlnZ2VySWR9XG4gICAgICAgIGRhdGEtb3JpZW50YXRpb249e2FjY29yZGlvbkNvbnRleHQub3JpZW50YXRpb259XG4gICAgICAgIHsuLi5jb2xsYXBzaWJsZVNjb3BlfVxuICAgICAgICB7Li4uY29udGVudFByb3BzfVxuICAgICAgICByZWY9e2ZvcndhcmRlZFJlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBbJy0tcmFkaXgtYWNjb3JkaW9uLWNvbnRlbnQtaGVpZ2h0JyBhcyBhbnldOiAndmFyKC0tcmFkaXgtY29sbGFwc2libGUtY29udGVudC1oZWlnaHQpJyxcbiAgICAgICAgICBbJy0tcmFkaXgtYWNjb3JkaW9uLWNvbnRlbnQtd2lkdGgnIGFzIGFueV06ICd2YXIoLS1yYWRpeC1jb2xsYXBzaWJsZS1jb250ZW50LXdpZHRoKScsXG4gICAgICAgICAgLi4ucHJvcHMuc3R5bGUsXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICk7XG4gIH1cbik7XG5cbkFjY29yZGlvbkNvbnRlbnQuZGlzcGxheU5hbWUgPSBDT05URU5UX05BTUU7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gZ2V0U3RhdGUob3Blbj86IGJvb2xlYW4pIHtcbiAgcmV0dXJuIG9wZW4gPyAnb3BlbicgOiAnY2xvc2VkJztcbn1cblxuY29uc3QgUm9vdCA9IEFjY29yZGlvbjtcbmNvbnN0IEl0ZW0gPSBBY2NvcmRpb25JdGVtO1xuY29uc3QgSGVhZGVyID0gQWNjb3JkaW9uSGVhZGVyO1xuY29uc3QgVHJpZ2dlciA9IEFjY29yZGlvblRyaWdnZXI7XG5jb25zdCBDb250ZW50ID0gQWNjb3JkaW9uQ29udGVudDtcblxuZXhwb3J0IHtcbiAgY3JlYXRlQWNjb3JkaW9uU2NvcGUsXG4gIC8vXG4gIEFjY29yZGlvbixcbiAgQWNjb3JkaW9uSXRlbSxcbiAgQWNjb3JkaW9uSGVhZGVyLFxuICBBY2NvcmRpb25UcmlnZ2VyLFxuICBBY2NvcmRpb25Db250ZW50LFxuICAvL1xuICBSb290LFxuICBJdGVtLFxuICBIZWFkZXIsXG4gIFRyaWdnZXIsXG4gIENvbnRlbnQsXG59O1xuZXhwb3J0IHR5cGUge1xuICBBY2NvcmRpb25TaW5nbGVQcm9wcyxcbiAgQWNjb3JkaW9uTXVsdGlwbGVQcm9wcyxcbiAgQWNjb3JkaW9uSXRlbVByb3BzLFxuICBBY2NvcmRpb25IZWFkZXJQcm9wcyxcbiAgQWNjb3JkaW9uVHJpZ2dlclByb3BzLFxuICBBY2NvcmRpb25Db250ZW50UHJvcHMsXG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dFNjb3BlIiwiY3JlYXRlQ29sbGVjdGlvbiIsInVzZUNvbXBvc2VkUmVmcyIsImNvbXBvc2VFdmVudEhhbmRsZXJzIiwidXNlQ29udHJvbGxhYmxlU3RhdGUiLCJQcmltaXRpdmUiLCJDb2xsYXBzaWJsZVByaW1pdGl2ZSIsImNyZWF0ZUNvbGxhcHNpYmxlU2NvcGUiLCJ1c2VJZCIsInVzZURpcmVjdGlvbiIsImpzeCIsIkFDQ09SRElPTl9OQU1FIiwiQUNDT1JESU9OX0tFWVMiLCJDb2xsZWN0aW9uIiwidXNlQ29sbGVjdGlvbiIsImNyZWF0ZUNvbGxlY3Rpb25TY29wZSIsImNyZWF0ZUFjY29yZGlvbkNvbnRleHQiLCJjcmVhdGVBY2NvcmRpb25TY29wZSIsInVzZUNvbGxhcHNpYmxlU2NvcGUiLCJBY2NvcmRpb24iLCJmb3J3YXJkUmVmIiwicHJvcHMiLCJmb3J3YXJkZWRSZWYiLCJ0eXBlIiwiYWNjb3JkaW9uUHJvcHMiLCJzaW5nbGVQcm9wcyIsIm11bHRpcGxlUHJvcHMiLCJQcm92aWRlciIsInNjb3BlIiwiX19zY29wZUFjY29yZGlvbiIsImNoaWxkcmVuIiwiQWNjb3JkaW9uSW1wbE11bHRpcGxlIiwicmVmIiwiQWNjb3JkaW9uSW1wbFNpbmdsZSIsImRpc3BsYXlOYW1lIiwiQWNjb3JkaW9uVmFsdWVQcm92aWRlciIsInVzZUFjY29yZGlvblZhbHVlQ29udGV4dCIsIkFjY29yZGlvbkNvbGxhcHNpYmxlUHJvdmlkZXIiLCJ1c2VBY2NvcmRpb25Db2xsYXBzaWJsZUNvbnRleHQiLCJjb2xsYXBzaWJsZSIsInZhbHVlIiwidmFsdWVQcm9wIiwiZGVmYXVsdFZhbHVlIiwib25WYWx1ZUNoYW5nZSIsImFjY29yZGlvblNpbmdsZVByb3BzIiwic2V0VmFsdWUiLCJwcm9wIiwiZGVmYXVsdFByb3AiLCJvbkNoYW5nZSIsIm9uSXRlbU9wZW4iLCJvbkl0ZW1DbG9zZSIsInVzZUNhbGxiYWNrIiwiQWNjb3JkaW9uSW1wbCIsImFjY29yZGlvbk11bHRpcGxlUHJvcHMiLCJoYW5kbGVJdGVtT3BlbiIsIml0ZW1WYWx1ZSIsInByZXZWYWx1ZSIsImhhbmRsZUl0ZW1DbG9zZSIsImZpbHRlciIsIkFjY29yZGlvbkltcGxQcm92aWRlciIsInVzZUFjY29yZGlvbkNvbnRleHQiLCJkaXNhYmxlZCIsImRpciIsIm9yaWVudGF0aW9uIiwiYWNjb3JkaW9uUmVmIiwidXNlUmVmIiwiY29tcG9zZWRSZWZzIiwiZ2V0SXRlbXMiLCJkaXJlY3Rpb24iLCJpc0RpcmVjdGlvbkxUUiIsImhhbmRsZUtleURvd24iLCJvbktleURvd24iLCJldmVudCIsInRyaWdnZXJDb2xsZWN0aW9uIiwiaW5jbHVkZXMiLCJrZXkiLCJ0YXJnZXQiLCJpdGVtIiwiY3VycmVudCIsInRyaWdnZXJJbmRleCIsImZpbmRJbmRleCIsInRyaWdnZXJDb3VudCIsImxlbmd0aCIsInByZXZlbnREZWZhdWx0IiwibmV4dEluZGV4IiwiaG9tZUluZGV4IiwiZW5kSW5kZXgiLCJtb3ZlTmV4dCIsIm1vdmVQcmV2IiwiY2xhbXBlZEluZGV4IiwiZm9jdXMiLCJTbG90IiwiZGl2IiwiSVRFTV9OQU1FIiwiQWNjb3JkaW9uSXRlbVByb3ZpZGVyIiwidXNlQWNjb3JkaW9uSXRlbUNvbnRleHQiLCJBY2NvcmRpb25JdGVtIiwiYWNjb3JkaW9uSXRlbVByb3BzIiwiYWNjb3JkaW9uQ29udGV4dCIsInZhbHVlQ29udGV4dCIsImNvbGxhcHNpYmxlU2NvcGUiLCJ0cmlnZ2VySWQiLCJvcGVuIiwiUm9vdCIsImdldFN0YXRlIiwib25PcGVuQ2hhbmdlIiwiSEVBREVSX05BTUUiLCJBY2NvcmRpb25IZWFkZXIiLCJoZWFkZXJQcm9wcyIsIml0ZW1Db250ZXh0IiwiaDMiLCJUUklHR0VSX05BTUUiLCJBY2NvcmRpb25UcmlnZ2VyIiwidHJpZ2dlclByb3BzIiwiY29sbGFwc2libGVDb250ZXh0IiwiSXRlbVNsb3QiLCJUcmlnZ2VyIiwiaWQiLCJDT05URU5UX05BTUUiLCJBY2NvcmRpb25Db250ZW50IiwiY29udGVudFByb3BzIiwiQ29udGVudCIsInJvbGUiLCJzdHlsZSIsIkl0ZW0iLCJIZWFkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@radix-ui/react-accordion/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@radix-ui/react-collapsible/dist/index.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@radix-ui/react-collapsible/dist/index.mjs ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Collapsible: function() { return /* binding */ Collapsible; },\n/* harmony export */   CollapsibleContent: function() { return /* binding */ CollapsibleContent; },\n/* harmony export */   CollapsibleTrigger: function() { return /* binding */ CollapsibleTrigger; },\n/* harmony export */   Content: function() { return /* binding */ Content; },\n/* harmony export */   Root: function() { return /* binding */ Root; },\n/* harmony export */   Trigger: function() { return /* binding */ Trigger; },\n/* harmony export */   createCollapsibleScope: function() { return /* binding */ createCollapsibleScope; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-context */ \"(app-pages-browser)/./node_modules/@radix-ui/react-context/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-use-controllable-state */ \"(app-pages-browser)/./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @radix-ui/react-use-layout-effect */ \"(app-pages-browser)/./node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(app-pages-browser)/./node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-presence */ \"(app-pages-browser)/./node_modules/@radix-ui/react-presence/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-id */ \"(app-pages-browser)/./node_modules/@radix-ui/react-id/dist/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* __next_internal_client_entry_do_not_use__ Collapsible,CollapsibleContent,CollapsibleTrigger,Content,Root,Trigger,createCollapsibleScope auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n// packages/react/collapsible/src/Collapsible.tsx\n\n\n\n\n\n\n\n\n\n\nvar COLLAPSIBLE_NAME = \"Collapsible\";\nvar [createCollapsibleContext, createCollapsibleScope] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__.createContextScope)(COLLAPSIBLE_NAME);\nvar [CollapsibleProvider, useCollapsibleContext] = createCollapsibleContext(COLLAPSIBLE_NAME);\nvar Collapsible = /*#__PURE__*/ _s(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c = _s((props, forwardedRef)=>{\n    _s();\n    const { __scopeCollapsible, open: openProp, defaultOpen, disabled, onOpenChange, ...collapsibleProps } = props;\n    const [open = false, setOpen] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_3__.useControllableState)({\n        prop: openProp,\n        defaultProp: defaultOpen,\n        onChange: onOpenChange\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CollapsibleProvider, {\n        scope: __scopeCollapsible,\n        disabled,\n        contentId: (0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_4__.useId)(),\n        open,\n        onOpenToggle: react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>setOpen((prevOpen)=>!prevOpen), [\n            setOpen\n        ]),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__.Primitive.div, {\n            \"data-state\": getState(open),\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...collapsibleProps,\n            ref: forwardedRef\n        })\n    });\n}, \"mDxAbi4gYRXT4KuR5yvY0j02kx0=\", false, function() {\n    return [\n        _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_3__.useControllableState,\n        _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_4__.useId\n    ];\n})), \"mDxAbi4gYRXT4KuR5yvY0j02kx0=\", false, function() {\n    return [\n        _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_3__.useControllableState,\n        _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_4__.useId\n    ];\n});\n_c1 = Collapsible;\nCollapsible.displayName = COLLAPSIBLE_NAME;\nvar TRIGGER_NAME = \"CollapsibleTrigger\";\nvar CollapsibleTrigger = /*#__PURE__*/ _s1(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c2 = _s1((props, forwardedRef)=>{\n    _s1();\n    const { __scopeCollapsible, ...triggerProps } = props;\n    const context = useCollapsibleContext(TRIGGER_NAME, __scopeCollapsible);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__.Primitive.button, {\n        type: \"button\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open || false,\n        \"data-state\": getState(context.open),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        disabled: context.disabled,\n        ...triggerProps,\n        ref: forwardedRef,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_6__.composeEventHandlers)(props.onClick, context.onOpenToggle)\n    });\n}, \"GEAea+U+cRVxeZRny55RTbktW6U=\", false, function() {\n    return [\n        useCollapsibleContext\n    ];\n})), \"GEAea+U+cRVxeZRny55RTbktW6U=\", false, function() {\n    return [\n        useCollapsibleContext\n    ];\n});\n_c3 = CollapsibleTrigger;\nCollapsibleTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"CollapsibleContent\";\nvar CollapsibleContent = /*#__PURE__*/ _s2(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c4 = _s2((props, forwardedRef)=>{\n    _s2();\n    const { forceMount, ...contentProps } = props;\n    const context = useCollapsibleContext(CONTENT_NAME, props.__scopeCollapsible);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_7__.Presence, {\n        present: forceMount || context.open,\n        children: (param)=>{\n            let { present } = param;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CollapsibleContentImpl, {\n                ...contentProps,\n                ref: forwardedRef,\n                present\n            });\n        }\n    });\n}, \"GEAea+U+cRVxeZRny55RTbktW6U=\", false, function() {\n    return [\n        useCollapsibleContext\n    ];\n})), \"GEAea+U+cRVxeZRny55RTbktW6U=\", false, function() {\n    return [\n        useCollapsibleContext\n    ];\n});\n_c5 = CollapsibleContent;\nCollapsibleContent.displayName = CONTENT_NAME;\nvar CollapsibleContentImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_s3((props, forwardedRef)=>{\n    _s3();\n    const { __scopeCollapsible, present, children, ...contentProps } = props;\n    const context = useCollapsibleContext(CONTENT_NAME, __scopeCollapsible);\n    const [isPresent, setIsPresent] = react__WEBPACK_IMPORTED_MODULE_0__.useState(present);\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__.useComposedRefs)(forwardedRef, ref);\n    const heightRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const height = heightRef.current;\n    const widthRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const width = widthRef.current;\n    const isOpen = context.open || isPresent;\n    const isMountAnimationPreventedRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(isOpen);\n    const originalStylesRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(void 0);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        const rAF = requestAnimationFrame(()=>isMountAnimationPreventedRef.current = false);\n        return ()=>cancelAnimationFrame(rAF);\n    }, []);\n    (0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_9__.useLayoutEffect)(()=>{\n        const node = ref.current;\n        if (node) {\n            originalStylesRef.current = originalStylesRef.current || {\n                transitionDuration: node.style.transitionDuration,\n                animationName: node.style.animationName\n            };\n            node.style.transitionDuration = \"0s\";\n            node.style.animationName = \"none\";\n            const rect = node.getBoundingClientRect();\n            heightRef.current = rect.height;\n            widthRef.current = rect.width;\n            if (!isMountAnimationPreventedRef.current) {\n                node.style.transitionDuration = originalStylesRef.current.transitionDuration;\n                node.style.animationName = originalStylesRef.current.animationName;\n            }\n            setIsPresent(present);\n        }\n    }, [\n        context.open,\n        present\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_5__.Primitive.div, {\n        \"data-state\": getState(context.open),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        id: context.contentId,\n        hidden: !isOpen,\n        ...contentProps,\n        ref: composedRefs,\n        style: {\n            [\"--radix-collapsible-content-height\"]: height ? \"\".concat(height, \"px\") : void 0,\n            [\"--radix-collapsible-content-width\"]: width ? \"\".concat(width, \"px\") : void 0,\n            ...props.style\n        },\n        children: isOpen && children\n    });\n}, \"nbxjA2hsuwppSnC645Xn2RPMdps=\", false, function() {\n    return [\n        useCollapsibleContext,\n        _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__.useComposedRefs\n    ];\n}));\n_c6 = CollapsibleContentImpl;\nfunction getState(open) {\n    return open ? \"open\" : \"closed\";\n}\nvar Root = Collapsible;\nvar Trigger = CollapsibleTrigger;\nvar Content = CollapsibleContent;\n //# sourceMappingURL=index.mjs.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Collapsible$React.forwardRef\");\n$RefreshReg$(_c1, \"Collapsible\");\n$RefreshReg$(_c2, \"CollapsibleTrigger$React.forwardRef\");\n$RefreshReg$(_c3, \"CollapsibleTrigger\");\n$RefreshReg$(_c4, \"CollapsibleContent$React.forwardRef\");\n$RefreshReg$(_c5, \"CollapsibleContent\");\n$RefreshReg$(_c6, \"CollapsibleContentImpl\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtY29sbGFwc2libGUvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1QjtBQUNjO0FBQ0Y7QUFDRTtBQUNMO0FBQ0E7QUFDTjtBQUNEO0FBQ0g7QUF5RGQ7QUFqRFIsSUFBTVUsbUJBQW1CO0FBR3pCLElBQU0sQ0FBQ0MsMEJBQTBCQyx1QkFBc0IsR0FBSVYsMkVBQWtCQSxDQUFDUTtBQVM5RSxJQUFNLENBQUNHLHFCQUFxQkMsc0JBQXFCLEdBQy9DSCx5QkFBa0REO0FBV3BELElBQU1LLDRCQUFvQmYsR0FBQUEsNkNBQUEsU0FDeEIsQ0FBQ2lCLE9BQXNDQzs7SUFDckMsTUFBTSxFQUNKQyxrQkFBQSxFQUNBQyxNQUFNQyxRQUFBLEVBQ05DLFdBQUEsRUFDQUMsUUFBQSxFQUNBQyxZQUFBLEVBQ0EsR0FBR0Msa0JBQ0wsR0FBSVI7SUFFSixNQUFNLENBQUNHLE9BQU8sT0FBT00sUUFBTyxHQUFJdkIsNEZBQW9CQSxDQUFDO1FBQ25Ed0IsTUFBTU47UUFDTk8sYUFBYU47UUFDYk8sVUFBVUw7SUFDWjtJQUVBLE9BQ0UsZ0JBQUFmLHNEQUFBQSxDQUFDSSxxQkFBQTtRQUNDaUIsT0FBT1g7UUFDUEk7UUFDQVEsV0FBV3ZCLHlEQUFLQTtRQUNoQlk7UUFDQVksY0FBb0JoQyw4Q0FBQSxDQUFZLElBQU0wQixRQUFRLENBQUNRLFdBQWEsQ0FBQ0EsV0FBVztZQUFDUjtTQUFRO1FBRWpGUyxVQUFBLGdCQUFBMUIsc0RBQUFBLENBQUNILGdFQUFTQSxDQUFDOEIsR0FBQSxFQUFWO1lBQ0MsY0FBWUMsU0FBU2pCO1lBQ3JCLGlCQUFlRyxXQUFXLEtBQUs7WUFDOUIsR0FBR0UsZ0JBQUE7WUFDSmEsS0FBS3BCO1FBQUE7SUFDUDtBQUdOOztRQXRCa0NmLHdGQUFvQkE7UUFVckNLLHFEQUFLQTs7OztRQVZZTCx3RkFBb0JBO1FBVXJDSyxx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RS8uLi9zcmMvQ29sbGFwc2libGUudHN4P2FjMjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tICdAcmFkaXgtdWkvcHJpbWl0aXZlJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRTY29wZSB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb250ZXh0JztcbmltcG9ydCB7IHVzZUNvbnRyb2xsYWJsZVN0YXRlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGUnO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXVzZS1sYXlvdXQtZWZmZWN0JztcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnMnO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZSc7XG5pbXBvcnQgeyBQcmVzZW5jZSB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1wcmVzZW5jZSc7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1pZCc7XG5cbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtY29udGV4dCc7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvbGxhcHNpYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IENPTExBUFNJQkxFX05BTUUgPSAnQ29sbGFwc2libGUnO1xuXG50eXBlIFNjb3BlZFByb3BzPFA+ID0gUCAmIHsgX19zY29wZUNvbGxhcHNpYmxlPzogU2NvcGUgfTtcbmNvbnN0IFtjcmVhdGVDb2xsYXBzaWJsZUNvbnRleHQsIGNyZWF0ZUNvbGxhcHNpYmxlU2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKENPTExBUFNJQkxFX05BTUUpO1xuXG50eXBlIENvbGxhcHNpYmxlQ29udGV4dFZhbHVlID0ge1xuICBjb250ZW50SWQ6IHN0cmluZztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBvcGVuOiBib29sZWFuO1xuICBvbk9wZW5Ub2dnbGUoKTogdm9pZDtcbn07XG5cbmNvbnN0IFtDb2xsYXBzaWJsZVByb3ZpZGVyLCB1c2VDb2xsYXBzaWJsZUNvbnRleHRdID1cbiAgY3JlYXRlQ29sbGFwc2libGVDb250ZXh0PENvbGxhcHNpYmxlQ29udGV4dFZhbHVlPihDT0xMQVBTSUJMRV9OQU1FKTtcblxudHlwZSBDb2xsYXBzaWJsZUVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbnR5cGUgUHJpbWl0aXZlRGl2UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuaW50ZXJmYWNlIENvbGxhcHNpYmxlUHJvcHMgZXh0ZW5kcyBQcmltaXRpdmVEaXZQcm9wcyB7XG4gIGRlZmF1bHRPcGVuPzogYm9vbGVhbjtcbiAgb3Blbj86IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgb25PcGVuQ2hhbmdlPyhvcGVuOiBib29sZWFuKTogdm9pZDtcbn1cblxuY29uc3QgQ29sbGFwc2libGUgPSBSZWFjdC5mb3J3YXJkUmVmPENvbGxhcHNpYmxlRWxlbWVudCwgQ29sbGFwc2libGVQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8Q29sbGFwc2libGVQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIF9fc2NvcGVDb2xsYXBzaWJsZSxcbiAgICAgIG9wZW46IG9wZW5Qcm9wLFxuICAgICAgZGVmYXVsdE9wZW4sXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIG9uT3BlbkNoYW5nZSxcbiAgICAgIC4uLmNvbGxhcHNpYmxlUHJvcHNcbiAgICB9ID0gcHJvcHM7XG5cbiAgICBjb25zdCBbb3BlbiA9IGZhbHNlLCBzZXRPcGVuXSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICAgIHByb3A6IG9wZW5Qcm9wLFxuICAgICAgZGVmYXVsdFByb3A6IGRlZmF1bHRPcGVuLFxuICAgICAgb25DaGFuZ2U6IG9uT3BlbkNoYW5nZSxcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Q29sbGFwc2libGVQcm92aWRlclxuICAgICAgICBzY29wZT17X19zY29wZUNvbGxhcHNpYmxlfVxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIGNvbnRlbnRJZD17dXNlSWQoKX1cbiAgICAgICAgb3Blbj17b3Blbn1cbiAgICAgICAgb25PcGVuVG9nZ2xlPXtSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZXRPcGVuKChwcmV2T3BlbikgPT4gIXByZXZPcGVuKSwgW3NldE9wZW5dKX1cbiAgICAgID5cbiAgICAgICAgPFByaW1pdGl2ZS5kaXZcbiAgICAgICAgICBkYXRhLXN0YXRlPXtnZXRTdGF0ZShvcGVuKX1cbiAgICAgICAgICBkYXRhLWRpc2FibGVkPXtkaXNhYmxlZCA/ICcnIDogdW5kZWZpbmVkfVxuICAgICAgICAgIHsuLi5jb2xsYXBzaWJsZVByb3BzfVxuICAgICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgICAvPlxuICAgICAgPC9Db2xsYXBzaWJsZVByb3ZpZGVyPlxuICAgICk7XG4gIH1cbik7XG5cbkNvbGxhcHNpYmxlLmRpc3BsYXlOYW1lID0gQ09MTEFQU0lCTEVfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29sbGFwc2libGVUcmlnZ2VyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IFRSSUdHRVJfTkFNRSA9ICdDb2xsYXBzaWJsZVRyaWdnZXInO1xuXG50eXBlIENvbGxhcHNpYmxlVHJpZ2dlckVsZW1lbnQgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuYnV0dG9uPjtcbnR5cGUgUHJpbWl0aXZlQnV0dG9uUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5idXR0b24+O1xuaW50ZXJmYWNlIENvbGxhcHNpYmxlVHJpZ2dlclByb3BzIGV4dGVuZHMgUHJpbWl0aXZlQnV0dG9uUHJvcHMge31cblxuY29uc3QgQ29sbGFwc2libGVUcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZjxDb2xsYXBzaWJsZVRyaWdnZXJFbGVtZW50LCBDb2xsYXBzaWJsZVRyaWdnZXJQcm9wcz4oXG4gIChwcm9wczogU2NvcGVkUHJvcHM8Q29sbGFwc2libGVUcmlnZ2VyUHJvcHM+LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVDb2xsYXBzaWJsZSwgLi4udHJpZ2dlclByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29sbGFwc2libGVDb250ZXh0KFRSSUdHRVJfTkFNRSwgX19zY29wZUNvbGxhcHNpYmxlKTtcbiAgICByZXR1cm4gKFxuICAgICAgPFByaW1pdGl2ZS5idXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGFyaWEtY29udHJvbHM9e2NvbnRleHQuY29udGVudElkfVxuICAgICAgICBhcmlhLWV4cGFuZGVkPXtjb250ZXh0Lm9wZW4gfHwgZmFsc2V9XG4gICAgICAgIGRhdGEtc3RhdGU9e2dldFN0YXRlKGNvbnRleHQub3Blbil9XG4gICAgICAgIGRhdGEtZGlzYWJsZWQ9e2NvbnRleHQuZGlzYWJsZWQgPyAnJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgZGlzYWJsZWQ9e2NvbnRleHQuZGlzYWJsZWR9XG4gICAgICAgIHsuLi50cmlnZ2VyUHJvcHN9XG4gICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgICBvbkNsaWNrPXtjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCBjb250ZXh0Lm9uT3BlblRvZ2dsZSl9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbik7XG5cbkNvbGxhcHNpYmxlVHJpZ2dlci5kaXNwbGF5TmFtZSA9IFRSSUdHRVJfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29sbGFwc2libGVDb250ZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IENPTlRFTlRfTkFNRSA9ICdDb2xsYXBzaWJsZUNvbnRlbnQnO1xuXG50eXBlIENvbGxhcHNpYmxlQ29udGVudEVsZW1lbnQgPSBDb2xsYXBzaWJsZUNvbnRlbnRJbXBsRWxlbWVudDtcbmludGVyZmFjZSBDb2xsYXBzaWJsZUNvbnRlbnRQcm9wcyBleHRlbmRzIE9taXQ8Q29sbGFwc2libGVDb250ZW50SW1wbFByb3BzLCAncHJlc2VudCc+IHtcbiAgLyoqXG4gICAqIFVzZWQgdG8gZm9yY2UgbW91bnRpbmcgd2hlbiBtb3JlIGNvbnRyb2wgaXMgbmVlZGVkLiBVc2VmdWwgd2hlblxuICAgKiBjb250cm9sbGluZyBhbmltYXRpb24gd2l0aCBSZWFjdCBhbmltYXRpb24gbGlicmFyaWVzLlxuICAgKi9cbiAgZm9yY2VNb3VudD86IHRydWU7XG59XG5cbmNvbnN0IENvbGxhcHNpYmxlQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8Q29sbGFwc2libGVDb250ZW50RWxlbWVudCwgQ29sbGFwc2libGVDb250ZW50UHJvcHM+KFxuICAocHJvcHM6IFNjb3BlZFByb3BzPENvbGxhcHNpYmxlQ29udGVudFByb3BzPiwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBmb3JjZU1vdW50LCAuLi5jb250ZW50UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb2xsYXBzaWJsZUNvbnRleHQoQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlQ29sbGFwc2libGUpO1xuICAgIHJldHVybiAoXG4gICAgICA8UHJlc2VuY2UgcHJlc2VudD17Zm9yY2VNb3VudCB8fCBjb250ZXh0Lm9wZW59PlxuICAgICAgICB7KHsgcHJlc2VudCB9KSA9PiAoXG4gICAgICAgICAgPENvbGxhcHNpYmxlQ29udGVudEltcGwgey4uLmNvbnRlbnRQcm9wc30gcmVmPXtmb3J3YXJkZWRSZWZ9IHByZXNlbnQ9e3ByZXNlbnR9IC8+XG4gICAgICAgICl9XG4gICAgICA8L1ByZXNlbmNlPlxuICAgICk7XG4gIH1cbik7XG5cbkNvbGxhcHNpYmxlQ29udGVudC5kaXNwbGF5TmFtZSA9IENPTlRFTlRfTkFNRTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG50eXBlIENvbGxhcHNpYmxlQ29udGVudEltcGxFbGVtZW50ID0gUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG5pbnRlcmZhY2UgQ29sbGFwc2libGVDb250ZW50SW1wbFByb3BzIGV4dGVuZHMgUHJpbWl0aXZlRGl2UHJvcHMge1xuICBwcmVzZW50OiBib29sZWFuO1xufVxuXG5jb25zdCBDb2xsYXBzaWJsZUNvbnRlbnRJbXBsID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgQ29sbGFwc2libGVDb250ZW50SW1wbEVsZW1lbnQsXG4gIENvbGxhcHNpYmxlQ29udGVudEltcGxQcm9wc1xuPigocHJvcHM6IFNjb3BlZFByb3BzPENvbGxhcHNpYmxlQ29udGVudEltcGxQcm9wcz4sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVDb2xsYXBzaWJsZSwgcHJlc2VudCwgY2hpbGRyZW4sIC4uLmNvbnRlbnRQcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb2xsYXBzaWJsZUNvbnRleHQoQ09OVEVOVF9OQU1FLCBfX3Njb3BlQ29sbGFwc2libGUpO1xuICBjb25zdCBbaXNQcmVzZW50LCBzZXRJc1ByZXNlbnRdID0gUmVhY3QudXNlU3RhdGUocHJlc2VudCk7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZjxDb2xsYXBzaWJsZUNvbnRlbnRJbXBsRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHJlZik7XG4gIGNvbnN0IGhlaWdodFJlZiA9IFJlYWN0LnVzZVJlZjxudW1iZXIgfCB1bmRlZmluZWQ+KDApO1xuICBjb25zdCBoZWlnaHQgPSBoZWlnaHRSZWYuY3VycmVudDtcbiAgY29uc3Qgd2lkdGhSZWYgPSBSZWFjdC51c2VSZWY8bnVtYmVyIHwgdW5kZWZpbmVkPigwKTtcbiAgY29uc3Qgd2lkdGggPSB3aWR0aFJlZi5jdXJyZW50O1xuICAvLyB3aGVuIG9wZW5pbmcgd2Ugd2FudCBpdCB0byBpbW1lZGlhdGVseSBvcGVuIHRvIHJldHJpZXZlIGRpbWVuc2lvbnNcbiAgLy8gd2hlbiBjbG9zaW5nIHdlIGRlbGF5IGBwcmVzZW50YCB0byByZXRyaWV2ZSBkaW1lbnNpb25zIGJlZm9yZSBjbG9zaW5nXG4gIGNvbnN0IGlzT3BlbiA9IGNvbnRleHQub3BlbiB8fCBpc1ByZXNlbnQ7XG4gIGNvbnN0IGlzTW91bnRBbmltYXRpb25QcmV2ZW50ZWRSZWYgPSBSZWFjdC51c2VSZWYoaXNPcGVuKTtcbiAgY29uc3Qgb3JpZ2luYWxTdHlsZXNSZWYgPSBSZWFjdC51c2VSZWY8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4odW5kZWZpbmVkKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJBRiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiAoaXNNb3VudEFuaW1hdGlvblByZXZlbnRlZFJlZi5jdXJyZW50ID0gZmFsc2UpKTtcbiAgICByZXR1cm4gKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUockFGKTtcbiAgfSwgW10pO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IHJlZi5jdXJyZW50O1xuICAgIGlmIChub2RlKSB7XG4gICAgICBvcmlnaW5hbFN0eWxlc1JlZi5jdXJyZW50ID0gb3JpZ2luYWxTdHlsZXNSZWYuY3VycmVudCB8fCB7XG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogbm9kZS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgIGFuaW1hdGlvbk5hbWU6IG5vZGUuc3R5bGUuYW5pbWF0aW9uTmFtZSxcbiAgICAgIH07XG4gICAgICAvLyBibG9jayBhbnkgYW5pbWF0aW9ucy90cmFuc2l0aW9ucyBzbyB0aGUgZWxlbWVudCByZW5kZXJzIGF0IGl0cyBmdWxsIGRpbWVuc2lvbnNcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcbiAgICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uTmFtZSA9ICdub25lJztcblxuICAgICAgLy8gZ2V0IHdpZHRoIGFuZCBoZWlnaHQgZnJvbSBmdWxsIGRpbWVuc2lvbnNcbiAgICAgIGNvbnN0IHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgaGVpZ2h0UmVmLmN1cnJlbnQgPSByZWN0LmhlaWdodDtcbiAgICAgIHdpZHRoUmVmLmN1cnJlbnQgPSByZWN0LndpZHRoO1xuXG4gICAgICAvLyBraWNrIG9mZiBhbnkgYW5pbWF0aW9ucy90cmFuc2l0aW9ucyB0aGF0IHdlcmUgb3JpZ2luYWxseSBzZXQgdXAgaWYgaXQgaXNuJ3QgdGhlIGluaXRpYWwgbW91bnRcbiAgICAgIGlmICghaXNNb3VudEFuaW1hdGlvblByZXZlbnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gb3JpZ2luYWxTdHlsZXNSZWYuY3VycmVudC50cmFuc2l0aW9uRHVyYXRpb247XG4gICAgICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uTmFtZSA9IG9yaWdpbmFsU3R5bGVzUmVmLmN1cnJlbnQuYW5pbWF0aW9uTmFtZTtcbiAgICAgIH1cblxuICAgICAgc2V0SXNQcmVzZW50KHByZXNlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkZXBlbmRzIG9uIGBjb250ZXh0Lm9wZW5gIGJlY2F1c2UgaXQgd2lsbCBjaGFuZ2UgdG8gYGZhbHNlYFxuICAgICAqIHdoZW4gYSBjbG9zZSBpcyB0cmlnZ2VyZWQgYnV0IGBwcmVzZW50YCB3aWxsIGJlIGBmYWxzZWAgb25cbiAgICAgKiBhbmltYXRpb24gZW5kIChzbyB3aGVuIGNsb3NlIGZpbmlzaGVzKS4gVGhpcyBhbGxvd3MgdXMgdG9cbiAgICAgKiByZXRyaWV2ZSB0aGUgZGltZW5zaW9ucyAqYmVmb3JlKiBjbG9zaW5nLlxuICAgICAqL1xuICB9LCBbY29udGV4dC5vcGVuLCBwcmVzZW50XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UHJpbWl0aXZlLmRpdlxuICAgICAgZGF0YS1zdGF0ZT17Z2V0U3RhdGUoY29udGV4dC5vcGVuKX1cbiAgICAgIGRhdGEtZGlzYWJsZWQ9e2NvbnRleHQuZGlzYWJsZWQgPyAnJyA6IHVuZGVmaW5lZH1cbiAgICAgIGlkPXtjb250ZXh0LmNvbnRlbnRJZH1cbiAgICAgIGhpZGRlbj17IWlzT3Blbn1cbiAgICAgIHsuLi5jb250ZW50UHJvcHN9XG4gICAgICByZWY9e2NvbXBvc2VkUmVmc31cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIFtgLS1yYWRpeC1jb2xsYXBzaWJsZS1jb250ZW50LWhlaWdodGAgYXMgYW55XTogaGVpZ2h0ID8gYCR7aGVpZ2h0fXB4YCA6IHVuZGVmaW5lZCxcbiAgICAgICAgW2AtLXJhZGl4LWNvbGxhcHNpYmxlLWNvbnRlbnQtd2lkdGhgIGFzIGFueV06IHdpZHRoID8gYCR7d2lkdGh9cHhgIDogdW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9wcy5zdHlsZSxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2lzT3BlbiAmJiBjaGlsZHJlbn1cbiAgICA8L1ByaW1pdGl2ZS5kaXY+XG4gICk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5mdW5jdGlvbiBnZXRTdGF0ZShvcGVuPzogYm9vbGVhbikge1xuICByZXR1cm4gb3BlbiA/ICdvcGVuJyA6ICdjbG9zZWQnO1xufVxuXG5jb25zdCBSb290ID0gQ29sbGFwc2libGU7XG5jb25zdCBUcmlnZ2VyID0gQ29sbGFwc2libGVUcmlnZ2VyO1xuY29uc3QgQ29udGVudCA9IENvbGxhcHNpYmxlQ29udGVudDtcblxuZXhwb3J0IHtcbiAgY3JlYXRlQ29sbGFwc2libGVTY29wZSxcbiAgLy9cbiAgQ29sbGFwc2libGUsXG4gIENvbGxhcHNpYmxlVHJpZ2dlcixcbiAgQ29sbGFwc2libGVDb250ZW50LFxuICAvL1xuICBSb290LFxuICBUcmlnZ2VyLFxuICBDb250ZW50LFxufTtcbmV4cG9ydCB0eXBlIHsgQ29sbGFwc2libGVQcm9wcywgQ29sbGFwc2libGVUcmlnZ2VyUHJvcHMsIENvbGxhcHNpYmxlQ29udGVudFByb3BzIH07XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjb21wb3NlRXZlbnRIYW5kbGVycyIsImNyZWF0ZUNvbnRleHRTY29wZSIsInVzZUNvbnRyb2xsYWJsZVN0YXRlIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlQ29tcG9zZWRSZWZzIiwiUHJpbWl0aXZlIiwiUHJlc2VuY2UiLCJ1c2VJZCIsImpzeCIsIkNPTExBUFNJQkxFX05BTUUiLCJjcmVhdGVDb2xsYXBzaWJsZUNvbnRleHQiLCJjcmVhdGVDb2xsYXBzaWJsZVNjb3BlIiwiQ29sbGFwc2libGVQcm92aWRlciIsInVzZUNvbGxhcHNpYmxlQ29udGV4dCIsIkNvbGxhcHNpYmxlIiwiZm9yd2FyZFJlZiIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwiX19zY29wZUNvbGxhcHNpYmxlIiwib3BlbiIsIm9wZW5Qcm9wIiwiZGVmYXVsdE9wZW4iLCJkaXNhYmxlZCIsIm9uT3BlbkNoYW5nZSIsImNvbGxhcHNpYmxlUHJvcHMiLCJzZXRPcGVuIiwicHJvcCIsImRlZmF1bHRQcm9wIiwib25DaGFuZ2UiLCJzY29wZSIsImNvbnRlbnRJZCIsIm9uT3BlblRvZ2dsZSIsInVzZUNhbGxiYWNrIiwicHJldk9wZW4iLCJjaGlsZHJlbiIsImRpdiIsImdldFN0YXRlIiwicmVmIiwiZGlzcGxheU5hbWUiLCJUUklHR0VSX05BTUUiLCJDb2xsYXBzaWJsZVRyaWdnZXIiLCJ0cmlnZ2VyUHJvcHMiLCJjb250ZXh0IiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJDT05URU5UX05BTUUiLCJDb2xsYXBzaWJsZUNvbnRlbnQiLCJmb3JjZU1vdW50IiwiY29udGVudFByb3BzIiwicHJlc2VudCIsIkNvbGxhcHNpYmxlQ29udGVudEltcGwiLCJpc1ByZXNlbnQiLCJzZXRJc1ByZXNlbnQiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsImNvbXBvc2VkUmVmcyIsImhlaWdodFJlZiIsImhlaWdodCIsImN1cnJlbnQiLCJ3aWR0aFJlZiIsIndpZHRoIiwiaXNPcGVuIiwiaXNNb3VudEFuaW1hdGlvblByZXZlbnRlZFJlZiIsIm9yaWdpbmFsU3R5bGVzUmVmIiwidXNlRWZmZWN0IiwickFGIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJub2RlIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwic3R5bGUiLCJhbmltYXRpb25OYW1lIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlkIiwiaGlkZGVuIiwiUm9vdCIsIlRyaWdnZXIiLCJDb250ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@radix-ui/react-collapsible/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/vaul/dist/index.mjs":
/*!******************************************!*\
  !*** ./node_modules/vaul/dist/index.mjs ***!
  \******************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Content: function() { return /* binding */ Content; },\n/* harmony export */   Drawer: function() { return /* binding */ Drawer; },\n/* harmony export */   Handle: function() { return /* binding */ Handle; },\n/* harmony export */   NestedRoot: function() { return /* binding */ NestedRoot; },\n/* harmony export */   Overlay: function() { return /* binding */ Overlay; },\n/* harmony export */   Portal: function() { return /* binding */ Portal; },\n/* harmony export */   Root: function() { return /* binding */ Root; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @radix-ui/react-dialog */ \"(app-pages-browser)/./node_modules/@radix-ui/react-dialog/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* __next_internal_client_entry_do_not_use__ Content,Drawer,Handle,NestedRoot,Overlay,Portal,Root auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$(), _s8 = $RefreshSig$(), _s9 = $RefreshSig$(), _s10 = $RefreshSig$(), _s11 = $RefreshSig$(), _s12 = $RefreshSig$(), _s13 = $RefreshSig$(), _s14 = $RefreshSig$();\nfunction __insertCSS(code) {\n    if (!code || typeof document == \"undefined\") return;\n    let head = document.head || document.getElementsByTagName(\"head\")[0];\n    let style = document.createElement(\"style\");\n    style.type = \"text/css\";\n    head.appendChild(style);\n    style.styleSheet ? style.styleSheet.cssText = code : style.appendChild(document.createTextNode(code));\n}\n\n\n\nconst DrawerContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext({\n    drawerRef: {\n        current: null\n    },\n    overlayRef: {\n        current: null\n    },\n    onPress: ()=>{},\n    onRelease: ()=>{},\n    onDrag: ()=>{},\n    onNestedDrag: ()=>{},\n    onNestedOpenChange: ()=>{},\n    onNestedRelease: ()=>{},\n    openProp: undefined,\n    dismissible: false,\n    isOpen: false,\n    isDragging: false,\n    keyboardIsOpen: {\n        current: false\n    },\n    snapPointsOffset: null,\n    snapPoints: null,\n    handleOnly: false,\n    modal: false,\n    shouldFade: false,\n    activeSnapPoint: null,\n    onOpenChange: ()=>{},\n    setActiveSnapPoint: ()=>{},\n    closeDrawer: ()=>{},\n    direction: \"bottom\",\n    shouldAnimate: {\n        current: true\n    },\n    shouldScaleBackground: false,\n    setBackgroundColorOnScale: true,\n    noBodyStyles: false,\n    container: null,\n    autoFocus: false\n});\nconst useDrawerContext = ()=>{\n    _s();\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(DrawerContext);\n    if (!context) {\n        throw new Error(\"useDrawerContext must be used within a Drawer.Root\");\n    }\n    return context;\n};\n_s(useDrawerContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n__insertCSS(\"[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\\n[data-state=closed]\\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}\");\nfunction isMobileFirefox() {\n    const userAgent = navigator.userAgent;\n    return typeof window !== \"undefined\" && (/Firefox/.test(userAgent) && /Mobile/.test(userAgent) || // Android Firefox\n    /FxiOS/.test(userAgent) // iOS Firefox\n    );\n}\nfunction isMac() {\n    return testPlatform(/^Mac/);\n}\nfunction isIPhone() {\n    return testPlatform(/^iPhone/);\n}\nfunction isSafari() {\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n}\nfunction isIPad() {\n    return testPlatform(/^iPad/) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    isMac() && navigator.maxTouchPoints > 1;\n}\nfunction isIOS() {\n    return isIPhone() || isIPad();\n}\nfunction testPlatform(re) {\n    return typeof window !== \"undefined\" && window.navigator != null ? re.test(window.navigator.platform) : undefined;\n}\n// This code comes from https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/overlays/src/usePreventScroll.ts\nconst KEYBOARD_BUFFER = 24;\nconst useIsomorphicLayoutEffect = typeof window !== \"undefined\" ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction chain$1() {\n    for(var _len = arguments.length, callbacks = new Array(_len), _key = 0; _key < _len; _key++){\n        callbacks[_key] = arguments[_key];\n    }\n    return function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        for (let callback of callbacks){\n            if (typeof callback === \"function\") {\n                callback(...args);\n            }\n        }\n    };\n}\n// @ts-ignore\nconst visualViewport = typeof document !== \"undefined\" && window.visualViewport;\nfunction isScrollable(node) {\n    let style = window.getComputedStyle(node);\n    return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\nfunction getScrollParent(node) {\n    if (isScrollable(node)) {\n        node = node.parentElement;\n    }\n    while(node && !isScrollable(node)){\n        node = node.parentElement;\n    }\n    return node || document.scrollingElement || document.documentElement;\n}\n// HTML input types that do not cause the software keyboard to appear.\nconst nonTextInputTypes = new Set([\n    \"checkbox\",\n    \"radio\",\n    \"range\",\n    \"color\",\n    \"file\",\n    \"image\",\n    \"button\",\n    \"submit\",\n    \"reset\"\n]);\n// The number of active usePreventScroll calls. Used to determine whether to revert back to the original page style/scroll position\nlet preventScrollCount = 0;\nlet restore;\n/**\n * Prevents scrolling on the document body on mount, and\n * restores it on unmount. Also ensures that content does not\n * shift due to the scrollbars disappearing.\n */ function usePreventScroll() {\n    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _s1();\n    let { isDisabled } = options;\n    useIsomorphicLayoutEffect(()=>{\n        if (isDisabled) {\n            return;\n        }\n        preventScrollCount++;\n        if (preventScrollCount === 1) {\n            if (isIOS()) {\n                restore = preventScrollMobileSafari();\n            }\n        }\n        return ()=>{\n            preventScrollCount--;\n            if (preventScrollCount === 0) {\n                restore == null ? void 0 : restore();\n            }\n        };\n    }, [\n        isDisabled\n    ]);\n}\n_s1(usePreventScroll, \"Vd+jpwighRca2oU8HoLqd+zm4Bo=\", false, function() {\n    return [\n        useIsomorphicLayoutEffect\n    ];\n});\n// Mobile Safari is a whole different beast. Even with overflow: hidden,\n// it still scrolls the page in many situations:\n//\n// 1. When the bottom toolbar and address bar are collapsed, page scrolling is always allowed.\n// 2. When the keyboard is visible, the viewport does not resize. Instead, the keyboard covers part of\n//    it, so it becomes scrollable.\n// 3. When tapping on an input, the page always scrolls so that the input is centered in the visual viewport.\n//    This may cause even fixed position elements to scroll off the screen.\n// 4. When using the next/previous buttons in the keyboard to navigate between inputs, the whole page always\n//    scrolls, even if the input is inside a nested scrollable element that could be scrolled instead.\n//\n// In order to work around these cases, and prevent scrolling without jankiness, we do a few things:\n//\n// 1. Prevent default on `touchmove` events that are not in a scrollable element. This prevents touch scrolling\n//    on the window.\n// 2. Prevent default on `touchmove` events inside a scrollable element when the scroll position is at the\n//    top or bottom. This avoids the whole page scrolling instead, but does prevent overscrolling.\n// 3. Prevent default on `touchend` events on input elements and handle focusing the element ourselves.\n// 4. When focusing an input, apply a transform to trick Safari into thinking the input is at the top\n//    of the page, which prevents it from scrolling the page. After the input is focused, scroll the element\n//    into view ourselves, without scrolling the whole page.\n// 5. Offset the body by the scroll position using a negative margin and scroll to the top. This should appear the\n//    same visually, but makes the actual scroll position always zero. This is required to make all of the\n//    above work or Safari will still try to scroll the page when focusing an input.\n// 6. As a last resort, handle window scroll events, and scroll back to the top. This can happen when attempting\n//    to navigate to an input with the next/previous buttons that's outside a modal.\nfunction preventScrollMobileSafari() {\n    let scrollable;\n    let lastY = 0;\n    let onTouchStart = (e)=>{\n        // Store the nearest scrollable parent element from the element that the user touched.\n        scrollable = getScrollParent(e.target);\n        if (scrollable === document.documentElement && scrollable === document.body) {\n            return;\n        }\n        lastY = e.changedTouches[0].pageY;\n    };\n    let onTouchMove = (e)=>{\n        // Prevent scrolling the window.\n        if (!scrollable || scrollable === document.documentElement || scrollable === document.body) {\n            e.preventDefault();\n            return;\n        }\n        // Prevent scrolling up when at the top and scrolling down when at the bottom\n        // of a nested scrollable area, otherwise mobile Safari will start scrolling\n        // the window instead. Unfortunately, this disables bounce scrolling when at\n        // the top but it's the best we can do.\n        let y = e.changedTouches[0].pageY;\n        let scrollTop = scrollable.scrollTop;\n        let bottom = scrollable.scrollHeight - scrollable.clientHeight;\n        if (bottom === 0) {\n            return;\n        }\n        if (scrollTop <= 0 && y > lastY || scrollTop >= bottom && y < lastY) {\n            e.preventDefault();\n        }\n        lastY = y;\n    };\n    let onTouchEnd = (e)=>{\n        let target = e.target;\n        // Apply this change if we're not already focused on the target element\n        if (isInput(target) && target !== document.activeElement) {\n            e.preventDefault();\n            // Apply a transform to trick Safari into thinking the input is at the top of the page\n            // so it doesn't try to scroll it into view. When tapping on an input, this needs to\n            // be done before the \"focus\" event, so we have to focus the element ourselves.\n            target.style.transform = \"translateY(-2000px)\";\n            target.focus();\n            requestAnimationFrame(()=>{\n                target.style.transform = \"\";\n            });\n        }\n    };\n    let onFocus = (e)=>{\n        let target = e.target;\n        if (isInput(target)) {\n            // Transform also needs to be applied in the focus event in cases where focus moves\n            // other than tapping on an input directly, e.g. the next/previous buttons in the\n            // software keyboard. In these cases, it seems applying the transform in the focus event\n            // is good enough, whereas when tapping an input, it must be done before the focus event. 🤷‍♂️\n            target.style.transform = \"translateY(-2000px)\";\n            requestAnimationFrame(()=>{\n                target.style.transform = \"\";\n                // This will have prevented the browser from scrolling the focused element into view,\n                // so we need to do this ourselves in a way that doesn't cause the whole page to scroll.\n                if (visualViewport) {\n                    if (visualViewport.height < window.innerHeight) {\n                        // If the keyboard is already visible, do this after one additional frame\n                        // to wait for the transform to be removed.\n                        requestAnimationFrame(()=>{\n                            scrollIntoView(target);\n                        });\n                    } else {\n                        // Otherwise, wait for the visual viewport to resize before scrolling so we can\n                        // measure the correct position to scroll to.\n                        visualViewport.addEventListener(\"resize\", ()=>scrollIntoView(target), {\n                            once: true\n                        });\n                    }\n                }\n            });\n        }\n    };\n    let onWindowScroll = ()=>{\n        // Last resort. If the window scrolled, scroll it back to the top.\n        // It should always be at the top because the body will have a negative margin (see below).\n        window.scrollTo(0, 0);\n    };\n    // Record the original scroll position so we can restore it.\n    // Then apply a negative margin to the body to offset it by the scroll position. This will\n    // enable us to scroll the window to the top, which is required for the rest of this to work.\n    let scrollX = window.pageXOffset;\n    let scrollY = window.pageYOffset;\n    let restoreStyles = chain$1(setStyle(document.documentElement, \"paddingRight\", \"\".concat(window.innerWidth - document.documentElement.clientWidth, \"px\")));\n    // Scroll to the top. The negative margin on the body will make this appear the same.\n    window.scrollTo(0, 0);\n    let removeEvents = chain$1(addEvent(document, \"touchstart\", onTouchStart, {\n        passive: false,\n        capture: true\n    }), addEvent(document, \"touchmove\", onTouchMove, {\n        passive: false,\n        capture: true\n    }), addEvent(document, \"touchend\", onTouchEnd, {\n        passive: false,\n        capture: true\n    }), addEvent(document, \"focus\", onFocus, true), addEvent(window, \"scroll\", onWindowScroll));\n    return ()=>{\n        // Restore styles and scroll the page back to where it was.\n        restoreStyles();\n        removeEvents();\n        window.scrollTo(scrollX, scrollY);\n    };\n}\n// Sets a CSS property on an element, and returns a function to revert it to the previous value.\nfunction setStyle(element, style, value) {\n    // https://github.com/microsoft/TypeScript/issues/17827#issuecomment-391663310\n    // @ts-ignore\n    let cur = element.style[style];\n    // @ts-ignore\n    element.style[style] = value;\n    return ()=>{\n        // @ts-ignore\n        element.style[style] = cur;\n    };\n}\n// Adds an event listener to an element, and returns a function to remove it.\nfunction addEvent(target, event, handler, options) {\n    // @ts-ignore\n    target.addEventListener(event, handler, options);\n    return ()=>{\n        // @ts-ignore\n        target.removeEventListener(event, handler, options);\n    };\n}\nfunction scrollIntoView(target) {\n    let root = document.scrollingElement || document.documentElement;\n    while(target && target !== root){\n        // Find the parent scrollable element and adjust the scroll position if the target is not already in view.\n        let scrollable = getScrollParent(target);\n        if (scrollable !== document.documentElement && scrollable !== document.body && scrollable !== target) {\n            let scrollableTop = scrollable.getBoundingClientRect().top;\n            let targetTop = target.getBoundingClientRect().top;\n            let targetBottom = target.getBoundingClientRect().bottom;\n            // Buffer is needed for some edge cases\n            const keyboardHeight = scrollable.getBoundingClientRect().bottom + KEYBOARD_BUFFER;\n            if (targetBottom > keyboardHeight) {\n                scrollable.scrollTop += targetTop - scrollableTop;\n            }\n        }\n        // @ts-ignore\n        target = scrollable.parentElement;\n    }\n}\nfunction isInput(target) {\n    return target instanceof HTMLInputElement && !nonTextInputTypes.has(target.type) || target instanceof HTMLTextAreaElement || target instanceof HTMLElement && target.isContentEditable;\n}\n// This code comes from https://github.com/radix-ui/primitives/tree/main/packages/react/compose-refs\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */ function setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    } else if (ref !== null && ref !== undefined) {\n        ref.current = value;\n    }\n}\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */ function composeRefs() {\n    for(var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++){\n        refs[_key] = arguments[_key];\n    }\n    return (node)=>refs.forEach((ref)=>setRef(ref, node));\n}\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */ function useComposedRefs() {\n    for(var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++){\n        refs[_key] = arguments[_key];\n    }\n    _s2();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(composeRefs(...refs), refs);\n}\n_s2(useComposedRefs, \"epj4qY15NHsef74wNqHIp5fdZmg=\");\nconst cache = new WeakMap();\nfunction set(el, styles) {\n    let ignoreCache = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n    if (!el || !(el instanceof HTMLElement)) return;\n    let originalStyles = {};\n    Object.entries(styles).forEach((param)=>{\n        let [key, value] = param;\n        if (key.startsWith(\"--\")) {\n            el.style.setProperty(key, value);\n            return;\n        }\n        originalStyles[key] = el.style[key];\n        el.style[key] = value;\n    });\n    if (ignoreCache) return;\n    cache.set(el, originalStyles);\n}\nfunction reset(el, prop) {\n    if (!el || !(el instanceof HTMLElement)) return;\n    let originalStyles = cache.get(el);\n    if (!originalStyles) {\n        return;\n    }\n    {\n        el.style[prop] = originalStyles[prop];\n    }\n}\nconst isVertical = (direction)=>{\n    switch(direction){\n        case \"top\":\n        case \"bottom\":\n            return true;\n        case \"left\":\n        case \"right\":\n            return false;\n        default:\n            return direction;\n    }\n};\nfunction getTranslate(element, direction) {\n    if (!element) {\n        return null;\n    }\n    const style = window.getComputedStyle(element);\n    const transform = style.transform || style.webkitTransform || style.mozTransform;\n    let mat = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (mat) {\n        // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d\n        return parseFloat(mat[1].split(\", \")[isVertical(direction) ? 13 : 12]);\n    }\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n    mat = transform.match(/^matrix\\((.+)\\)$/);\n    return mat ? parseFloat(mat[1].split(\", \")[isVertical(direction) ? 5 : 4]) : null;\n}\nfunction dampenValue(v) {\n    return 8 * (Math.log(v + 1) - 2);\n}\nfunction assignStyle(element, style) {\n    if (!element) return ()=>{};\n    const prevStyle = element.style.cssText;\n    Object.assign(element.style, style);\n    return ()=>{\n        element.style.cssText = prevStyle;\n    };\n}\n/**\n * Receives functions as arguments and returns a new function that calls all.\n */ function chain() {\n    for(var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++){\n        fns[_key] = arguments[_key];\n    }\n    return function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        for (const fn of fns){\n            if (typeof fn === \"function\") {\n                // @ts-ignore\n                fn(...args);\n            }\n        }\n    };\n}\nconst TRANSITIONS = {\n    DURATION: 0.5,\n    EASE: [\n        0.32,\n        0.72,\n        0,\n        1\n    ]\n};\nconst VELOCITY_THRESHOLD = 0.4;\nconst CLOSE_THRESHOLD = 0.25;\nconst SCROLL_LOCK_TIMEOUT = 100;\nconst BORDER_RADIUS = 8;\nconst NESTED_DISPLACEMENT = 16;\nconst WINDOW_TOP_OFFSET = 26;\nconst DRAG_CLASS = \"vaul-dragging\";\n// This code comes from https://github.com/radix-ui/primitives/blob/main/packages/react/use-controllable-state/src/useControllableState.tsx\nfunction useCallbackRef(callback) {\n    _s3();\n    const callbackRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(callback);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        callbackRef.current = callback;\n    });\n    // https://github.com/facebook/react/issues/19240\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>function() {\n            for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n                args[_key] = arguments[_key];\n            }\n            return callbackRef.current == null ? void 0 : callbackRef.current.call(callbackRef, ...args);\n        }, []);\n}\n_s3(useCallbackRef, \"SmGaH/nKwK47PDNwL1mpt0Q/3Os=\");\nfunction useUncontrolledState(param) {\n    let { defaultProp, onChange } = param;\n    _s4();\n    const uncontrolledState = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultProp);\n    const [value] = uncontrolledState;\n    const prevValueRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(value);\n    const handleChange = useCallbackRef(onChange);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (prevValueRef.current !== value) {\n            handleChange(value);\n            prevValueRef.current = value;\n        }\n    }, [\n        value,\n        prevValueRef,\n        handleChange\n    ]);\n    return uncontrolledState;\n}\n_s4(useUncontrolledState, \"WYmWcqnKHe65L/fGBBy1wqlZl58=\", false, function() {\n    return [\n        useCallbackRef\n    ];\n});\nfunction useControllableState(param) {\n    let { prop, defaultProp, onChange = ()=>{} } = param;\n    _s5();\n    const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({\n        defaultProp,\n        onChange\n    });\n    const isControlled = prop !== undefined;\n    const value = isControlled ? prop : uncontrolledProp;\n    const handleChange = useCallbackRef(onChange);\n    const setValue = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((nextValue)=>{\n        if (isControlled) {\n            const setter = nextValue;\n            const value = typeof nextValue === \"function\" ? setter(prop) : nextValue;\n            if (value !== prop) handleChange(value);\n        } else {\n            setUncontrolledProp(nextValue);\n        }\n    }, [\n        isControlled,\n        prop,\n        setUncontrolledProp,\n        handleChange\n    ]);\n    return [\n        value,\n        setValue\n    ];\n}\n_s5(useControllableState, \"pnf37/jPbWy5FyBo0SyW8qgIfGA=\", false, function() {\n    return [\n        useUncontrolledState,\n        useCallbackRef\n    ];\n});\nfunction useSnapPoints(param) {\n    let { activeSnapPointProp, setActiveSnapPointProp, snapPoints, drawerRef, overlayRef, fadeFromIndex, onSnapPointChange, direction = \"bottom\", container, snapToSequentialPoint } = param;\n    _s6();\n    const [activeSnapPoint, setActiveSnapPoint] = useControllableState({\n        prop: activeSnapPointProp,\n        defaultProp: snapPoints == null ? void 0 : snapPoints[0],\n        onChange: setActiveSnapPointProp\n    });\n    const [windowDimensions, setWindowDimensions] = react__WEBPACK_IMPORTED_MODULE_0__.useState(typeof window !== \"undefined\" ? {\n        innerWidth: window.innerWidth,\n        innerHeight: window.innerHeight\n    } : undefined);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        function onResize() {\n            setWindowDimensions({\n                innerWidth: window.innerWidth,\n                innerHeight: window.innerHeight\n            });\n        }\n        window.addEventListener(\"resize\", onResize);\n        return ()=>window.removeEventListener(\"resize\", onResize);\n    }, []);\n    const isLastSnapPoint = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>activeSnapPoint === (snapPoints == null ? void 0 : snapPoints[snapPoints.length - 1]) || null, [\n        snapPoints,\n        activeSnapPoint\n    ]);\n    const activeSnapPointIndex = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        var _snapPoints_findIndex;\n        return (_snapPoints_findIndex = snapPoints == null ? void 0 : snapPoints.findIndex((snapPoint)=>snapPoint === activeSnapPoint)) != null ? _snapPoints_findIndex : null;\n    }, [\n        snapPoints,\n        activeSnapPoint\n    ]);\n    const shouldFade = snapPoints && snapPoints.length > 0 && (fadeFromIndex || fadeFromIndex === 0) && !Number.isNaN(fadeFromIndex) && snapPoints[fadeFromIndex] === activeSnapPoint || !snapPoints;\n    const snapPointsOffset = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const containerSize = container ? {\n            width: container.getBoundingClientRect().width,\n            height: container.getBoundingClientRect().height\n        } : typeof window !== \"undefined\" ? {\n            width: window.innerWidth,\n            height: window.innerHeight\n        } : {\n            width: 0,\n            height: 0\n        };\n        var _snapPoints_map;\n        return (_snapPoints_map = snapPoints == null ? void 0 : snapPoints.map((snapPoint)=>{\n            const isPx = typeof snapPoint === \"string\";\n            let snapPointAsNumber = 0;\n            if (isPx) {\n                snapPointAsNumber = parseInt(snapPoint, 10);\n            }\n            if (isVertical(direction)) {\n                const height = isPx ? snapPointAsNumber : windowDimensions ? snapPoint * containerSize.height : 0;\n                if (windowDimensions) {\n                    return direction === \"bottom\" ? containerSize.height - height : -containerSize.height + height;\n                }\n                return height;\n            }\n            const width = isPx ? snapPointAsNumber : windowDimensions ? snapPoint * containerSize.width : 0;\n            if (windowDimensions) {\n                return direction === \"right\" ? containerSize.width - width : -containerSize.width + width;\n            }\n            return width;\n        })) != null ? _snapPoints_map : [];\n    }, [\n        snapPoints,\n        windowDimensions,\n        container\n    ]);\n    const activeSnapPointOffset = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>activeSnapPointIndex !== null ? snapPointsOffset == null ? void 0 : snapPointsOffset[activeSnapPointIndex] : null, [\n        snapPointsOffset,\n        activeSnapPointIndex\n    ]);\n    const snapToPoint = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((dimension)=>{\n        var _snapPointsOffset_findIndex;\n        const newSnapPointIndex = (_snapPointsOffset_findIndex = snapPointsOffset == null ? void 0 : snapPointsOffset.findIndex((snapPointDim)=>snapPointDim === dimension)) != null ? _snapPointsOffset_findIndex : null;\n        onSnapPointChange(newSnapPointIndex);\n        set(drawerRef.current, {\n            transition: \"transform \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\"),\n            transform: isVertical(direction) ? \"translate3d(0, \".concat(dimension, \"px, 0)\") : \"translate3d(\".concat(dimension, \"px, 0, 0)\")\n        });\n        if (snapPointsOffset && newSnapPointIndex !== snapPointsOffset.length - 1 && fadeFromIndex !== undefined && newSnapPointIndex !== fadeFromIndex && newSnapPointIndex < fadeFromIndex) {\n            set(overlayRef.current, {\n                transition: \"opacity \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\"),\n                opacity: \"0\"\n            });\n        } else {\n            set(overlayRef.current, {\n                transition: \"opacity \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\"),\n                opacity: \"1\"\n            });\n        }\n        setActiveSnapPoint(snapPoints == null ? void 0 : snapPoints[Math.max(newSnapPointIndex, 0)]);\n    }, [\n        drawerRef.current,\n        snapPoints,\n        snapPointsOffset,\n        fadeFromIndex,\n        overlayRef,\n        setActiveSnapPoint\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (activeSnapPoint || activeSnapPointProp) {\n            var _snapPoints_findIndex;\n            const newIndex = (_snapPoints_findIndex = snapPoints == null ? void 0 : snapPoints.findIndex((snapPoint)=>snapPoint === activeSnapPointProp || snapPoint === activeSnapPoint)) != null ? _snapPoints_findIndex : -1;\n            if (snapPointsOffset && newIndex !== -1 && typeof snapPointsOffset[newIndex] === \"number\") {\n                snapToPoint(snapPointsOffset[newIndex]);\n            }\n        }\n    }, [\n        activeSnapPoint,\n        activeSnapPointProp,\n        snapPoints,\n        snapPointsOffset,\n        snapToPoint\n    ]);\n    function onRelease(param) {\n        let { draggedDistance, closeDrawer, velocity, dismissible } = param;\n        if (fadeFromIndex === undefined) return;\n        const currentPosition = direction === \"bottom\" || direction === \"right\" ? (activeSnapPointOffset != null ? activeSnapPointOffset : 0) - draggedDistance : (activeSnapPointOffset != null ? activeSnapPointOffset : 0) + draggedDistance;\n        const isOverlaySnapPoint = activeSnapPointIndex === fadeFromIndex - 1;\n        const isFirst = activeSnapPointIndex === 0;\n        const hasDraggedUp = draggedDistance > 0;\n        if (isOverlaySnapPoint) {\n            set(overlayRef.current, {\n                transition: \"opacity \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\")\n            });\n        }\n        if (!snapToSequentialPoint && velocity > 2 && !hasDraggedUp) {\n            if (dismissible) closeDrawer();\n            else snapToPoint(snapPointsOffset[0]); // snap to initial point\n            return;\n        }\n        if (!snapToSequentialPoint && velocity > 2 && hasDraggedUp && snapPointsOffset && snapPoints) {\n            snapToPoint(snapPointsOffset[snapPoints.length - 1]);\n            return;\n        }\n        // Find the closest snap point to the current position\n        const closestSnapPoint = snapPointsOffset == null ? void 0 : snapPointsOffset.reduce((prev, curr)=>{\n            if (typeof prev !== \"number\" || typeof curr !== \"number\") return prev;\n            return Math.abs(curr - currentPosition) < Math.abs(prev - currentPosition) ? curr : prev;\n        });\n        const dim = isVertical(direction) ? window.innerHeight : window.innerWidth;\n        if (velocity > VELOCITY_THRESHOLD && Math.abs(draggedDistance) < dim * 0.4) {\n            const dragDirection = hasDraggedUp ? 1 : -1; // 1 = up, -1 = down\n            // Don't do anything if we swipe upwards while being on the last snap point\n            if (dragDirection > 0 && isLastSnapPoint && snapPoints) {\n                snapToPoint(snapPointsOffset[snapPoints.length - 1]);\n                return;\n            }\n            if (isFirst && dragDirection < 0 && dismissible) {\n                closeDrawer();\n            }\n            if (activeSnapPointIndex === null) return;\n            snapToPoint(snapPointsOffset[activeSnapPointIndex + dragDirection]);\n            return;\n        }\n        snapToPoint(closestSnapPoint);\n    }\n    function onDrag(param) {\n        let { draggedDistance } = param;\n        if (activeSnapPointOffset === null) return;\n        const newValue = direction === \"bottom\" || direction === \"right\" ? activeSnapPointOffset - draggedDistance : activeSnapPointOffset + draggedDistance;\n        // Don't do anything if we exceed the last(biggest) snap point\n        if ((direction === \"bottom\" || direction === \"right\") && newValue < snapPointsOffset[snapPointsOffset.length - 1]) {\n            return;\n        }\n        if ((direction === \"top\" || direction === \"left\") && newValue > snapPointsOffset[snapPointsOffset.length - 1]) {\n            return;\n        }\n        set(drawerRef.current, {\n            transform: isVertical(direction) ? \"translate3d(0, \".concat(newValue, \"px, 0)\") : \"translate3d(\".concat(newValue, \"px, 0, 0)\")\n        });\n    }\n    function getPercentageDragged(absDraggedDistance, isDraggingDown) {\n        if (!snapPoints || typeof activeSnapPointIndex !== \"number\" || !snapPointsOffset || fadeFromIndex === undefined) return null;\n        // If this is true we are dragging to a snap point that is supposed to have an overlay\n        const isOverlaySnapPoint = activeSnapPointIndex === fadeFromIndex - 1;\n        const isOverlaySnapPointOrHigher = activeSnapPointIndex >= fadeFromIndex;\n        if (isOverlaySnapPointOrHigher && isDraggingDown) {\n            return 0;\n        }\n        // Don't animate, but still use this one if we are dragging away from the overlaySnapPoint\n        if (isOverlaySnapPoint && !isDraggingDown) return 1;\n        if (!shouldFade && !isOverlaySnapPoint) return null;\n        // Either fadeFrom index or the one before\n        const targetSnapPointIndex = isOverlaySnapPoint ? activeSnapPointIndex + 1 : activeSnapPointIndex - 1;\n        // Get the distance from overlaySnapPoint to the one before or vice-versa to calculate the opacity percentage accordingly\n        const snapPointDistance = isOverlaySnapPoint ? snapPointsOffset[targetSnapPointIndex] - snapPointsOffset[targetSnapPointIndex - 1] : snapPointsOffset[targetSnapPointIndex + 1] - snapPointsOffset[targetSnapPointIndex];\n        const percentageDragged = absDraggedDistance / Math.abs(snapPointDistance);\n        if (isOverlaySnapPoint) {\n            return 1 - percentageDragged;\n        } else {\n            return percentageDragged;\n        }\n    }\n    return {\n        isLastSnapPoint,\n        activeSnapPoint,\n        shouldFade,\n        getPercentageDragged,\n        setActiveSnapPoint,\n        activeSnapPointIndex,\n        onRelease,\n        onDrag,\n        snapPointsOffset\n    };\n}\n_s6(useSnapPoints, \"95PjfcnRycW4IeI7SVu/aDGpThs=\", false, function() {\n    return [\n        useControllableState\n    ];\n});\nconst noop = ()=>()=>{};\nfunction useScaleBackground() {\n    _s7();\n    const { direction, isOpen, shouldScaleBackground, setBackgroundColorOnScale, noBodyStyles } = useDrawerContext();\n    const timeoutIdRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const initialBackgroundColor = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>document.body.style.backgroundColor, []);\n    function getScale() {\n        return (window.innerWidth - WINDOW_TOP_OFFSET) / window.innerWidth;\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (isOpen && shouldScaleBackground) {\n            if (timeoutIdRef.current) clearTimeout(timeoutIdRef.current);\n            const wrapper = document.querySelector(\"[data-vaul-drawer-wrapper]\") || document.querySelector(\"[vaul-drawer-wrapper]\");\n            if (!wrapper) return;\n            chain(setBackgroundColorOnScale && !noBodyStyles ? assignStyle(document.body, {\n                background: \"black\"\n            }) : noop, assignStyle(wrapper, {\n                transformOrigin: isVertical(direction) ? \"top\" : \"left\",\n                transitionProperty: \"transform, border-radius\",\n                transitionDuration: \"\".concat(TRANSITIONS.DURATION, \"s\"),\n                transitionTimingFunction: \"cubic-bezier(\".concat(TRANSITIONS.EASE.join(\",\"), \")\")\n            }));\n            const wrapperStylesCleanup = assignStyle(wrapper, {\n                borderRadius: \"\".concat(BORDER_RADIUS, \"px\"),\n                overflow: \"hidden\",\n                ...isVertical(direction) ? {\n                    transform: \"scale(\".concat(getScale(), \") translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)\")\n                } : {\n                    transform: \"scale(\".concat(getScale(), \") translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)\")\n                }\n            });\n            return ()=>{\n                wrapperStylesCleanup();\n                timeoutIdRef.current = window.setTimeout(()=>{\n                    if (initialBackgroundColor) {\n                        document.body.style.background = initialBackgroundColor;\n                    } else {\n                        document.body.style.removeProperty(\"background\");\n                    }\n                }, TRANSITIONS.DURATION * 1000);\n            };\n        }\n    }, [\n        isOpen,\n        shouldScaleBackground,\n        initialBackgroundColor\n    ]);\n}\n_s7(useScaleBackground, \"iD6j0xgGpAUoB+qotTzTu9Cg2FU=\", false, function() {\n    return [\n        useDrawerContext\n    ];\n});\nlet previousBodyPosition = null;\n/**\n * This hook is necessary to prevent buggy behavior on iOS devices (need to test on Android).\n * I won't get into too much detail about what bugs it solves, but so far I've found that setting the body to `position: fixed` is the most reliable way to prevent those bugs.\n * Issues that this hook solves:\n * https://github.com/emilkowalski/vaul/issues/435\n * https://github.com/emilkowalski/vaul/issues/433\n * And more that I discovered, but were just not reported.\n */ function usePositionFixed(param) {\n    let { isOpen, modal, nested, hasBeenOpened, preventScrollRestoration, noBodyStyles } = param;\n    _s8();\n    const [activeUrl, setActiveUrl] = react__WEBPACK_IMPORTED_MODULE_0__.useState(()=>typeof window !== \"undefined\" ? window.location.href : \"\");\n    const scrollPos = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const setPositionFixed = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        // All browsers on iOS will return true here.\n        if (!isSafari()) return;\n        // If previousBodyPosition is already set, don't set it again.\n        if (previousBodyPosition === null && isOpen && !noBodyStyles) {\n            previousBodyPosition = {\n                position: document.body.style.position,\n                top: document.body.style.top,\n                left: document.body.style.left,\n                height: document.body.style.height,\n                right: \"unset\"\n            };\n            // Update the dom inside an animation frame\n            const { scrollX, innerHeight } = window;\n            document.body.style.setProperty(\"position\", \"fixed\", \"important\");\n            Object.assign(document.body.style, {\n                top: \"\".concat(-scrollPos.current, \"px\"),\n                left: \"\".concat(-scrollX, \"px\"),\n                right: \"0px\",\n                height: \"auto\"\n            });\n            window.setTimeout(()=>window.requestAnimationFrame(()=>{\n                    // Attempt to check if the bottom bar appeared due to the position change\n                    const bottomBarHeight = innerHeight - window.innerHeight;\n                    if (bottomBarHeight && scrollPos.current >= innerHeight) {\n                        // Move the content further up so that the bottom bar doesn't hide it\n                        document.body.style.top = \"\".concat(-(scrollPos.current + bottomBarHeight), \"px\");\n                    }\n                }), 300);\n        }\n    }, [\n        isOpen\n    ]);\n    const restorePositionSetting = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        // All browsers on iOS will return true here.\n        if (!isSafari()) return;\n        if (previousBodyPosition !== null && !noBodyStyles) {\n            // Convert the position from \"px\" to Int\n            const y = -parseInt(document.body.style.top, 10);\n            const x = -parseInt(document.body.style.left, 10);\n            // Restore styles\n            Object.assign(document.body.style, previousBodyPosition);\n            window.requestAnimationFrame(()=>{\n                if (preventScrollRestoration && activeUrl !== window.location.href) {\n                    setActiveUrl(window.location.href);\n                    return;\n                }\n                window.scrollTo(x, y);\n            });\n            previousBodyPosition = null;\n        }\n    }, [\n        activeUrl\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        function onScroll() {\n            scrollPos.current = window.scrollY;\n        }\n        onScroll();\n        window.addEventListener(\"scroll\", onScroll);\n        return ()=>{\n            window.removeEventListener(\"scroll\", onScroll);\n        };\n    }, []);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (!modal) return;\n        return ()=>{\n            if (typeof document === \"undefined\") return;\n            // Another drawer is opened, safe to ignore the execution\n            const hasDrawerOpened = !!document.querySelector(\"[data-vaul-drawer]\");\n            if (hasDrawerOpened) return;\n            restorePositionSetting();\n        };\n    }, [\n        modal,\n        restorePositionSetting\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (nested || !hasBeenOpened) return;\n        // This is needed to force Safari toolbar to show **before** the drawer starts animating to prevent a gnarly shift from happening\n        if (isOpen) {\n            // avoid for standalone mode (PWA)\n            const isStandalone = window.matchMedia(\"(display-mode: standalone)\").matches;\n            !isStandalone && setPositionFixed();\n            if (!modal) {\n                window.setTimeout(()=>{\n                    restorePositionSetting();\n                }, 500);\n            }\n        } else {\n            restorePositionSetting();\n        }\n    }, [\n        isOpen,\n        hasBeenOpened,\n        activeUrl,\n        modal,\n        nested,\n        setPositionFixed,\n        restorePositionSetting\n    ]);\n    return {\n        restorePositionSetting\n    };\n}\n_s8(usePositionFixed, \"zTIPLGFv24nxWK/dBplmrSBU4gg=\");\nfunction Root(param) {\n    let { open: openProp, onOpenChange, children, onDrag: onDragProp, onRelease: onReleaseProp, snapPoints, shouldScaleBackground = false, setBackgroundColorOnScale = true, closeThreshold = CLOSE_THRESHOLD, scrollLockTimeout = SCROLL_LOCK_TIMEOUT, dismissible = true, handleOnly = false, fadeFromIndex = snapPoints && snapPoints.length - 1, activeSnapPoint: activeSnapPointProp, setActiveSnapPoint: setActiveSnapPointProp, fixed, modal = true, onClose, nested, noBodyStyles = false, direction = \"bottom\", defaultOpen = false, disablePreventScroll = true, snapToSequentialPoint = false, preventScrollRestoration = false, repositionInputs = true, onAnimationEnd, container, autoFocus = false } = param;\n    _s9();\n    var _drawerRef_current, _drawerRef_current1;\n    const [isOpen = false, setIsOpen] = useControllableState({\n        defaultProp: defaultOpen,\n        prop: openProp,\n        onChange: (o)=>{\n            onOpenChange == null ? void 0 : onOpenChange(o);\n            if (!o && !nested) {\n                restorePositionSetting();\n            }\n            setTimeout(()=>{\n                onAnimationEnd == null ? void 0 : onAnimationEnd(o);\n            }, TRANSITIONS.DURATION * 1000);\n            if (o && !modal) {\n                if (typeof window !== \"undefined\") {\n                    window.requestAnimationFrame(()=>{\n                        document.body.style.pointerEvents = \"auto\";\n                    });\n                }\n            }\n            if (!o) {\n                // This will be removed when the exit animation ends (`500ms`)\n                document.body.style.pointerEvents = \"auto\";\n            }\n        }\n    });\n    const [hasBeenOpened, setHasBeenOpened] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [isDragging, setIsDragging] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [justReleased, setJustReleased] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const openTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const dragStartTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const dragEndTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const lastTimeDragPrevented = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const isAllowedToDrag = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const nestedOpenChangeTimer = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const pointerStart = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const keyboardIsOpen = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const shouldAnimate = react__WEBPACK_IMPORTED_MODULE_0__.useRef(!defaultOpen);\n    const previousDiffFromInitial = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const drawerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const drawerHeightRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(((_drawerRef_current = drawerRef.current) == null ? void 0 : _drawerRef_current.getBoundingClientRect().height) || 0);\n    const drawerWidthRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(((_drawerRef_current1 = drawerRef.current) == null ? void 0 : _drawerRef_current1.getBoundingClientRect().width) || 0);\n    const initialDrawerHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const onSnapPointChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((activeSnapPointIndex)=>{\n        // Change openTime ref when we reach the last snap point to prevent dragging for 500ms incase it's scrollable.\n        if (snapPoints && activeSnapPointIndex === snapPointsOffset.length - 1) openTime.current = new Date();\n    }, []);\n    const { activeSnapPoint, activeSnapPointIndex, setActiveSnapPoint, onRelease: onReleaseSnapPoints, snapPointsOffset, onDrag: onDragSnapPoints, shouldFade, getPercentageDragged: getSnapPointsPercentageDragged } = useSnapPoints({\n        snapPoints,\n        activeSnapPointProp,\n        setActiveSnapPointProp,\n        drawerRef,\n        fadeFromIndex,\n        overlayRef,\n        onSnapPointChange,\n        direction,\n        container,\n        snapToSequentialPoint\n    });\n    usePreventScroll({\n        isDisabled: !isOpen || isDragging || !modal || justReleased || !hasBeenOpened || !repositionInputs || !disablePreventScroll\n    });\n    const { restorePositionSetting } = usePositionFixed({\n        isOpen,\n        modal,\n        nested: nested != null ? nested : false,\n        hasBeenOpened,\n        preventScrollRestoration,\n        noBodyStyles\n    });\n    function getScale() {\n        return (window.innerWidth - WINDOW_TOP_OFFSET) / window.innerWidth;\n    }\n    function onPress(event) {\n        var _drawerRef_current, _drawerRef_current1;\n        if (!dismissible && !snapPoints) return;\n        if (drawerRef.current && !drawerRef.current.contains(event.target)) return;\n        drawerHeightRef.current = ((_drawerRef_current = drawerRef.current) == null ? void 0 : _drawerRef_current.getBoundingClientRect().height) || 0;\n        drawerWidthRef.current = ((_drawerRef_current1 = drawerRef.current) == null ? void 0 : _drawerRef_current1.getBoundingClientRect().width) || 0;\n        setIsDragging(true);\n        dragStartTime.current = new Date();\n        // iOS doesn't trigger mouseUp after scrolling so we need to listen to touched in order to disallow dragging\n        if (isIOS()) {\n            window.addEventListener(\"touchend\", ()=>isAllowedToDrag.current = false, {\n                once: true\n            });\n        }\n        // Ensure we maintain correct pointer capture even when going outside of the drawer\n        event.target.setPointerCapture(event.pointerId);\n        pointerStart.current = isVertical(direction) ? event.pageY : event.pageX;\n    }\n    function shouldDrag(el, isDraggingInDirection) {\n        var _window_getSelection;\n        let element = el;\n        const highlightedText = (_window_getSelection = window.getSelection()) == null ? void 0 : _window_getSelection.toString();\n        const swipeAmount = drawerRef.current ? getTranslate(drawerRef.current, direction) : null;\n        const date = new Date();\n        // Fixes https://github.com/emilkowalski/vaul/issues/483\n        if (element.tagName === \"SELECT\") {\n            return false;\n        }\n        if (element.hasAttribute(\"data-vaul-no-drag\") || element.closest(\"[data-vaul-no-drag]\")) {\n            return false;\n        }\n        if (direction === \"right\" || direction === \"left\") {\n            return true;\n        }\n        // Allow scrolling when animating\n        if (openTime.current && date.getTime() - openTime.current.getTime() < 500) {\n            return false;\n        }\n        if (swipeAmount !== null) {\n            if (direction === \"bottom\" ? swipeAmount > 0 : swipeAmount < 0) {\n                return true;\n            }\n        }\n        // Don't drag if there's highlighted text\n        if (highlightedText && highlightedText.length > 0) {\n            return false;\n        }\n        // Disallow dragging if drawer was scrolled within `scrollLockTimeout`\n        if (lastTimeDragPrevented.current && date.getTime() - lastTimeDragPrevented.current.getTime() < scrollLockTimeout && swipeAmount === 0) {\n            lastTimeDragPrevented.current = date;\n            return false;\n        }\n        if (isDraggingInDirection) {\n            lastTimeDragPrevented.current = date;\n            // We are dragging down so we should allow scrolling\n            return false;\n        }\n        // Keep climbing up the DOM tree as long as there's a parent\n        while(element){\n            // Check if the element is scrollable\n            if (element.scrollHeight > element.clientHeight) {\n                if (element.scrollTop !== 0) {\n                    lastTimeDragPrevented.current = new Date();\n                    // The element is scrollable and not scrolled to the top, so don't drag\n                    return false;\n                }\n                if (element.getAttribute(\"role\") === \"dialog\") {\n                    return true;\n                }\n            }\n            // Move up to the parent element\n            element = element.parentNode;\n        }\n        // No scrollable parents not scrolled to the top found, so drag\n        return true;\n    }\n    function onDrag(event) {\n        if (!drawerRef.current) {\n            return;\n        }\n        // We need to know how much of the drawer has been dragged in percentages so that we can transform background accordingly\n        if (isDragging) {\n            const directionMultiplier = direction === \"bottom\" || direction === \"right\" ? 1 : -1;\n            const draggedDistance = (pointerStart.current - (isVertical(direction) ? event.pageY : event.pageX)) * directionMultiplier;\n            const isDraggingInDirection = draggedDistance > 0;\n            // Pre condition for disallowing dragging in the close direction.\n            const noCloseSnapPointsPreCondition = snapPoints && !dismissible && !isDraggingInDirection;\n            // Disallow dragging down to close when first snap point is the active one and dismissible prop is set to false.\n            if (noCloseSnapPointsPreCondition && activeSnapPointIndex === 0) return;\n            // We need to capture last time when drag with scroll was triggered and have a timeout between\n            const absDraggedDistance = Math.abs(draggedDistance);\n            const wrapper = document.querySelector(\"[data-vaul-drawer-wrapper]\");\n            const drawerDimension = direction === \"bottom\" || direction === \"top\" ? drawerHeightRef.current : drawerWidthRef.current;\n            // Calculate the percentage dragged, where 1 is the closed position\n            let percentageDragged = absDraggedDistance / drawerDimension;\n            const snapPointPercentageDragged = getSnapPointsPercentageDragged(absDraggedDistance, isDraggingInDirection);\n            if (snapPointPercentageDragged !== null) {\n                percentageDragged = snapPointPercentageDragged;\n            }\n            // Disallow close dragging beyond the smallest snap point.\n            if (noCloseSnapPointsPreCondition && percentageDragged >= 1) {\n                return;\n            }\n            if (!isAllowedToDrag.current && !shouldDrag(event.target, isDraggingInDirection)) return;\n            drawerRef.current.classList.add(DRAG_CLASS);\n            // If shouldDrag gave true once after pressing down on the drawer, we set isAllowedToDrag to true and it will remain true until we let go, there's no reason to disable dragging mid way, ever, and that's the solution to it\n            isAllowedToDrag.current = true;\n            set(drawerRef.current, {\n                transition: \"none\"\n            });\n            set(overlayRef.current, {\n                transition: \"none\"\n            });\n            if (snapPoints) {\n                onDragSnapPoints({\n                    draggedDistance\n                });\n            }\n            // Run this only if snapPoints are not defined or if we are at the last snap point (highest one)\n            if (isDraggingInDirection && !snapPoints) {\n                const dampenedDraggedDistance = dampenValue(draggedDistance);\n                const translateValue = Math.min(dampenedDraggedDistance * -1, 0) * directionMultiplier;\n                set(drawerRef.current, {\n                    transform: isVertical(direction) ? \"translate3d(0, \".concat(translateValue, \"px, 0)\") : \"translate3d(\".concat(translateValue, \"px, 0, 0)\")\n                });\n                return;\n            }\n            const opacityValue = 1 - percentageDragged;\n            if (shouldFade || fadeFromIndex && activeSnapPointIndex === fadeFromIndex - 1) {\n                onDragProp == null ? void 0 : onDragProp(event, percentageDragged);\n                set(overlayRef.current, {\n                    opacity: \"\".concat(opacityValue),\n                    transition: \"none\"\n                }, true);\n            }\n            if (wrapper && overlayRef.current && shouldScaleBackground) {\n                // Calculate percentageDragged as a fraction (0 to 1)\n                const scaleValue = Math.min(getScale() + percentageDragged * (1 - getScale()), 1);\n                const borderRadiusValue = 8 - percentageDragged * 8;\n                const translateValue = Math.max(0, 14 - percentageDragged * 14);\n                set(wrapper, {\n                    borderRadius: \"\".concat(borderRadiusValue, \"px\"),\n                    transform: isVertical(direction) ? \"scale(\".concat(scaleValue, \") translate3d(0, \").concat(translateValue, \"px, 0)\") : \"scale(\".concat(scaleValue, \") translate3d(\").concat(translateValue, \"px, 0, 0)\"),\n                    transition: \"none\"\n                }, true);\n            }\n            if (!snapPoints) {\n                const translateValue = absDraggedDistance * directionMultiplier;\n                set(drawerRef.current, {\n                    transform: isVertical(direction) ? \"translate3d(0, \".concat(translateValue, \"px, 0)\") : \"translate3d(\".concat(translateValue, \"px, 0, 0)\")\n                });\n            }\n        }\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        window.requestAnimationFrame(()=>{\n            shouldAnimate.current = true;\n        });\n    }, []);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var _window_visualViewport;\n        function onVisualViewportChange() {\n            if (!drawerRef.current || !repositionInputs) return;\n            const focusedElement = document.activeElement;\n            if (isInput(focusedElement) || keyboardIsOpen.current) {\n                var _window_visualViewport;\n                const visualViewportHeight = ((_window_visualViewport = window.visualViewport) == null ? void 0 : _window_visualViewport.height) || 0;\n                const totalHeight = window.innerHeight;\n                // This is the height of the keyboard\n                let diffFromInitial = totalHeight - visualViewportHeight;\n                const drawerHeight = drawerRef.current.getBoundingClientRect().height || 0;\n                // Adjust drawer height only if it's tall enough\n                const isTallEnough = drawerHeight > totalHeight * 0.8;\n                if (!initialDrawerHeight.current) {\n                    initialDrawerHeight.current = drawerHeight;\n                }\n                const offsetFromTop = drawerRef.current.getBoundingClientRect().top;\n                // visualViewport height may change due to somq e subtle changes to the keyboard. Checking if the height changed by 60 or more will make sure that they keyboard really changed its open state.\n                if (Math.abs(previousDiffFromInitial.current - diffFromInitial) > 60) {\n                    keyboardIsOpen.current = !keyboardIsOpen.current;\n                }\n                if (snapPoints && snapPoints.length > 0 && snapPointsOffset && activeSnapPointIndex) {\n                    const activeSnapPointHeight = snapPointsOffset[activeSnapPointIndex] || 0;\n                    diffFromInitial += activeSnapPointHeight;\n                }\n                previousDiffFromInitial.current = diffFromInitial;\n                // We don't have to change the height if the input is in view, when we are here we are in the opened keyboard state so we can correctly check if the input is in view\n                if (drawerHeight > visualViewportHeight || keyboardIsOpen.current) {\n                    const height = drawerRef.current.getBoundingClientRect().height;\n                    let newDrawerHeight = height;\n                    if (height > visualViewportHeight) {\n                        newDrawerHeight = visualViewportHeight - (isTallEnough ? offsetFromTop : WINDOW_TOP_OFFSET);\n                    }\n                    // When fixed, don't move the drawer upwards if there's space, but rather only change it's height so it's fully scrollable when the keyboard is open\n                    if (fixed) {\n                        drawerRef.current.style.height = \"\".concat(height - Math.max(diffFromInitial, 0), \"px\");\n                    } else {\n                        drawerRef.current.style.height = \"\".concat(Math.max(newDrawerHeight, visualViewportHeight - offsetFromTop), \"px\");\n                    }\n                } else if (!isMobileFirefox()) {\n                    drawerRef.current.style.height = \"\".concat(initialDrawerHeight.current, \"px\");\n                }\n                if (snapPoints && snapPoints.length > 0 && !keyboardIsOpen.current) {\n                    drawerRef.current.style.bottom = \"0px\";\n                } else {\n                    // Negative bottom value would never make sense\n                    drawerRef.current.style.bottom = \"\".concat(Math.max(diffFromInitial, 0), \"px\");\n                }\n            }\n        }\n        (_window_visualViewport = window.visualViewport) == null ? void 0 : _window_visualViewport.addEventListener(\"resize\", onVisualViewportChange);\n        return ()=>{\n            var _window_visualViewport;\n            return (_window_visualViewport = window.visualViewport) == null ? void 0 : _window_visualViewport.removeEventListener(\"resize\", onVisualViewportChange);\n        };\n    }, [\n        activeSnapPointIndex,\n        snapPoints,\n        snapPointsOffset\n    ]);\n    function closeDrawer(fromWithin) {\n        cancelDrag();\n        onClose == null ? void 0 : onClose();\n        if (!fromWithin) {\n            setIsOpen(false);\n        }\n        setTimeout(()=>{\n            if (snapPoints) {\n                setActiveSnapPoint(snapPoints[0]);\n            }\n        }, TRANSITIONS.DURATION * 1000); // seconds to ms\n    }\n    function resetDrawer() {\n        if (!drawerRef.current) return;\n        const wrapper = document.querySelector(\"[data-vaul-drawer-wrapper]\");\n        const currentSwipeAmount = getTranslate(drawerRef.current, direction);\n        set(drawerRef.current, {\n            transform: \"translate3d(0, 0, 0)\",\n            transition: \"transform \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\")\n        });\n        set(overlayRef.current, {\n            transition: \"opacity \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\"),\n            opacity: \"1\"\n        });\n        // Don't reset background if swiped upwards\n        if (shouldScaleBackground && currentSwipeAmount && currentSwipeAmount > 0 && isOpen) {\n            set(wrapper, {\n                borderRadius: \"\".concat(BORDER_RADIUS, \"px\"),\n                overflow: \"hidden\",\n                ...isVertical(direction) ? {\n                    transform: \"scale(\".concat(getScale(), \") translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)\"),\n                    transformOrigin: \"top\"\n                } : {\n                    transform: \"scale(\".concat(getScale(), \") translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)\"),\n                    transformOrigin: \"left\"\n                },\n                transitionProperty: \"transform, border-radius\",\n                transitionDuration: \"\".concat(TRANSITIONS.DURATION, \"s\"),\n                transitionTimingFunction: \"cubic-bezier(\".concat(TRANSITIONS.EASE.join(\",\"), \")\")\n            }, true);\n        }\n    }\n    function cancelDrag() {\n        if (!isDragging || !drawerRef.current) return;\n        drawerRef.current.classList.remove(DRAG_CLASS);\n        isAllowedToDrag.current = false;\n        setIsDragging(false);\n        dragEndTime.current = new Date();\n    }\n    function onRelease(event) {\n        if (!isDragging || !drawerRef.current) return;\n        drawerRef.current.classList.remove(DRAG_CLASS);\n        isAllowedToDrag.current = false;\n        setIsDragging(false);\n        dragEndTime.current = new Date();\n        const swipeAmount = getTranslate(drawerRef.current, direction);\n        if (!event || !shouldDrag(event.target, false) || !swipeAmount || Number.isNaN(swipeAmount)) return;\n        if (dragStartTime.current === null) return;\n        const timeTaken = dragEndTime.current.getTime() - dragStartTime.current.getTime();\n        const distMoved = pointerStart.current - (isVertical(direction) ? event.pageY : event.pageX);\n        const velocity = Math.abs(distMoved) / timeTaken;\n        if (velocity > 0.05) {\n            // `justReleased` is needed to prevent the drawer from focusing on an input when the drag ends, as it's not the intent most of the time.\n            setJustReleased(true);\n            setTimeout(()=>{\n                setJustReleased(false);\n            }, 200);\n        }\n        if (snapPoints) {\n            const directionMultiplier = direction === \"bottom\" || direction === \"right\" ? 1 : -1;\n            onReleaseSnapPoints({\n                draggedDistance: distMoved * directionMultiplier,\n                closeDrawer,\n                velocity,\n                dismissible\n            });\n            onReleaseProp == null ? void 0 : onReleaseProp(event, true);\n            return;\n        }\n        // Moved upwards, don't do anything\n        if (direction === \"bottom\" || direction === \"right\" ? distMoved > 0 : distMoved < 0) {\n            resetDrawer();\n            onReleaseProp == null ? void 0 : onReleaseProp(event, true);\n            return;\n        }\n        if (velocity > VELOCITY_THRESHOLD) {\n            closeDrawer();\n            onReleaseProp == null ? void 0 : onReleaseProp(event, false);\n            return;\n        }\n        var _drawerRef_current_getBoundingClientRect_height;\n        const visibleDrawerHeight = Math.min((_drawerRef_current_getBoundingClientRect_height = drawerRef.current.getBoundingClientRect().height) != null ? _drawerRef_current_getBoundingClientRect_height : 0, window.innerHeight);\n        var _drawerRef_current_getBoundingClientRect_width;\n        const visibleDrawerWidth = Math.min((_drawerRef_current_getBoundingClientRect_width = drawerRef.current.getBoundingClientRect().width) != null ? _drawerRef_current_getBoundingClientRect_width : 0, window.innerWidth);\n        const isHorizontalSwipe = direction === \"left\" || direction === \"right\";\n        if (Math.abs(swipeAmount) >= (isHorizontalSwipe ? visibleDrawerWidth : visibleDrawerHeight) * closeThreshold) {\n            closeDrawer();\n            onReleaseProp == null ? void 0 : onReleaseProp(event, false);\n            return;\n        }\n        onReleaseProp == null ? void 0 : onReleaseProp(event, true);\n        resetDrawer();\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        // Trigger enter animation without using CSS animation\n        if (isOpen) {\n            set(document.documentElement, {\n                scrollBehavior: \"auto\"\n            });\n            openTime.current = new Date();\n        }\n        return ()=>{\n            reset(document.documentElement, \"scrollBehavior\");\n        };\n    }, [\n        isOpen\n    ]);\n    function onNestedOpenChange(o) {\n        const scale = o ? (window.innerWidth - NESTED_DISPLACEMENT) / window.innerWidth : 1;\n        const initialTranslate = o ? -NESTED_DISPLACEMENT : 0;\n        if (nestedOpenChangeTimer.current) {\n            window.clearTimeout(nestedOpenChangeTimer.current);\n        }\n        set(drawerRef.current, {\n            transition: \"transform \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\"),\n            transform: isVertical(direction) ? \"scale(\".concat(scale, \") translate3d(0, \").concat(initialTranslate, \"px, 0)\") : \"scale(\".concat(scale, \") translate3d(\").concat(initialTranslate, \"px, 0, 0)\")\n        });\n        if (!o && drawerRef.current) {\n            nestedOpenChangeTimer.current = setTimeout(()=>{\n                const translateValue = getTranslate(drawerRef.current, direction);\n                set(drawerRef.current, {\n                    transition: \"none\",\n                    transform: isVertical(direction) ? \"translate3d(0, \".concat(translateValue, \"px, 0)\") : \"translate3d(\".concat(translateValue, \"px, 0, 0)\")\n                });\n            }, 500);\n        }\n    }\n    function onNestedDrag(_event, percentageDragged) {\n        if (percentageDragged < 0) return;\n        const initialScale = (window.innerWidth - NESTED_DISPLACEMENT) / window.innerWidth;\n        const newScale = initialScale + percentageDragged * (1 - initialScale);\n        const newTranslate = -NESTED_DISPLACEMENT + percentageDragged * NESTED_DISPLACEMENT;\n        set(drawerRef.current, {\n            transform: isVertical(direction) ? \"scale(\".concat(newScale, \") translate3d(0, \").concat(newTranslate, \"px, 0)\") : \"scale(\".concat(newScale, \") translate3d(\").concat(newTranslate, \"px, 0, 0)\"),\n            transition: \"none\"\n        });\n    }\n    function onNestedRelease(_event, o) {\n        const dim = isVertical(direction) ? window.innerHeight : window.innerWidth;\n        const scale = o ? (dim - NESTED_DISPLACEMENT) / dim : 1;\n        const translate = o ? -NESTED_DISPLACEMENT : 0;\n        if (o) {\n            set(drawerRef.current, {\n                transition: \"transform \".concat(TRANSITIONS.DURATION, \"s cubic-bezier(\").concat(TRANSITIONS.EASE.join(\",\"), \")\"),\n                transform: isVertical(direction) ? \"scale(\".concat(scale, \") translate3d(0, \").concat(translate, \"px, 0)\") : \"scale(\".concat(scale, \") translate3d(\").concat(translate, \"px, 0, 0)\")\n            });\n        }\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (!modal) {\n            // Need to do this manually unfortunately\n            window.requestAnimationFrame(()=>{\n                document.body.style.pointerEvents = \"auto\";\n            });\n        }\n    }, [\n        modal\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Root, {\n        defaultOpen: defaultOpen,\n        onOpenChange: (open)=>{\n            if (!dismissible && !open) return;\n            if (open) {\n                setHasBeenOpened(true);\n            } else {\n                closeDrawer(true);\n            }\n            setIsOpen(open);\n        },\n        open: isOpen\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DrawerContext.Provider, {\n        value: {\n            activeSnapPoint,\n            snapPoints,\n            setActiveSnapPoint,\n            drawerRef,\n            overlayRef,\n            onOpenChange,\n            onPress,\n            onRelease,\n            onDrag,\n            dismissible,\n            shouldAnimate,\n            handleOnly,\n            isOpen,\n            isDragging,\n            shouldFade,\n            closeDrawer,\n            onNestedDrag,\n            onNestedOpenChange,\n            onNestedRelease,\n            keyboardIsOpen,\n            modal,\n            snapPointsOffset,\n            activeSnapPointIndex,\n            direction,\n            shouldScaleBackground,\n            setBackgroundColorOnScale,\n            noBodyStyles,\n            container,\n            autoFocus\n        }\n    }, children));\n}\n_s9(Root, \"8gf2lX0A+f+qpS4gKOo/EFwTgi0=\", false, function() {\n    return [\n        useControllableState,\n        useSnapPoints,\n        usePreventScroll,\n        usePositionFixed\n    ];\n});\n_c = Root;\nconst Overlay = /*#__PURE__*/ _s10(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c1 = _s10(function(param, ref) {\n    let { ...rest } = param;\n    _s10();\n    const { overlayRef, snapPoints, onRelease, shouldFade, isOpen, modal, shouldAnimate } = useDrawerContext();\n    const composedRef = useComposedRefs(ref, overlayRef);\n    const hasSnapPoints = snapPoints && snapPoints.length > 0;\n    // Overlay is the component that is locking scroll, removing it will unlock the scroll without having to dig into Radix's Dialog library\n    if (!modal) {\n        return null;\n    }\n    const onMouseUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>onRelease(event), [\n        onRelease\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Overlay, {\n        onMouseUp: onMouseUp,\n        ref: composedRef,\n        \"data-vaul-overlay\": \"\",\n        \"data-vaul-snap-points\": isOpen && hasSnapPoints ? \"true\" : \"false\",\n        \"data-vaul-snap-points-overlay\": isOpen && shouldFade ? \"true\" : \"false\",\n        \"data-vaul-animate\": (shouldAnimate == null ? void 0 : shouldAnimate.current) ? \"true\" : \"false\",\n        ...rest\n    });\n}, \"mo9crHkIOoa2MURq4gd+ydfXBk0=\", false, function() {\n    return [\n        useDrawerContext,\n        useComposedRefs\n    ];\n})), \"mo9crHkIOoa2MURq4gd+ydfXBk0=\", false, function() {\n    return [\n        useDrawerContext,\n        useComposedRefs\n    ];\n});\n_c2 = Overlay;\nOverlay.displayName = \"Drawer.Overlay\";\nconst Content = /*#__PURE__*/ _s11(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c3 = _s11(function(param, ref) {\n    let { onPointerDownOutside, style, onOpenAutoFocus, ...rest } = param;\n    _s11();\n    const { drawerRef, onPress, onRelease, onDrag, keyboardIsOpen, snapPointsOffset, activeSnapPointIndex, modal, isOpen, direction, snapPoints, container, handleOnly, shouldAnimate, autoFocus } = useDrawerContext();\n    // Needed to use transition instead of animations\n    const [delayedSnapPoints, setDelayedSnapPoints] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const composedRef = useComposedRefs(ref, drawerRef);\n    const pointerStartRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const lastKnownPointerEventRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const wasBeyondThePointRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const hasSnapPoints = snapPoints && snapPoints.length > 0;\n    useScaleBackground();\n    const isDeltaInDirection = function(delta, direction) {\n        let threshold = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n        if (wasBeyondThePointRef.current) return true;\n        const deltaY = Math.abs(delta.y);\n        const deltaX = Math.abs(delta.x);\n        const isDeltaX = deltaX > deltaY;\n        const dFactor = [\n            \"bottom\",\n            \"right\"\n        ].includes(direction) ? 1 : -1;\n        if (direction === \"left\" || direction === \"right\") {\n            const isReverseDirection = delta.x * dFactor < 0;\n            if (!isReverseDirection && deltaX >= 0 && deltaX <= threshold) {\n                return isDeltaX;\n            }\n        } else {\n            const isReverseDirection = delta.y * dFactor < 0;\n            if (!isReverseDirection && deltaY >= 0 && deltaY <= threshold) {\n                return !isDeltaX;\n            }\n        }\n        wasBeyondThePointRef.current = true;\n        return true;\n    };\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (hasSnapPoints) {\n            window.requestAnimationFrame(()=>{\n                setDelayedSnapPoints(true);\n            });\n        }\n    }, []);\n    function handleOnPointerUp(event) {\n        pointerStartRef.current = null;\n        wasBeyondThePointRef.current = false;\n        onRelease(event);\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Content, {\n        \"data-vaul-drawer-direction\": direction,\n        \"data-vaul-drawer\": \"\",\n        \"data-vaul-delayed-snap-points\": delayedSnapPoints ? \"true\" : \"false\",\n        \"data-vaul-snap-points\": isOpen && hasSnapPoints ? \"true\" : \"false\",\n        \"data-vaul-custom-container\": container ? \"true\" : \"false\",\n        \"data-vaul-animate\": (shouldAnimate == null ? void 0 : shouldAnimate.current) ? \"true\" : \"false\",\n        ...rest,\n        ref: composedRef,\n        style: snapPointsOffset && snapPointsOffset.length > 0 ? {\n            \"--snap-point-height\": \"\".concat(snapPointsOffset[activeSnapPointIndex != null ? activeSnapPointIndex : 0], \"px\"),\n            ...style\n        } : style,\n        onPointerDown: (event)=>{\n            if (handleOnly) return;\n            rest.onPointerDown == null ? void 0 : rest.onPointerDown.call(rest, event);\n            pointerStartRef.current = {\n                x: event.pageX,\n                y: event.pageY\n            };\n            onPress(event);\n        },\n        onOpenAutoFocus: (e)=>{\n            onOpenAutoFocus == null ? void 0 : onOpenAutoFocus(e);\n            if (!autoFocus) {\n                e.preventDefault();\n            }\n        },\n        onPointerDownOutside: (e)=>{\n            onPointerDownOutside == null ? void 0 : onPointerDownOutside(e);\n            if (!modal || e.defaultPrevented) {\n                e.preventDefault();\n                return;\n            }\n            if (keyboardIsOpen.current) {\n                keyboardIsOpen.current = false;\n            }\n        },\n        onFocusOutside: (e)=>{\n            if (!modal) {\n                e.preventDefault();\n                return;\n            }\n        },\n        onPointerMove: (event)=>{\n            lastKnownPointerEventRef.current = event;\n            if (handleOnly) return;\n            rest.onPointerMove == null ? void 0 : rest.onPointerMove.call(rest, event);\n            if (!pointerStartRef.current) return;\n            const yPosition = event.pageY - pointerStartRef.current.y;\n            const xPosition = event.pageX - pointerStartRef.current.x;\n            const swipeStartThreshold = event.pointerType === \"touch\" ? 10 : 2;\n            const delta = {\n                x: xPosition,\n                y: yPosition\n            };\n            const isAllowedToSwipe = isDeltaInDirection(delta, direction, swipeStartThreshold);\n            if (isAllowedToSwipe) onDrag(event);\n            else if (Math.abs(xPosition) > swipeStartThreshold || Math.abs(yPosition) > swipeStartThreshold) {\n                pointerStartRef.current = null;\n            }\n        },\n        onPointerUp: (event)=>{\n            rest.onPointerUp == null ? void 0 : rest.onPointerUp.call(rest, event);\n            pointerStartRef.current = null;\n            wasBeyondThePointRef.current = false;\n            onRelease(event);\n        },\n        onPointerOut: (event)=>{\n            rest.onPointerOut == null ? void 0 : rest.onPointerOut.call(rest, event);\n            handleOnPointerUp(lastKnownPointerEventRef.current);\n        },\n        onContextMenu: (event)=>{\n            rest.onContextMenu == null ? void 0 : rest.onContextMenu.call(rest, event);\n            if (lastKnownPointerEventRef.current) {\n                handleOnPointerUp(lastKnownPointerEventRef.current);\n            }\n        }\n    });\n}, \"GxAAlkb0WiIIzsGddkkX1iox49U=\", false, function() {\n    return [\n        useDrawerContext,\n        useComposedRefs,\n        useScaleBackground\n    ];\n})), \"GxAAlkb0WiIIzsGddkkX1iox49U=\", false, function() {\n    return [\n        useDrawerContext,\n        useComposedRefs,\n        useScaleBackground\n    ];\n});\n_c4 = Content;\nContent.displayName = \"Drawer.Content\";\nconst LONG_HANDLE_PRESS_TIMEOUT = 250;\nconst DOUBLE_TAP_TIMEOUT = 120;\nconst Handle = /*#__PURE__*/ _s12(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(_c5 = _s12(function(param, ref) {\n    let { preventCycle = false, children, ...rest } = param;\n    _s12();\n    const { closeDrawer, isDragging, snapPoints, activeSnapPoint, setActiveSnapPoint, dismissible, handleOnly, isOpen, onPress, onDrag } = useDrawerContext();\n    const closeTimeoutIdRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const shouldCancelInteractionRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    function handleStartCycle() {\n        // Stop if this is the second click of a double click\n        if (shouldCancelInteractionRef.current) {\n            handleCancelInteraction();\n            return;\n        }\n        window.setTimeout(()=>{\n            handleCycleSnapPoints();\n        }, DOUBLE_TAP_TIMEOUT);\n    }\n    function handleCycleSnapPoints() {\n        // Prevent accidental taps while resizing drawer\n        if (isDragging || preventCycle || shouldCancelInteractionRef.current) {\n            handleCancelInteraction();\n            return;\n        }\n        // Make sure to clear the timeout id if the user releases the handle before the cancel timeout\n        handleCancelInteraction();\n        if (!snapPoints || snapPoints.length === 0) {\n            if (!dismissible) {\n                closeDrawer();\n            }\n            return;\n        }\n        const isLastSnapPoint = activeSnapPoint === snapPoints[snapPoints.length - 1];\n        if (isLastSnapPoint && dismissible) {\n            closeDrawer();\n            return;\n        }\n        const currentSnapIndex = snapPoints.findIndex((point)=>point === activeSnapPoint);\n        if (currentSnapIndex === -1) return; // activeSnapPoint not found in snapPoints\n        const nextSnapPoint = snapPoints[currentSnapIndex + 1];\n        setActiveSnapPoint(nextSnapPoint);\n    }\n    function handleStartInteraction() {\n        closeTimeoutIdRef.current = window.setTimeout(()=>{\n            // Cancel click interaction on a long press\n            shouldCancelInteractionRef.current = true;\n        }, LONG_HANDLE_PRESS_TIMEOUT);\n    }\n    function handleCancelInteraction() {\n        if (closeTimeoutIdRef.current) {\n            window.clearTimeout(closeTimeoutIdRef.current);\n        }\n        shouldCancelInteractionRef.current = false;\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        onClick: handleStartCycle,\n        onPointerCancel: handleCancelInteraction,\n        onPointerDown: (e)=>{\n            if (handleOnly) onPress(e);\n            handleStartInteraction();\n        },\n        onPointerMove: (e)=>{\n            if (handleOnly) onDrag(e);\n        },\n        // onPointerUp is already handled by the content component\n        ref: ref,\n        \"data-vaul-drawer-visible\": isOpen ? \"true\" : \"false\",\n        \"data-vaul-handle\": \"\",\n        \"aria-hidden\": \"true\",\n        ...rest\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        \"data-vaul-handle-hitarea\": \"\",\n        \"aria-hidden\": \"true\"\n    }, children));\n}, \"NtkFnslp21sASVNYhHGMD/YLelk=\", false, function() {\n    return [\n        useDrawerContext\n    ];\n})), \"NtkFnslp21sASVNYhHGMD/YLelk=\", false, function() {\n    return [\n        useDrawerContext\n    ];\n});\n_c6 = Handle;\nHandle.displayName = \"Drawer.Handle\";\nfunction NestedRoot(param) {\n    let { onDrag, onOpenChange, open: nestedIsOpen, ...rest } = param;\n    _s13();\n    const { onNestedDrag, onNestedOpenChange, onNestedRelease } = useDrawerContext();\n    if (!onNestedDrag) {\n        throw new Error(\"Drawer.NestedRoot must be placed in another drawer\");\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Root, {\n        nested: true,\n        open: nestedIsOpen,\n        onClose: ()=>{\n            onNestedOpenChange(false);\n        },\n        onDrag: (e, p)=>{\n            onNestedDrag(e, p);\n            onDrag == null ? void 0 : onDrag(e, p);\n        },\n        onOpenChange: (o)=>{\n            if (o) {\n                onNestedOpenChange(o);\n            }\n            onOpenChange == null ? void 0 : onOpenChange(o);\n        },\n        onRelease: onNestedRelease,\n        ...rest\n    });\n}\n_s13(NestedRoot, \"BbwGJZo2eqU7oL/7pG0Z2xNjKLk=\", false, function() {\n    return [\n        useDrawerContext\n    ];\n});\n_c7 = NestedRoot;\nfunction Portal(props) {\n    _s14();\n    const context = useDrawerContext();\n    const { container = context.container, ...portalProps } = props;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Portal, {\n        container: container,\n        ...portalProps\n    });\n}\n_s14(Portal, \"zaRIsdk9S/0puIG/0m0d89LzREo=\", false, function() {\n    return [\n        useDrawerContext\n    ];\n});\n_c8 = Portal;\nconst Drawer = {\n    Root,\n    NestedRoot,\n    Content,\n    Overlay,\n    Trigger: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Trigger,\n    Portal,\n    Handle,\n    Close: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Close,\n    Title: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Title,\n    Description: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Description\n};\n\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Root\");\n$RefreshReg$(_c1, \"Overlay$React__default.forwardRef\");\n$RefreshReg$(_c2, \"Overlay\");\n$RefreshReg$(_c3, \"Content$React__default.forwardRef\");\n$RefreshReg$(_c4, \"Content\");\n$RefreshReg$(_c5, \"Handle$React__default.forwardRef\");\n$RefreshReg$(_c6, \"Handle\");\n$RefreshReg$(_c7, \"NestedRoot\");\n$RefreshReg$(_c8, \"Portal\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy92YXVsL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDQSxTQUFTQSxZQUFZQyxJQUFJO0lBQ3ZCLElBQUksQ0FBQ0EsUUFBUSxPQUFPQyxZQUFZLGFBQWE7SUFDN0MsSUFBSUMsT0FBT0QsU0FBU0MsSUFBSSxJQUFJRCxTQUFTRSxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNwRSxJQUFJQyxRQUFRSCxTQUFTSSxhQUFhLENBQUM7SUFDbkNELE1BQU1FLElBQUksR0FBRztJQUNiSixLQUFLSyxXQUFXLENBQUNIO0lBQ2hCQSxNQUFNSSxVQUFVLEdBQUlKLE1BQU1JLFVBQVUsQ0FBQ0MsT0FBTyxHQUFHVCxPQUFRSSxNQUFNRyxXQUFXLENBQUNOLFNBQVNTLGNBQWMsQ0FBQ1Y7QUFDcEc7QUFFMEQ7QUFDM0I7QUFDNkM7QUFFNUUsTUFBTWlCLDhCQUFnQkosZ0RBQTRCLENBQUM7SUFDL0NNLFdBQVc7UUFDUEMsU0FBUztJQUNiO0lBQ0FDLFlBQVk7UUFDUkQsU0FBUztJQUNiO0lBQ0FFLFNBQVMsS0FBSztJQUNkQyxXQUFXLEtBQUs7SUFDaEJDLFFBQVEsS0FBSztJQUNiQyxjQUFjLEtBQUs7SUFDbkJDLG9CQUFvQixLQUFLO0lBQ3pCQyxpQkFBaUIsS0FBSztJQUN0QkMsVUFBVUM7SUFDVkMsYUFBYTtJQUNiQyxRQUFRO0lBQ1JDLFlBQVk7SUFDWkMsZ0JBQWdCO1FBQ1piLFNBQVM7SUFDYjtJQUNBYyxrQkFBa0I7SUFDbEJDLFlBQVk7SUFDWkMsWUFBWTtJQUNaQyxPQUFPO0lBQ1BDLFlBQVk7SUFDWkMsaUJBQWlCO0lBQ2pCQyxjQUFjLEtBQUs7SUFDbkJDLG9CQUFvQixLQUFLO0lBQ3pCQyxhQUFhLEtBQUs7SUFDbEJDLFdBQVc7SUFDWEMsZUFBZTtRQUNYeEIsU0FBUztJQUNiO0lBQ0F5Qix1QkFBdUI7SUFDdkJDLDJCQUEyQjtJQUMzQkMsY0FBYztJQUNk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LEVBQUUsR0FBR3VCO0lBQzlELElBQUksQ0FBQ3pCLGNBQWM7UUFDZixNQUFNLElBQUk0QixNQUFNO0lBQ3BCO0lBQ0EsT0FBTyxXQUFXLEdBQUd4QyxnREFBNEIsQ0FBQytTLE1BQU07UUFDcERwQixRQUFRO1FBQ1JxQixNQUFNdUo7UUFDTmhKLFNBQVM7WUFDTDFTLG1CQUFtQjtRQUN2QjtRQUNBRixRQUFRLENBQUN3RSxHQUFHcVg7WUFDUjViLGFBQWF1RSxHQUFHcVg7WUFDaEI3YixVQUFVLE9BQU8sS0FBSyxJQUFJQSxPQUFPd0UsR0FBR3FYO1FBQ3hDO1FBQ0E3YSxjQUFjLENBQUNvUztZQUNYLElBQUlBLEdBQUc7Z0JBQ0hsVCxtQkFBbUJrVDtZQUN2QjtZQUNBcFMsZ0JBQWdCLE9BQU8sS0FBSyxJQUFJQSxhQUFhb1M7UUFDakQ7UUFDQXJULFdBQVdJO1FBQ1gsR0FBR3NZLElBQUk7SUFDWDtBQUNKO0tBeEJTa0Q7O1FBQ3lEamE7OztNQUR6RGlhO0FBeUJULFNBQVNHLE9BQU9DLEtBQUs7O0lBQ2pCLE1BQU1wYSxVQUFVRDtJQUNoQixNQUFNLEVBQUVGLFlBQVlHLFFBQVFILFNBQVMsRUFBRSxHQUFHd2EsYUFBYSxHQUFHRDtJQUMxRCxPQUFPLFdBQVcsR0FBRzFjLGdEQUE0QixDQUFDRiwwREFBc0IsRUFBRTtRQUN0RXFDLFdBQVdBO1FBQ1gsR0FBR3dhLFdBQVc7SUFDbEI7QUFDSjtLQVBTRjs7UUFDV3BhOzs7TUFEWG9hO0FBUVQsTUFBTUcsU0FBUztJQUNYN0o7SUFDQXVKO0lBQ0E3QztJQUNBUDtJQUNBMkQsU0FBUy9jLDJEQUF1QjtJQUNoQzJjO0lBQ0FoQjtJQUNBcUIsT0FBT2hkLHlEQUFxQjtJQUM1QmlkLE9BQU9qZCx5REFBcUI7SUFDNUJrZCxhQUFhbGQsK0RBQTJCO0FBQzVDO0FBRXNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy92YXVsL2Rpc3QvaW5kZXgubWpzPzRhOWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuZnVuY3Rpb24gX19pbnNlcnRDU1MoY29kZSkge1xuICBpZiAoIWNvZGUgfHwgdHlwZW9mIGRvY3VtZW50ID09ICd1bmRlZmluZWQnKSByZXR1cm5cbiAgbGV0IGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF1cbiAgbGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJ1xuICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKVxuICA7c3R5bGUuc3R5bGVTaGVldCA/IChzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjb2RlKSA6IHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvZGUpKVxufVxuXG5pbXBvcnQgKiBhcyBEaWFsb2dQcmltaXRpdmUgZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWRpYWxvZyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlTGF5b3V0RWZmZWN0LCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IERyYXdlckNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHtcbiAgICBkcmF3ZXJSZWY6IHtcbiAgICAgICAgY3VycmVudDogbnVsbFxuICAgIH0sXG4gICAgb3ZlcmxheVJlZjoge1xuICAgICAgICBjdXJyZW50OiBudWxsXG4gICAgfSxcbiAgICBvblByZXNzOiAoKT0+e30sXG4gICAgb25SZWxlYXNlOiAoKT0+e30sXG4gICAgb25EcmFnOiAoKT0+e30sXG4gICAgb25OZXN0ZWREcmFnOiAoKT0+e30sXG4gICAgb25OZXN0ZWRPcGVuQ2hhbmdlOiAoKT0+e30sXG4gICAgb25OZXN0ZWRSZWxlYXNlOiAoKT0+e30sXG4gICAgb3BlblByb3A6IHVuZGVmaW5lZCxcbiAgICBkaXNtaXNzaWJsZTogZmFsc2UsXG4gICAgaXNPcGVuOiBmYWxzZSxcbiAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICBrZXlib2FyZElzT3Blbjoge1xuICAgICAgICBjdXJyZW50OiBmYWxzZVxuICAgIH0sXG4gICAgc25hcFBvaW50c09mZnNldDogbnVsbCxcbiAgICBzbmFwUG9pbnRzOiBudWxsLFxuICAgIGhhbmRsZU9ubHk6IGZhbHNlLFxuICAgIG1vZGFsOiBmYWxzZSxcbiAgICBzaG91bGRGYWRlOiBmYWxzZSxcbiAgICBhY3RpdmVTbmFwUG9pbnQ6IG51bGwsXG4gICAgb25PcGVuQ2hhbmdlOiAoKT0+e30sXG4gICAgc2V0QWN0aXZlU25hcFBvaW50OiAoKT0+e30sXG4gICAgY2xvc2VEcmF3ZXI6ICgpPT57fSxcbiAgICBkaXJlY3Rpb246ICdib3R0b20nLFxuICAgIHNob3VsZEFuaW1hdGU6IHtcbiAgICAgICAgY3VycmVudDogdHJ1ZVxuICAgIH0sXG4gICAgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kOiBmYWxzZSxcbiAgICBzZXRCYWNrZ3JvdW5kQ29sb3JPblNjYWxlOiB0cnVlLFxuICAgIG5vQm9keVN0eWxlczogZmFsc2UsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIGF1dG9Gb2N1czogZmFsc2Vcbn0pO1xuY29uc3QgdXNlRHJhd2VyQ29udGV4dCA9ICgpPT57XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0X19kZWZhdWx0LnVzZUNvbnRleHQoRHJhd2VyQ29udGV4dCk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndXNlRHJhd2VyQ29udGV4dCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgRHJhd2VyLlJvb3QnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5fX2luc2VydENTUyhcIltkYXRhLXZhdWwtZHJhd2VyXXt0b3VjaC1hY3Rpb246bm9uZTt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjVzIGN1YmljLWJlemllciguMzIsIC43MiwgMCwgMSk7YW5pbWF0aW9uLWR1cmF0aW9uOi41czthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjMyLDAuNzIsMCwxKX1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLXNuYXAtcG9pbnRzPWZhbHNlXVtkYXRhLXZhdWwtZHJhd2VyLWRpcmVjdGlvbj1ib3R0b21dW2RhdGEtc3RhdGU9b3Blbl17YW5pbWF0aW9uLW5hbWU6c2xpZGVGcm9tQm90dG9tfVtkYXRhLXZhdWwtZHJhd2VyXVtkYXRhLXZhdWwtc25hcC1wb2ludHM9ZmFsc2VdW2RhdGEtdmF1bC1kcmF3ZXItZGlyZWN0aW9uPWJvdHRvbV1bZGF0YS1zdGF0ZT1jbG9zZWRde2FuaW1hdGlvbi1uYW1lOnNsaWRlVG9Cb3R0b219W2RhdGEtdmF1bC1kcmF3ZXJdW2RhdGEtdmF1bC1zbmFwLXBvaW50cz1mYWxzZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249dG9wXVtkYXRhLXN0YXRlPW9wZW5de2FuaW1hdGlvbi1uYW1lOnNsaWRlRnJvbVRvcH1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLXNuYXAtcG9pbnRzPWZhbHNlXVtkYXRhLXZhdWwtZHJhd2VyLWRpcmVjdGlvbj10b3BdW2RhdGEtc3RhdGU9Y2xvc2VkXXthbmltYXRpb24tbmFtZTpzbGlkZVRvVG9wfVtkYXRhLXZhdWwtZHJhd2VyXVtkYXRhLXZhdWwtc25hcC1wb2ludHM9ZmFsc2VdW2RhdGEtdmF1bC1kcmF3ZXItZGlyZWN0aW9uPWxlZnRdW2RhdGEtc3RhdGU9b3Blbl17YW5pbWF0aW9uLW5hbWU6c2xpZGVGcm9tTGVmdH1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLXNuYXAtcG9pbnRzPWZhbHNlXVtkYXRhLXZhdWwtZHJhd2VyLWRpcmVjdGlvbj1sZWZ0XVtkYXRhLXN0YXRlPWNsb3NlZF17YW5pbWF0aW9uLW5hbWU6c2xpZGVUb0xlZnR9W2RhdGEtdmF1bC1kcmF3ZXJdW2RhdGEtdmF1bC1zbmFwLXBvaW50cz1mYWxzZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249cmlnaHRdW2RhdGEtc3RhdGU9b3Blbl17YW5pbWF0aW9uLW5hbWU6c2xpZGVGcm9tUmlnaHR9W2RhdGEtdmF1bC1kcmF3ZXJdW2RhdGEtdmF1bC1zbmFwLXBvaW50cz1mYWxzZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249cmlnaHRdW2RhdGEtc3RhdGU9Y2xvc2VkXXthbmltYXRpb24tbmFtZTpzbGlkZVRvUmlnaHR9W2RhdGEtdmF1bC1kcmF3ZXJdW2RhdGEtdmF1bC1zbmFwLXBvaW50cz10cnVlXVtkYXRhLXZhdWwtZHJhd2VyLWRpcmVjdGlvbj1ib3R0b21de3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLHZhcigtLWluaXRpYWwtdHJhbnNmb3JtLDEwMCUpLDApfVtkYXRhLXZhdWwtZHJhd2VyXVtkYXRhLXZhdWwtc25hcC1wb2ludHM9dHJ1ZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249dG9wXXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCxjYWxjKHZhcigtLWluaXRpYWwtdHJhbnNmb3JtLDEwMCUpICogLTEpLDApfVtkYXRhLXZhdWwtZHJhd2VyXVtkYXRhLXZhdWwtc25hcC1wb2ludHM9dHJ1ZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249bGVmdF17dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKGNhbGModmFyKC0taW5pdGlhbC10cmFuc2Zvcm0sMTAwJSkgKiAtMSksMCwwKX1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLXNuYXAtcG9pbnRzPXRydWVdW2RhdGEtdmF1bC1kcmF3ZXItZGlyZWN0aW9uPXJpZ2h0XXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QodmFyKC0taW5pdGlhbC10cmFuc2Zvcm0sMTAwJSksMCwwKX1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLWRlbGF5ZWQtc25hcC1wb2ludHM9dHJ1ZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249dG9wXXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCx2YXIoLS1zbmFwLXBvaW50LWhlaWdodCwwKSwwKX1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLWRlbGF5ZWQtc25hcC1wb2ludHM9dHJ1ZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249Ym90dG9tXXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCx2YXIoLS1zbmFwLXBvaW50LWhlaWdodCwwKSwwKX1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLWRlbGF5ZWQtc25hcC1wb2ludHM9dHJ1ZV1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249bGVmdF17dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKHZhcigtLXNuYXAtcG9pbnQtaGVpZ2h0LDApLDAsMCl9W2RhdGEtdmF1bC1kcmF3ZXJdW2RhdGEtdmF1bC1kZWxheWVkLXNuYXAtcG9pbnRzPXRydWVdW2RhdGEtdmF1bC1kcmF3ZXItZGlyZWN0aW9uPXJpZ2h0XXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QodmFyKC0tc25hcC1wb2ludC1oZWlnaHQsMCksMCwwKX1bZGF0YS12YXVsLW92ZXJsYXldW2RhdGEtdmF1bC1zbmFwLXBvaW50cz1mYWxzZV17YW5pbWF0aW9uLWR1cmF0aW9uOi41czthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjMyLDAuNzIsMCwxKX1bZGF0YS12YXVsLW92ZXJsYXldW2RhdGEtdmF1bC1zbmFwLXBvaW50cz1mYWxzZV1bZGF0YS1zdGF0ZT1vcGVuXXthbmltYXRpb24tbmFtZTpmYWRlSW59W2RhdGEtdmF1bC1vdmVybGF5XVtkYXRhLXN0YXRlPWNsb3NlZF17YW5pbWF0aW9uLW5hbWU6ZmFkZU91dH1bZGF0YS12YXVsLWFuaW1hdGU9ZmFsc2Vde2FuaW1hdGlvbjpub25lIWltcG9ydGFudH1bZGF0YS12YXVsLW92ZXJsYXldW2RhdGEtdmF1bC1zbmFwLXBvaW50cz10cnVlXXtvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IC41cyBjdWJpYy1iZXppZXIoLjMyLCAuNzIsIDAsIDEpfVtkYXRhLXZhdWwtb3ZlcmxheV1bZGF0YS12YXVsLXNuYXAtcG9pbnRzPXRydWVde29wYWNpdHk6MX1bZGF0YS12YXVsLWRyYXdlcl06bm90KFtkYXRhLXZhdWwtY3VzdG9tLWNvbnRhaW5lcj10cnVlXSk6OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDppbmhlcml0O2JhY2tncm91bmQtY29sb3I6aW5oZXJpdH1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249dG9wXTo6YWZ0ZXJ7dG9wOmluaXRpYWw7Ym90dG9tOjEwMCU7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0OjIwMCV9W2RhdGEtdmF1bC1kcmF3ZXJdW2RhdGEtdmF1bC1kcmF3ZXItZGlyZWN0aW9uPWJvdHRvbV06OmFmdGVye3RvcDoxMDAlO2JvdHRvbTppbml0aWFsO2xlZnQ6MDtyaWdodDowO2hlaWdodDoyMDAlfVtkYXRhLXZhdWwtZHJhd2VyXVtkYXRhLXZhdWwtZHJhd2VyLWRpcmVjdGlvbj1sZWZ0XTo6YWZ0ZXJ7bGVmdDppbml0aWFsO3JpZ2h0OjEwMCU7dG9wOjA7Ym90dG9tOjA7d2lkdGg6MjAwJX1bZGF0YS12YXVsLWRyYXdlcl1bZGF0YS12YXVsLWRyYXdlci1kaXJlY3Rpb249cmlnaHRdOjphZnRlcntsZWZ0OjEwMCU7cmlnaHQ6aW5pdGlhbDt0b3A6MDtib3R0b206MDt3aWR0aDoyMDAlfVtkYXRhLXZhdWwtb3ZlcmxheV1bZGF0YS12YXVsLXNuYXAtcG9pbnRzPXRydWVdOm5vdChbZGF0YS12YXVsLXNuYXAtcG9pbnRzLW92ZXJsYXk9dHJ1ZV0pOm5vdChcXG5bZGF0YS1zdGF0ZT1jbG9zZWRdXFxuKXtvcGFjaXR5OjB9W2RhdGEtdmF1bC1vdmVybGF5XVtkYXRhLXZhdWwtc25hcC1wb2ludHMtb3ZlcmxheT10cnVlXXtvcGFjaXR5OjF9W2RhdGEtdmF1bC1oYW5kbGVde2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7b3BhY2l0eTouNztiYWNrZ3JvdW5kOiNlMmUyZTQ7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0bztoZWlnaHQ6NXB4O3dpZHRoOjMycHg7Ym9yZGVyLXJhZGl1czoxcmVtO3RvdWNoLWFjdGlvbjpwYW4teX1bZGF0YS12YXVsLWhhbmRsZV06YWN0aXZlLFtkYXRhLXZhdWwtaGFuZGxlXTpob3ZlcntvcGFjaXR5OjF9W2RhdGEtdmF1bC1oYW5kbGUtaGl0YXJlYV17cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7d2lkdGg6bWF4KDEwMCUsMi43NXJlbSk7aGVpZ2h0Om1heCgxMDAlLDIuNzVyZW0pO3RvdWNoLWFjdGlvbjppbmhlcml0fUBtZWRpYSAoaG92ZXI6aG92ZXIpIGFuZCAocG9pbnRlcjpmaW5lKXtbZGF0YS12YXVsLWRyYXdlcl17dXNlci1zZWxlY3Q6bm9uZX19QG1lZGlhIChwb2ludGVyOmZpbmUpe1tkYXRhLXZhdWwtaGFuZGxlLWhpdGFyZWFdOnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfX1Aa2V5ZnJhbWVzIGZhZGVJbntmcm9te29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fUBrZXlmcmFtZXMgZmFkZU91dHt0b3tvcGFjaXR5OjB9fUBrZXlmcmFtZXMgc2xpZGVGcm9tQm90dG9te2Zyb217dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsdmFyKC0taW5pdGlhbC10cmFuc2Zvcm0sMTAwJSksMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19QGtleWZyYW1lcyBzbGlkZVRvQm90dG9te3Rve3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLHZhcigtLWluaXRpYWwtdHJhbnNmb3JtLDEwMCUpLDApfX1Aa2V5ZnJhbWVzIHNsaWRlRnJvbVRvcHtmcm9te3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLGNhbGModmFyKC0taW5pdGlhbC10cmFuc2Zvcm0sMTAwJSkgKiAtMSksMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19QGtleWZyYW1lcyBzbGlkZVRvVG9we3Rve3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLGNhbGModmFyKC0taW5pdGlhbC10cmFuc2Zvcm0sMTAwJSkgKiAtMSksMCl9fUBrZXlmcmFtZXMgc2xpZGVGcm9tTGVmdHtmcm9te3RyYW5zZm9ybTp0cmFuc2xhdGUzZChjYWxjKHZhcigtLWluaXRpYWwtdHJhbnNmb3JtLDEwMCUpICogLTEpLDAsMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19QGtleWZyYW1lcyBzbGlkZVRvTGVmdHt0b3t0cmFuc2Zvcm06dHJhbnNsYXRlM2QoY2FsYyh2YXIoLS1pbml0aWFsLXRyYW5zZm9ybSwxMDAlKSAqIC0xKSwwLDApfX1Aa2V5ZnJhbWVzIHNsaWRlRnJvbVJpZ2h0e2Zyb217dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKHZhcigtLWluaXRpYWwtdHJhbnNmb3JtLDEwMCUpLDAsMCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19QGtleWZyYW1lcyBzbGlkZVRvUmlnaHR7dG97dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKHZhcigtLWluaXRpYWwtdHJhbnNmb3JtLDEwMCUpLDAsMCl9fVwiKTtcblxuZnVuY3Rpb24gaXNNb2JpbGVGaXJlZm94KCkge1xuICAgIGNvbnN0IHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICgvRmlyZWZveC8udGVzdCh1c2VyQWdlbnQpICYmIC9Nb2JpbGUvLnRlc3QodXNlckFnZW50KSB8fCAvLyBBbmRyb2lkIEZpcmVmb3hcbiAgICAvRnhpT1MvLnRlc3QodXNlckFnZW50KSAvLyBpT1MgRmlyZWZveFxuICAgICk7XG59XG5mdW5jdGlvbiBpc01hYygpIHtcbiAgICByZXR1cm4gdGVzdFBsYXRmb3JtKC9eTWFjLyk7XG59XG5mdW5jdGlvbiBpc0lQaG9uZSgpIHtcbiAgICByZXR1cm4gdGVzdFBsYXRmb3JtKC9eaVBob25lLyk7XG59XG5mdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgICByZXR1cm4gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cbmZ1bmN0aW9uIGlzSVBhZCgpIHtcbiAgICByZXR1cm4gdGVzdFBsYXRmb3JtKC9eaVBhZC8pIHx8IC8vIGlQYWRPUyAxMyBsaWVzIGFuZCBzYXlzIGl0J3MgYSBNYWMsIGJ1dCB3ZSBjYW4gZGlzdGluZ3Vpc2ggYnkgZGV0ZWN0aW5nIHRvdWNoIHN1cHBvcnQuXG4gICAgaXNNYWMoKSAmJiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxO1xufVxuZnVuY3Rpb24gaXNJT1MoKSB7XG4gICAgcmV0dXJuIGlzSVBob25lKCkgfHwgaXNJUGFkKCk7XG59XG5mdW5jdGlvbiB0ZXN0UGxhdGZvcm0ocmUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvciAhPSBudWxsID8gcmUudGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSA6IHVuZGVmaW5lZDtcbn1cblxuLy8gVGhpcyBjb2RlIGNvbWVzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Fkb2JlL3JlYWN0LXNwZWN0cnVtL2Jsb2IvbWFpbi9wYWNrYWdlcy8lNDByZWFjdC1hcmlhL292ZXJsYXlzL3NyYy91c2VQcmV2ZW50U2Nyb2xsLnRzXG5jb25zdCBLRVlCT0FSRF9CVUZGRVIgPSAyNDtcbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcbmZ1bmN0aW9uIGNoYWluJDEoLi4uY2FsbGJhY2tzKSB7XG4gICAgcmV0dXJuICguLi5hcmdzKT0+e1xuICAgICAgICBmb3IgKGxldCBjYWxsYmFjayBvZiBjYWxsYmFja3Mpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbi8vIEB0cy1pZ25vcmVcbmNvbnN0IHZpc3VhbFZpZXdwb3J0ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG5mdW5jdGlvbiBpc1Njcm9sbGFibGUobm9kZSkge1xuICAgIGxldCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIHJldHVybiAvKGF1dG98c2Nyb2xsKS8udGVzdChzdHlsZS5vdmVyZmxvdyArIHN0eWxlLm92ZXJmbG93WCArIHN0eWxlLm92ZXJmbG93WSk7XG59XG5mdW5jdGlvbiBnZXRTY3JvbGxQYXJlbnQobm9kZSkge1xuICAgIGlmIChpc1Njcm9sbGFibGUobm9kZSkpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgd2hpbGUobm9kZSAmJiAhaXNTY3JvbGxhYmxlKG5vZGUpKXtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUgfHwgZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG59XG4vLyBIVE1MIGlucHV0IHR5cGVzIHRoYXQgZG8gbm90IGNhdXNlIHRoZSBzb2Z0d2FyZSBrZXlib2FyZCB0byBhcHBlYXIuXG5jb25zdCBub25UZXh0SW5wdXRUeXBlcyA9IG5ldyBTZXQoW1xuICAgICdjaGVja2JveCcsXG4gICAgJ3JhZGlvJyxcbiAgICAncmFuZ2UnLFxuICAgICdjb2xvcicsXG4gICAgJ2ZpbGUnLFxuICAgICdpbWFnZScsXG4gICAgJ2J1dHRvbicsXG4gICAgJ3N1Ym1pdCcsXG4gICAgJ3Jlc2V0J1xuXSk7XG4vLyBUaGUgbnVtYmVyIG9mIGFjdGl2ZSB1c2VQcmV2ZW50U2Nyb2xsIGNhbGxzLiBVc2VkIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHJldmVydCBiYWNrIHRvIHRoZSBvcmlnaW5hbCBwYWdlIHN0eWxlL3Njcm9sbCBwb3NpdGlvblxubGV0IHByZXZlbnRTY3JvbGxDb3VudCA9IDA7XG5sZXQgcmVzdG9yZTtcbi8qKlxuICogUHJldmVudHMgc2Nyb2xsaW5nIG9uIHRoZSBkb2N1bWVudCBib2R5IG9uIG1vdW50LCBhbmRcbiAqIHJlc3RvcmVzIGl0IG9uIHVubW91bnQuIEFsc28gZW5zdXJlcyB0aGF0IGNvbnRlbnQgZG9lcyBub3RcbiAqIHNoaWZ0IGR1ZSB0byB0aGUgc2Nyb2xsYmFycyBkaXNhcHBlYXJpbmcuXG4gKi8gZnVuY3Rpb24gdXNlUHJldmVudFNjcm9sbChvcHRpb25zID0ge30pIHtcbiAgICBsZXQgeyBpc0Rpc2FibGVkIH0gPSBvcHRpb25zO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCk9PntcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcmV2ZW50U2Nyb2xsQ291bnQrKztcbiAgICAgICAgaWYgKHByZXZlbnRTY3JvbGxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGlzSU9TKCkpIHtcbiAgICAgICAgICAgICAgICByZXN0b3JlID0gcHJldmVudFNjcm9sbE1vYmlsZVNhZmFyaSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgcHJldmVudFNjcm9sbENvdW50LS07XG4gICAgICAgICAgICBpZiAocHJldmVudFNjcm9sbENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdG9yZSA9PSBudWxsID8gdm9pZCAwIDogcmVzdG9yZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgaXNEaXNhYmxlZFxuICAgIF0pO1xufVxuLy8gTW9iaWxlIFNhZmFyaSBpcyBhIHdob2xlIGRpZmZlcmVudCBiZWFzdC4gRXZlbiB3aXRoIG92ZXJmbG93OiBoaWRkZW4sXG4vLyBpdCBzdGlsbCBzY3JvbGxzIHRoZSBwYWdlIGluIG1hbnkgc2l0dWF0aW9uczpcbi8vXG4vLyAxLiBXaGVuIHRoZSBib3R0b20gdG9vbGJhciBhbmQgYWRkcmVzcyBiYXIgYXJlIGNvbGxhcHNlZCwgcGFnZSBzY3JvbGxpbmcgaXMgYWx3YXlzIGFsbG93ZWQuXG4vLyAyLiBXaGVuIHRoZSBrZXlib2FyZCBpcyB2aXNpYmxlLCB0aGUgdmlld3BvcnQgZG9lcyBub3QgcmVzaXplLiBJbnN0ZWFkLCB0aGUga2V5Ym9hcmQgY292ZXJzIHBhcnQgb2Zcbi8vICAgIGl0LCBzbyBpdCBiZWNvbWVzIHNjcm9sbGFibGUuXG4vLyAzLiBXaGVuIHRhcHBpbmcgb24gYW4gaW5wdXQsIHRoZSBwYWdlIGFsd2F5cyBzY3JvbGxzIHNvIHRoYXQgdGhlIGlucHV0IGlzIGNlbnRlcmVkIGluIHRoZSB2aXN1YWwgdmlld3BvcnQuXG4vLyAgICBUaGlzIG1heSBjYXVzZSBldmVuIGZpeGVkIHBvc2l0aW9uIGVsZW1lbnRzIHRvIHNjcm9sbCBvZmYgdGhlIHNjcmVlbi5cbi8vIDQuIFdoZW4gdXNpbmcgdGhlIG5leHQvcHJldmlvdXMgYnV0dG9ucyBpbiB0aGUga2V5Ym9hcmQgdG8gbmF2aWdhdGUgYmV0d2VlbiBpbnB1dHMsIHRoZSB3aG9sZSBwYWdlIGFsd2F5c1xuLy8gICAgc2Nyb2xscywgZXZlbiBpZiB0aGUgaW5wdXQgaXMgaW5zaWRlIGEgbmVzdGVkIHNjcm9sbGFibGUgZWxlbWVudCB0aGF0IGNvdWxkIGJlIHNjcm9sbGVkIGluc3RlYWQuXG4vL1xuLy8gSW4gb3JkZXIgdG8gd29yayBhcm91bmQgdGhlc2UgY2FzZXMsIGFuZCBwcmV2ZW50IHNjcm9sbGluZyB3aXRob3V0IGphbmtpbmVzcywgd2UgZG8gYSBmZXcgdGhpbmdzOlxuLy9cbi8vIDEuIFByZXZlbnQgZGVmYXVsdCBvbiBgdG91Y2htb3ZlYCBldmVudHMgdGhhdCBhcmUgbm90IGluIGEgc2Nyb2xsYWJsZSBlbGVtZW50LiBUaGlzIHByZXZlbnRzIHRvdWNoIHNjcm9sbGluZ1xuLy8gICAgb24gdGhlIHdpbmRvdy5cbi8vIDIuIFByZXZlbnQgZGVmYXVsdCBvbiBgdG91Y2htb3ZlYCBldmVudHMgaW5zaWRlIGEgc2Nyb2xsYWJsZSBlbGVtZW50IHdoZW4gdGhlIHNjcm9sbCBwb3NpdGlvbiBpcyBhdCB0aGVcbi8vICAgIHRvcCBvciBib3R0b20uIFRoaXMgYXZvaWRzIHRoZSB3aG9sZSBwYWdlIHNjcm9sbGluZyBpbnN0ZWFkLCBidXQgZG9lcyBwcmV2ZW50IG92ZXJzY3JvbGxpbmcuXG4vLyAzLiBQcmV2ZW50IGRlZmF1bHQgb24gYHRvdWNoZW5kYCBldmVudHMgb24gaW5wdXQgZWxlbWVudHMgYW5kIGhhbmRsZSBmb2N1c2luZyB0aGUgZWxlbWVudCBvdXJzZWx2ZXMuXG4vLyA0LiBXaGVuIGZvY3VzaW5nIGFuIGlucHV0LCBhcHBseSBhIHRyYW5zZm9ybSB0byB0cmljayBTYWZhcmkgaW50byB0aGlua2luZyB0aGUgaW5wdXQgaXMgYXQgdGhlIHRvcFxuLy8gICAgb2YgdGhlIHBhZ2UsIHdoaWNoIHByZXZlbnRzIGl0IGZyb20gc2Nyb2xsaW5nIHRoZSBwYWdlLiBBZnRlciB0aGUgaW5wdXQgaXMgZm9jdXNlZCwgc2Nyb2xsIHRoZSBlbGVtZW50XG4vLyAgICBpbnRvIHZpZXcgb3Vyc2VsdmVzLCB3aXRob3V0IHNjcm9sbGluZyB0aGUgd2hvbGUgcGFnZS5cbi8vIDUuIE9mZnNldCB0aGUgYm9keSBieSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHVzaW5nIGEgbmVnYXRpdmUgbWFyZ2luIGFuZCBzY3JvbGwgdG8gdGhlIHRvcC4gVGhpcyBzaG91bGQgYXBwZWFyIHRoZVxuLy8gICAgc2FtZSB2aXN1YWxseSwgYnV0IG1ha2VzIHRoZSBhY3R1YWwgc2Nyb2xsIHBvc2l0aW9uIGFsd2F5cyB6ZXJvLiBUaGlzIGlzIHJlcXVpcmVkIHRvIG1ha2UgYWxsIG9mIHRoZVxuLy8gICAgYWJvdmUgd29yayBvciBTYWZhcmkgd2lsbCBzdGlsbCB0cnkgdG8gc2Nyb2xsIHRoZSBwYWdlIHdoZW4gZm9jdXNpbmcgYW4gaW5wdXQuXG4vLyA2LiBBcyBhIGxhc3QgcmVzb3J0LCBoYW5kbGUgd2luZG93IHNjcm9sbCBldmVudHMsIGFuZCBzY3JvbGwgYmFjayB0byB0aGUgdG9wLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBhdHRlbXB0aW5nXG4vLyAgICB0byBuYXZpZ2F0ZSB0byBhbiBpbnB1dCB3aXRoIHRoZSBuZXh0L3ByZXZpb3VzIGJ1dHRvbnMgdGhhdCdzIG91dHNpZGUgYSBtb2RhbC5cbmZ1bmN0aW9uIHByZXZlbnRTY3JvbGxNb2JpbGVTYWZhcmkoKSB7XG4gICAgbGV0IHNjcm9sbGFibGU7XG4gICAgbGV0IGxhc3RZID0gMDtcbiAgICBsZXQgb25Ub3VjaFN0YXJ0ID0gKGUpPT57XG4gICAgICAgIC8vIFN0b3JlIHRoZSBuZWFyZXN0IHNjcm9sbGFibGUgcGFyZW50IGVsZW1lbnQgZnJvbSB0aGUgZWxlbWVudCB0aGF0IHRoZSB1c2VyIHRvdWNoZWQuXG4gICAgICAgIHNjcm9sbGFibGUgPSBnZXRTY3JvbGxQYXJlbnQoZS50YXJnZXQpO1xuICAgICAgICBpZiAoc2Nyb2xsYWJsZSA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIHNjcm9sbGFibGUgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsYXN0WSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7XG4gICAgfTtcbiAgICBsZXQgb25Ub3VjaE1vdmUgPSAoZSk9PntcbiAgICAgICAgLy8gUHJldmVudCBzY3JvbGxpbmcgdGhlIHdpbmRvdy5cbiAgICAgICAgaWYgKCFzY3JvbGxhYmxlIHx8IHNjcm9sbGFibGUgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBzY3JvbGxhYmxlID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudCBzY3JvbGxpbmcgdXAgd2hlbiBhdCB0aGUgdG9wIGFuZCBzY3JvbGxpbmcgZG93biB3aGVuIGF0IHRoZSBib3R0b21cbiAgICAgICAgLy8gb2YgYSBuZXN0ZWQgc2Nyb2xsYWJsZSBhcmVhLCBvdGhlcndpc2UgbW9iaWxlIFNhZmFyaSB3aWxsIHN0YXJ0IHNjcm9sbGluZ1xuICAgICAgICAvLyB0aGUgd2luZG93IGluc3RlYWQuIFVuZm9ydHVuYXRlbHksIHRoaXMgZGlzYWJsZXMgYm91bmNlIHNjcm9sbGluZyB3aGVuIGF0XG4gICAgICAgIC8vIHRoZSB0b3AgYnV0IGl0J3MgdGhlIGJlc3Qgd2UgY2FuIGRvLlxuICAgICAgICBsZXQgeSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgIGxldCBzY3JvbGxUb3AgPSBzY3JvbGxhYmxlLnNjcm9sbFRvcDtcbiAgICAgICAgbGV0IGJvdHRvbSA9IHNjcm9sbGFibGUuc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsYWJsZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGlmIChib3R0b20gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nyb2xsVG9wIDw9IDAgJiYgeSA+IGxhc3RZIHx8IHNjcm9sbFRvcCA+PSBib3R0b20gJiYgeSA8IGxhc3RZKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFkgPSB5O1xuICAgIH07XG4gICAgbGV0IG9uVG91Y2hFbmQgPSAoZSk9PntcbiAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAvLyBBcHBseSB0aGlzIGNoYW5nZSBpZiB3ZSdyZSBub3QgYWxyZWFkeSBmb2N1c2VkIG9uIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgICBpZiAoaXNJbnB1dCh0YXJnZXQpICYmIHRhcmdldCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgLy8gQXBwbHkgYSB0cmFuc2Zvcm0gdG8gdHJpY2sgU2FmYXJpIGludG8gdGhpbmtpbmcgdGhlIGlucHV0IGlzIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgICAgICAgIC8vIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIHNjcm9sbCBpdCBpbnRvIHZpZXcuIFdoZW4gdGFwcGluZyBvbiBhbiBpbnB1dCwgdGhpcyBuZWVkcyB0b1xuICAgICAgICAgICAgLy8gYmUgZG9uZSBiZWZvcmUgdGhlIFwiZm9jdXNcIiBldmVudCwgc28gd2UgaGF2ZSB0byBmb2N1cyB0aGUgZWxlbWVudCBvdXJzZWx2ZXMuXG4gICAgICAgICAgICB0YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTIwMDBweCknO1xuICAgICAgICAgICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntcbiAgICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgbGV0IG9uRm9jdXMgPSAoZSk9PntcbiAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAoaXNJbnB1dCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm0gYWxzbyBuZWVkcyB0byBiZSBhcHBsaWVkIGluIHRoZSBmb2N1cyBldmVudCBpbiBjYXNlcyB3aGVyZSBmb2N1cyBtb3Zlc1xuICAgICAgICAgICAgLy8gb3RoZXIgdGhhbiB0YXBwaW5nIG9uIGFuIGlucHV0IGRpcmVjdGx5LCBlLmcuIHRoZSBuZXh0L3ByZXZpb3VzIGJ1dHRvbnMgaW4gdGhlXG4gICAgICAgICAgICAvLyBzb2Z0d2FyZSBrZXlib2FyZC4gSW4gdGhlc2UgY2FzZXMsIGl0IHNlZW1zIGFwcGx5aW5nIHRoZSB0cmFuc2Zvcm0gaW4gdGhlIGZvY3VzIGV2ZW50XG4gICAgICAgICAgICAvLyBpcyBnb29kIGVub3VnaCwgd2hlcmVhcyB3aGVuIHRhcHBpbmcgYW4gaW5wdXQsIGl0IG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIGZvY3VzIGV2ZW50LiDwn6S34oCN4pmC77iPXG4gICAgICAgICAgICB0YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTIwMDBweCknO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBoYXZlIHByZXZlbnRlZCB0aGUgYnJvd3NlciBmcm9tIHNjcm9sbGluZyB0aGUgZm9jdXNlZCBlbGVtZW50IGludG8gdmlldyxcbiAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGRvIHRoaXMgb3Vyc2VsdmVzIGluIGEgd2F5IHRoYXQgZG9lc24ndCBjYXVzZSB0aGUgd2hvbGUgcGFnZSB0byBzY3JvbGwuXG4gICAgICAgICAgICAgICAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2aXN1YWxWaWV3cG9ydC5oZWlnaHQgPCB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBrZXlib2FyZCBpcyBhbHJlYWR5IHZpc2libGUsIGRvIHRoaXMgYWZ0ZXIgb25lIGFkZGl0aW9uYWwgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIHdhaXQgZm9yIHRoZSB0cmFuc2Zvcm0gdG8gYmUgcmVtb3ZlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEludG9WaWV3KHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2FpdCBmb3IgdGhlIHZpc3VhbCB2aWV3cG9ydCB0byByZXNpemUgYmVmb3JlIHNjcm9sbGluZyBzbyB3ZSBjYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1lYXN1cmUgdGhlIGNvcnJlY3QgcG9zaXRpb24gdG8gc2Nyb2xsIHRvLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCk9PnNjcm9sbEludG9WaWV3KHRhcmdldCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBsZXQgb25XaW5kb3dTY3JvbGwgPSAoKT0+e1xuICAgICAgICAvLyBMYXN0IHJlc29ydC4gSWYgdGhlIHdpbmRvdyBzY3JvbGxlZCwgc2Nyb2xsIGl0IGJhY2sgdG8gdGhlIHRvcC5cbiAgICAgICAgLy8gSXQgc2hvdWxkIGFsd2F5cyBiZSBhdCB0aGUgdG9wIGJlY2F1c2UgdGhlIGJvZHkgd2lsbCBoYXZlIGEgbmVnYXRpdmUgbWFyZ2luIChzZWUgYmVsb3cpLlxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgfTtcbiAgICAvLyBSZWNvcmQgdGhlIG9yaWdpbmFsIHNjcm9sbCBwb3NpdGlvbiBzbyB3ZSBjYW4gcmVzdG9yZSBpdC5cbiAgICAvLyBUaGVuIGFwcGx5IGEgbmVnYXRpdmUgbWFyZ2luIHRvIHRoZSBib2R5IHRvIG9mZnNldCBpdCBieSB0aGUgc2Nyb2xsIHBvc2l0aW9uLiBUaGlzIHdpbGxcbiAgICAvLyBlbmFibGUgdXMgdG8gc2Nyb2xsIHRoZSB3aW5kb3cgdG8gdGhlIHRvcCwgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIHRoZSByZXN0IG9mIHRoaXMgdG8gd29yay5cbiAgICBsZXQgc2Nyb2xsWCA9IHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgICBsZXQgc2Nyb2xsWSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICBsZXQgcmVzdG9yZVN0eWxlcyA9IGNoYWluJDEoc2V0U3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAncGFkZGluZ1JpZ2h0JywgYCR7d2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh9cHhgKSk7XG4gICAgLy8gU2Nyb2xsIHRvIHRoZSB0b3AuIFRoZSBuZWdhdGl2ZSBtYXJnaW4gb24gdGhlIGJvZHkgd2lsbCBtYWtlIHRoaXMgYXBwZWFyIHRoZSBzYW1lLlxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICBsZXQgcmVtb3ZlRXZlbnRzID0gY2hhaW4kMShhZGRFdmVudChkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQsIHtcbiAgICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9KSwgYWRkRXZlbnQoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0pLCBhZGRFdmVudChkb2N1bWVudCwgJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCwge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0pLCBhZGRFdmVudChkb2N1bWVudCwgJ2ZvY3VzJywgb25Gb2N1cywgdHJ1ZSksIGFkZEV2ZW50KHdpbmRvdywgJ3Njcm9sbCcsIG9uV2luZG93U2Nyb2xsKSk7XG4gICAgcmV0dXJuICgpPT57XG4gICAgICAgIC8vIFJlc3RvcmUgc3R5bGVzIGFuZCBzY3JvbGwgdGhlIHBhZ2UgYmFjayB0byB3aGVyZSBpdCB3YXMuXG4gICAgICAgIHJlc3RvcmVTdHlsZXMoKTtcbiAgICAgICAgcmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxYLCBzY3JvbGxZKTtcbiAgICB9O1xufVxuLy8gU2V0cyBhIENTUyBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50LCBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHJldmVydCBpdCB0byB0aGUgcHJldmlvdXMgdmFsdWUuXG5mdW5jdGlvbiBzZXRTdHlsZShlbGVtZW50LCBzdHlsZSwgdmFsdWUpIHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzE3ODI3I2lzc3VlY29tbWVudC0zOTE2NjMzMTBcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IGN1ciA9IGVsZW1lbnQuc3R5bGVbc3R5bGVdO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBlbGVtZW50LnN0eWxlW3N0eWxlXSA9IHZhbHVlO1xuICAgIHJldHVybiAoKT0+e1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGVsZW1lbnQuc3R5bGVbc3R5bGVdID0gY3VyO1xuICAgIH07XG59XG4vLyBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGFuIGVsZW1lbnQsIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdG8gcmVtb3ZlIGl0LlxuZnVuY3Rpb24gYWRkRXZlbnQodGFyZ2V0LCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpPT57XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzY3JvbGxJbnRvVmlldyh0YXJnZXQpIHtcbiAgICBsZXQgcm9vdCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHdoaWxlKHRhcmdldCAmJiB0YXJnZXQgIT09IHJvb3Qpe1xuICAgICAgICAvLyBGaW5kIHRoZSBwYXJlbnQgc2Nyb2xsYWJsZSBlbGVtZW50IGFuZCBhZGp1c3QgdGhlIHNjcm9sbCBwb3NpdGlvbiBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBhbHJlYWR5IGluIHZpZXcuXG4gICAgICAgIGxldCBzY3JvbGxhYmxlID0gZ2V0U2Nyb2xsUGFyZW50KHRhcmdldCk7XG4gICAgICAgIGlmIChzY3JvbGxhYmxlICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgc2Nyb2xsYWJsZSAhPT0gZG9jdW1lbnQuYm9keSAmJiBzY3JvbGxhYmxlICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIGxldCBzY3JvbGxhYmxlVG9wID0gc2Nyb2xsYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0VG9wID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgICAgIGxldCB0YXJnZXRCb3R0b20gPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuICAgICAgICAgICAgLy8gQnVmZmVyIGlzIG5lZWRlZCBmb3Igc29tZSBlZGdlIGNhc2VzXG4gICAgICAgICAgICBjb25zdCBrZXlib2FyZEhlaWdodCA9IHNjcm9sbGFibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tICsgS0VZQk9BUkRfQlVGRkVSO1xuICAgICAgICAgICAgaWYgKHRhcmdldEJvdHRvbSA+IGtleWJvYXJkSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsYWJsZS5zY3JvbGxUb3AgKz0gdGFyZ2V0VG9wIC0gc2Nyb2xsYWJsZVRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRhcmdldCA9IHNjcm9sbGFibGUucGFyZW50RWxlbWVudDtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0lucHV0KHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmICFub25UZXh0SW5wdXRUeXBlcy5oYXModGFyZ2V0LnR5cGUpIHx8IHRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQgfHwgdGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlO1xufVxuXG4vLyBUaGlzIGNvZGUgY29tZXMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcmFkaXgtdWkvcHJpbWl0aXZlcy90cmVlL21haW4vcGFja2FnZXMvcmVhY3QvY29tcG9zZS1yZWZzXG4vKipcbiAqIFNldCBhIGdpdmVuIHJlZiB0byBhIGdpdmVuIHZhbHVlXG4gKiBUaGlzIHV0aWxpdHkgdGFrZXMgY2FyZSBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgcmVmczogY2FsbGJhY2sgcmVmcyBhbmQgUmVmT2JqZWN0KHMpXG4gKi8gZnVuY3Rpb24gc2V0UmVmKHJlZiwgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZWYodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocmVmICE9PSBudWxsICYmIHJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBBIHV0aWxpdHkgdG8gY29tcG9zZSBtdWx0aXBsZSByZWZzIHRvZ2V0aGVyXG4gKiBBY2NlcHRzIGNhbGxiYWNrIHJlZnMgYW5kIFJlZk9iamVjdChzKVxuICovIGZ1bmN0aW9uIGNvbXBvc2VSZWZzKC4uLnJlZnMpIHtcbiAgICByZXR1cm4gKG5vZGUpPT5yZWZzLmZvckVhY2goKHJlZik9PnNldFJlZihyZWYsIG5vZGUpKTtcbn1cbi8qKlxuICogQSBjdXN0b20gaG9vayB0aGF0IGNvbXBvc2VzIG11bHRpcGxlIHJlZnNcbiAqIEFjY2VwdHMgY2FsbGJhY2sgcmVmcyBhbmQgUmVmT2JqZWN0KHMpXG4gKi8gZnVuY3Rpb24gdXNlQ29tcG9zZWRSZWZzKC4uLnJlZnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKGNvbXBvc2VSZWZzKC4uLnJlZnMpLCByZWZzKTtcbn1cblxuY29uc3QgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gc2V0KGVsLCBzdHlsZXMsIGlnbm9yZUNhY2hlID0gZmFsc2UpIHtcbiAgICBpZiAoIWVsIHx8ICEoZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcbiAgICBsZXQgb3JpZ2luYWxTdHlsZXMgPSB7fTtcbiAgICBPYmplY3QuZW50cmllcyhzdHlsZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSk9PntcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcmlnaW5hbFN0eWxlc1trZXldID0gZWwuc3R5bGVba2V5XTtcbiAgICAgICAgZWwuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIGlmIChpZ25vcmVDYWNoZSkgcmV0dXJuO1xuICAgIGNhY2hlLnNldChlbCwgb3JpZ2luYWxTdHlsZXMpO1xufVxuZnVuY3Rpb24gcmVzZXQoZWwsIHByb3ApIHtcbiAgICBpZiAoIWVsIHx8ICEoZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcbiAgICBsZXQgb3JpZ2luYWxTdHlsZXMgPSBjYWNoZS5nZXQoZWwpO1xuICAgIGlmICghb3JpZ2luYWxTdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGVsLnN0eWxlW3Byb3BdID0gb3JpZ2luYWxTdHlsZXNbcHJvcF07XG4gICAgfVxufVxuY29uc3QgaXNWZXJ0aWNhbCA9IChkaXJlY3Rpb24pPT57XG4gICAgc3dpdGNoKGRpcmVjdGlvbil7XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb247XG4gICAgfVxufTtcbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZShlbGVtZW50LCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gLy8gQHRzLWlnbm9yZVxuICAgIHN0eWxlLnRyYW5zZm9ybSB8fCBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gfHwgc3R5bGUubW96VHJhbnNmb3JtO1xuICAgIGxldCBtYXQgPSB0cmFuc2Zvcm0ubWF0Y2goL15tYXRyaXgzZFxcKCguKylcXCkkLyk7XG4gICAgaWYgKG1hdCkge1xuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdHJhbnNmb3JtLWZ1bmN0aW9uL21hdHJpeDNkXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KG1hdFsxXS5zcGxpdCgnLCAnKVtpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyAxMyA6IDEyXSk7XG4gICAgfVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90cmFuc2Zvcm0tZnVuY3Rpb24vbWF0cml4XG4gICAgbWF0ID0gdHJhbnNmb3JtLm1hdGNoKC9ebWF0cml4XFwoKC4rKVxcKSQvKTtcbiAgICByZXR1cm4gbWF0ID8gcGFyc2VGbG9hdChtYXRbMV0uc3BsaXQoJywgJylbaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gNSA6IDRdKSA6IG51bGw7XG59XG5mdW5jdGlvbiBkYW1wZW5WYWx1ZSh2KSB7XG4gICAgcmV0dXJuIDggKiAoTWF0aC5sb2codiArIDEpIC0gMik7XG59XG5mdW5jdGlvbiBhc3NpZ25TdHlsZShlbGVtZW50LCBzdHlsZSkge1xuICAgIGlmICghZWxlbWVudCkgcmV0dXJuICgpPT57fTtcbiAgICBjb25zdCBwcmV2U3R5bGUgPSBlbGVtZW50LnN0eWxlLmNzc1RleHQ7XG4gICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgcmV0dXJuICgpPT57XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IHByZXZTdHlsZTtcbiAgICB9O1xufVxuLyoqXG4gKiBSZWNlaXZlcyBmdW5jdGlvbnMgYXMgYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgYWxsLlxuICovIGZ1bmN0aW9uIGNoYWluKC4uLmZucykge1xuICAgIHJldHVybiAoLi4uYXJncyk9PntcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiBmbnMpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBmbiguLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IFRSQU5TSVRJT05TID0ge1xuICAgIERVUkFUSU9OOiAwLjUsXG4gICAgRUFTRTogW1xuICAgICAgICAwLjMyLFxuICAgICAgICAwLjcyLFxuICAgICAgICAwLFxuICAgICAgICAxXG4gICAgXVxufTtcbmNvbnN0IFZFTE9DSVRZX1RIUkVTSE9MRCA9IDAuNDtcbmNvbnN0IENMT1NFX1RIUkVTSE9MRCA9IDAuMjU7XG5jb25zdCBTQ1JPTExfTE9DS19USU1FT1VUID0gMTAwO1xuY29uc3QgQk9SREVSX1JBRElVUyA9IDg7XG5jb25zdCBORVNURURfRElTUExBQ0VNRU5UID0gMTY7XG5jb25zdCBXSU5ET1dfVE9QX09GRlNFVCA9IDI2O1xuY29uc3QgRFJBR19DTEFTUyA9ICd2YXVsLWRyYWdnaW5nJztcblxuLy8gVGhpcyBjb2RlIGNvbWVzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3JhZGl4LXVpL3ByaW1pdGl2ZXMvYmxvYi9tYWluL3BhY2thZ2VzL3JlYWN0L3VzZS1jb250cm9sbGFibGUtc3RhdGUvc3JjL3VzZUNvbnRyb2xsYWJsZVN0YXRlLnRzeFxuZnVuY3Rpb24gdXNlQ2FsbGJhY2tSZWYoY2FsbGJhY2spIHtcbiAgICBjb25zdCBjYWxsYmFja1JlZiA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihjYWxsYmFjayk7XG4gICAgUmVhY3RfX2RlZmF1bHQudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGNhbGxiYWNrUmVmLmN1cnJlbnQgPSBjYWxsYmFjaztcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE5MjQwXG4gICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LnVzZU1lbW8oKCk9PiguLi5hcmdzKT0+Y2FsbGJhY2tSZWYuY3VycmVudCA9PSBudWxsID8gdm9pZCAwIDogY2FsbGJhY2tSZWYuY3VycmVudC5jYWxsKGNhbGxiYWNrUmVmLCAuLi5hcmdzKSwgW10pO1xufVxuZnVuY3Rpb24gdXNlVW5jb250cm9sbGVkU3RhdGUoeyBkZWZhdWx0UHJvcCwgb25DaGFuZ2UgfSkge1xuICAgIGNvbnN0IHVuY29udHJvbGxlZFN0YXRlID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoZGVmYXVsdFByb3ApO1xuICAgIGNvbnN0IFt2YWx1ZV0gPSB1bmNvbnRyb2xsZWRTdGF0ZTtcbiAgICBjb25zdCBwcmV2VmFsdWVSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYodmFsdWUpO1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrUmVmKG9uQ2hhbmdlKTtcbiAgICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgaWYgKHByZXZWYWx1ZVJlZi5jdXJyZW50ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgIHByZXZWYWx1ZVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwcmV2VmFsdWVSZWYsXG4gICAgICAgIGhhbmRsZUNoYW5nZVxuICAgIF0pO1xuICAgIHJldHVybiB1bmNvbnRyb2xsZWRTdGF0ZTtcbn1cbmZ1bmN0aW9uIHVzZUNvbnRyb2xsYWJsZVN0YXRlKHsgcHJvcCwgZGVmYXVsdFByb3AsIG9uQ2hhbmdlID0gKCk9Pnt9IH0pIHtcbiAgICBjb25zdCBbdW5jb250cm9sbGVkUHJvcCwgc2V0VW5jb250cm9sbGVkUHJvcF0gPSB1c2VVbmNvbnRyb2xsZWRTdGF0ZSh7XG4gICAgICAgIGRlZmF1bHRQcm9wLFxuICAgICAgICBvbkNoYW5nZVxuICAgIH0pO1xuICAgIGNvbnN0IGlzQ29udHJvbGxlZCA9IHByb3AgIT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCB2YWx1ZSA9IGlzQ29udHJvbGxlZCA/IHByb3AgOiB1bmNvbnRyb2xsZWRQcm9wO1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrUmVmKG9uQ2hhbmdlKTtcbiAgICBjb25zdCBzZXRWYWx1ZSA9IFJlYWN0X19kZWZhdWx0LnVzZUNhbGxiYWNrKChuZXh0VmFsdWUpPT57XG4gICAgICAgIGlmIChpc0NvbnRyb2xsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldHRlciA9IG5leHRWYWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIG5leHRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHNldHRlcihwcm9wKSA6IG5leHRWYWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gcHJvcCkgaGFuZGxlQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFVuY29udHJvbGxlZFByb3AobmV4dFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgaXNDb250cm9sbGVkLFxuICAgICAgICBwcm9wLFxuICAgICAgICBzZXRVbmNvbnRyb2xsZWRQcm9wLFxuICAgICAgICBoYW5kbGVDaGFuZ2VcbiAgICBdKTtcbiAgICByZXR1cm4gW1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgc2V0VmFsdWVcbiAgICBdO1xufVxuXG5mdW5jdGlvbiB1c2VTbmFwUG9pbnRzKHsgYWN0aXZlU25hcFBvaW50UHJvcCwgc2V0QWN0aXZlU25hcFBvaW50UHJvcCwgc25hcFBvaW50cywgZHJhd2VyUmVmLCBvdmVybGF5UmVmLCBmYWRlRnJvbUluZGV4LCBvblNuYXBQb2ludENoYW5nZSwgZGlyZWN0aW9uID0gJ2JvdHRvbScsIGNvbnRhaW5lciwgc25hcFRvU2VxdWVudGlhbFBvaW50IH0pIHtcbiAgICBjb25zdCBbYWN0aXZlU25hcFBvaW50LCBzZXRBY3RpdmVTbmFwUG9pbnRdID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgICAgICBwcm9wOiBhY3RpdmVTbmFwUG9pbnRQcm9wLFxuICAgICAgICBkZWZhdWx0UHJvcDogc25hcFBvaW50cyA9PSBudWxsID8gdm9pZCAwIDogc25hcFBvaW50c1swXSxcbiAgICAgICAgb25DaGFuZ2U6IHNldEFjdGl2ZVNuYXBQb2ludFByb3BcbiAgICB9KTtcbiAgICBjb25zdCBbd2luZG93RGltZW5zaW9ucywgc2V0V2luZG93RGltZW5zaW9uc10gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHtcbiAgICAgICAgaW5uZXJXaWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIGlubmVySGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB9IDogdW5kZWZpbmVkKTtcbiAgICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICAgICAgICBzZXRXaW5kb3dEaW1lbnNpb25zKHtcbiAgICAgICAgICAgICAgICBpbm5lcldpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICBpbm5lckhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuICAgICAgICByZXR1cm4gKCk9PndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGlzTGFzdFNuYXBQb2ludCA9IFJlYWN0X19kZWZhdWx0LnVzZU1lbW8oKCk9PmFjdGl2ZVNuYXBQb2ludCA9PT0gKHNuYXBQb2ludHMgPT0gbnVsbCA/IHZvaWQgMCA6IHNuYXBQb2ludHNbc25hcFBvaW50cy5sZW5ndGggLSAxXSkgfHwgbnVsbCwgW1xuICAgICAgICBzbmFwUG9pbnRzLFxuICAgICAgICBhY3RpdmVTbmFwUG9pbnRcbiAgICBdKTtcbiAgICBjb25zdCBhY3RpdmVTbmFwUG9pbnRJbmRleCA9IFJlYWN0X19kZWZhdWx0LnVzZU1lbW8oKCk9PntcbiAgICAgICAgdmFyIF9zbmFwUG9pbnRzX2ZpbmRJbmRleDtcbiAgICAgICAgcmV0dXJuIChfc25hcFBvaW50c19maW5kSW5kZXggPSBzbmFwUG9pbnRzID09IG51bGwgPyB2b2lkIDAgOiBzbmFwUG9pbnRzLmZpbmRJbmRleCgoc25hcFBvaW50KT0+c25hcFBvaW50ID09PSBhY3RpdmVTbmFwUG9pbnQpKSAhPSBudWxsID8gX3NuYXBQb2ludHNfZmluZEluZGV4IDogbnVsbDtcbiAgICB9LCBbXG4gICAgICAgIHNuYXBQb2ludHMsXG4gICAgICAgIGFjdGl2ZVNuYXBQb2ludFxuICAgIF0pO1xuICAgIGNvbnN0IHNob3VsZEZhZGUgPSBzbmFwUG9pbnRzICYmIHNuYXBQb2ludHMubGVuZ3RoID4gMCAmJiAoZmFkZUZyb21JbmRleCB8fCBmYWRlRnJvbUluZGV4ID09PSAwKSAmJiAhTnVtYmVyLmlzTmFOKGZhZGVGcm9tSW5kZXgpICYmIHNuYXBQb2ludHNbZmFkZUZyb21JbmRleF0gPT09IGFjdGl2ZVNuYXBQb2ludCB8fCAhc25hcFBvaW50cztcbiAgICBjb25zdCBzbmFwUG9pbnRzT2Zmc2V0ID0gUmVhY3RfX2RlZmF1bHQudXNlTWVtbygoKT0+e1xuICAgICAgICBjb25zdCBjb250YWluZXJTaXplID0gY29udGFpbmVyID8ge1xuICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgICB9IDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB7XG4gICAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9zbmFwUG9pbnRzX21hcDtcbiAgICAgICAgcmV0dXJuIChfc25hcFBvaW50c19tYXAgPSBzbmFwUG9pbnRzID09IG51bGwgPyB2b2lkIDAgOiBzbmFwUG9pbnRzLm1hcCgoc25hcFBvaW50KT0+e1xuICAgICAgICAgICAgY29uc3QgaXNQeCA9IHR5cGVvZiBzbmFwUG9pbnQgPT09ICdzdHJpbmcnO1xuICAgICAgICAgICAgbGV0IHNuYXBQb2ludEFzTnVtYmVyID0gMDtcbiAgICAgICAgICAgIGlmIChpc1B4KSB7XG4gICAgICAgICAgICAgICAgc25hcFBvaW50QXNOdW1iZXIgPSBwYXJzZUludChzbmFwUG9pbnQsIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKGRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBpc1B4ID8gc25hcFBvaW50QXNOdW1iZXIgOiB3aW5kb3dEaW1lbnNpb25zID8gc25hcFBvaW50ICogY29udGFpbmVyU2l6ZS5oZWlnaHQgOiAwO1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3dEaW1lbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb24gPT09ICdib3R0b20nID8gY29udGFpbmVyU2l6ZS5oZWlnaHQgLSBoZWlnaHQgOiAtY29udGFpbmVyU2l6ZS5oZWlnaHQgKyBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGlzUHggPyBzbmFwUG9pbnRBc051bWJlciA6IHdpbmRvd0RpbWVuc2lvbnMgPyBzbmFwUG9pbnQgKiBjb250YWluZXJTaXplLndpZHRoIDogMDtcbiAgICAgICAgICAgIGlmICh3aW5kb3dEaW1lbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IGNvbnRhaW5lclNpemUud2lkdGggLSB3aWR0aCA6IC1jb250YWluZXJTaXplLndpZHRoICsgd2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgICAgIH0pKSAhPSBudWxsID8gX3NuYXBQb2ludHNfbWFwIDogW107XG4gICAgfSwgW1xuICAgICAgICBzbmFwUG9pbnRzLFxuICAgICAgICB3aW5kb3dEaW1lbnNpb25zLFxuICAgICAgICBjb250YWluZXJcbiAgICBdKTtcbiAgICBjb25zdCBhY3RpdmVTbmFwUG9pbnRPZmZzZXQgPSBSZWFjdF9fZGVmYXVsdC51c2VNZW1vKCgpPT5hY3RpdmVTbmFwUG9pbnRJbmRleCAhPT0gbnVsbCA/IHNuYXBQb2ludHNPZmZzZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHNuYXBQb2ludHNPZmZzZXRbYWN0aXZlU25hcFBvaW50SW5kZXhdIDogbnVsbCwgW1xuICAgICAgICBzbmFwUG9pbnRzT2Zmc2V0LFxuICAgICAgICBhY3RpdmVTbmFwUG9pbnRJbmRleFxuICAgIF0pO1xuICAgIGNvbnN0IHNuYXBUb1BvaW50ID0gUmVhY3RfX2RlZmF1bHQudXNlQ2FsbGJhY2soKGRpbWVuc2lvbik9PntcbiAgICAgICAgdmFyIF9zbmFwUG9pbnRzT2Zmc2V0X2ZpbmRJbmRleDtcbiAgICAgICAgY29uc3QgbmV3U25hcFBvaW50SW5kZXggPSAoX3NuYXBQb2ludHNPZmZzZXRfZmluZEluZGV4ID0gc25hcFBvaW50c09mZnNldCA9PSBudWxsID8gdm9pZCAwIDogc25hcFBvaW50c09mZnNldC5maW5kSW5kZXgoKHNuYXBQb2ludERpbSk9PnNuYXBQb2ludERpbSA9PT0gZGltZW5zaW9uKSkgIT0gbnVsbCA/IF9zbmFwUG9pbnRzT2Zmc2V0X2ZpbmRJbmRleCA6IG51bGw7XG4gICAgICAgIG9uU25hcFBvaW50Q2hhbmdlKG5ld1NuYXBQb2ludEluZGV4KTtcbiAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBgdHJhbnNmb3JtICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gYHRyYW5zbGF0ZTNkKDAsICR7ZGltZW5zaW9ufXB4LCAwKWAgOiBgdHJhbnNsYXRlM2QoJHtkaW1lbnNpb259cHgsIDAsIDApYFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNuYXBQb2ludHNPZmZzZXQgJiYgbmV3U25hcFBvaW50SW5kZXggIT09IHNuYXBQb2ludHNPZmZzZXQubGVuZ3RoIC0gMSAmJiBmYWRlRnJvbUluZGV4ICE9PSB1bmRlZmluZWQgJiYgbmV3U25hcFBvaW50SW5kZXggIT09IGZhZGVGcm9tSW5kZXggJiYgbmV3U25hcFBvaW50SW5kZXggPCBmYWRlRnJvbUluZGV4KSB7XG4gICAgICAgICAgICBzZXQob3ZlcmxheVJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYG9wYWNpdHkgJHtUUkFOU0lUSU9OUy5EVVJBVElPTn1zIGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcwJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXQob3ZlcmxheVJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYG9wYWNpdHkgJHtUUkFOU0lUSU9OUy5EVVJBVElPTn1zIGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcxJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QWN0aXZlU25hcFBvaW50KHNuYXBQb2ludHMgPT0gbnVsbCA/IHZvaWQgMCA6IHNuYXBQb2ludHNbTWF0aC5tYXgobmV3U25hcFBvaW50SW5kZXgsIDApXSk7XG4gICAgfSwgW1xuICAgICAgICBkcmF3ZXJSZWYuY3VycmVudCxcbiAgICAgICAgc25hcFBvaW50cyxcbiAgICAgICAgc25hcFBvaW50c09mZnNldCxcbiAgICAgICAgZmFkZUZyb21JbmRleCxcbiAgICAgICAgb3ZlcmxheVJlZixcbiAgICAgICAgc2V0QWN0aXZlU25hcFBvaW50XG4gICAgXSk7XG4gICAgUmVhY3RfX2RlZmF1bHQudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmIChhY3RpdmVTbmFwUG9pbnQgfHwgYWN0aXZlU25hcFBvaW50UHJvcCkge1xuICAgICAgICAgICAgdmFyIF9zbmFwUG9pbnRzX2ZpbmRJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4ID0gKF9zbmFwUG9pbnRzX2ZpbmRJbmRleCA9IHNuYXBQb2ludHMgPT0gbnVsbCA/IHZvaWQgMCA6IHNuYXBQb2ludHMuZmluZEluZGV4KChzbmFwUG9pbnQpPT5zbmFwUG9pbnQgPT09IGFjdGl2ZVNuYXBQb2ludFByb3AgfHwgc25hcFBvaW50ID09PSBhY3RpdmVTbmFwUG9pbnQpKSAhPSBudWxsID8gX3NuYXBQb2ludHNfZmluZEluZGV4IDogLTE7XG4gICAgICAgICAgICBpZiAoc25hcFBvaW50c09mZnNldCAmJiBuZXdJbmRleCAhPT0gLTEgJiYgdHlwZW9mIHNuYXBQb2ludHNPZmZzZXRbbmV3SW5kZXhdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHNuYXBUb1BvaW50KHNuYXBQb2ludHNPZmZzZXRbbmV3SW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgYWN0aXZlU25hcFBvaW50LFxuICAgICAgICBhY3RpdmVTbmFwUG9pbnRQcm9wLFxuICAgICAgICBzbmFwUG9pbnRzLFxuICAgICAgICBzbmFwUG9pbnRzT2Zmc2V0LFxuICAgICAgICBzbmFwVG9Qb2ludFxuICAgIF0pO1xuICAgIGZ1bmN0aW9uIG9uUmVsZWFzZSh7IGRyYWdnZWREaXN0YW5jZSwgY2xvc2VEcmF3ZXIsIHZlbG9jaXR5LCBkaXNtaXNzaWJsZSB9KSB7XG4gICAgICAgIGlmIChmYWRlRnJvbUluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gZGlyZWN0aW9uID09PSAnYm90dG9tJyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCcgPyAoYWN0aXZlU25hcFBvaW50T2Zmc2V0ICE9IG51bGwgPyBhY3RpdmVTbmFwUG9pbnRPZmZzZXQgOiAwKSAtIGRyYWdnZWREaXN0YW5jZSA6IChhY3RpdmVTbmFwUG9pbnRPZmZzZXQgIT0gbnVsbCA/IGFjdGl2ZVNuYXBQb2ludE9mZnNldCA6IDApICsgZHJhZ2dlZERpc3RhbmNlO1xuICAgICAgICBjb25zdCBpc092ZXJsYXlTbmFwUG9pbnQgPSBhY3RpdmVTbmFwUG9pbnRJbmRleCA9PT0gZmFkZUZyb21JbmRleCAtIDE7XG4gICAgICAgIGNvbnN0IGlzRmlyc3QgPSBhY3RpdmVTbmFwUG9pbnRJbmRleCA9PT0gMDtcbiAgICAgICAgY29uc3QgaGFzRHJhZ2dlZFVwID0gZHJhZ2dlZERpc3RhbmNlID4gMDtcbiAgICAgICAgaWYgKGlzT3ZlcmxheVNuYXBQb2ludCkge1xuICAgICAgICAgICAgc2V0KG92ZXJsYXlSZWYuY3VycmVudCwge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzbmFwVG9TZXF1ZW50aWFsUG9pbnQgJiYgdmVsb2NpdHkgPiAyICYmICFoYXNEcmFnZ2VkVXApIHtcbiAgICAgICAgICAgIGlmIChkaXNtaXNzaWJsZSkgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIGVsc2Ugc25hcFRvUG9pbnQoc25hcFBvaW50c09mZnNldFswXSk7IC8vIHNuYXAgdG8gaW5pdGlhbCBwb2ludFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc25hcFRvU2VxdWVudGlhbFBvaW50ICYmIHZlbG9jaXR5ID4gMiAmJiBoYXNEcmFnZ2VkVXAgJiYgc25hcFBvaW50c09mZnNldCAmJiBzbmFwUG9pbnRzKSB7XG4gICAgICAgICAgICBzbmFwVG9Qb2ludChzbmFwUG9pbnRzT2Zmc2V0W3NuYXBQb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgc25hcCBwb2ludCB0byB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgICAgICBjb25zdCBjbG9zZXN0U25hcFBvaW50ID0gc25hcFBvaW50c09mZnNldCA9PSBudWxsID8gdm9pZCAwIDogc25hcFBvaW50c09mZnNldC5yZWR1Y2UoKHByZXYsIGN1cnIpPT57XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByZXYgIT09ICdudW1iZXInIHx8IHR5cGVvZiBjdXJyICE9PSAnbnVtYmVyJykgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoY3VyciAtIGN1cnJlbnRQb3NpdGlvbikgPCBNYXRoLmFicyhwcmV2IC0gY3VycmVudFBvc2l0aW9uKSA/IGN1cnIgOiBwcmV2O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZGltID0gaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gd2luZG93LmlubmVySGVpZ2h0IDogd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIGlmICh2ZWxvY2l0eSA+IFZFTE9DSVRZX1RIUkVTSE9MRCAmJiBNYXRoLmFicyhkcmFnZ2VkRGlzdGFuY2UpIDwgZGltICogMC40KSB7XG4gICAgICAgICAgICBjb25zdCBkcmFnRGlyZWN0aW9uID0gaGFzRHJhZ2dlZFVwID8gMSA6IC0xOyAvLyAxID0gdXAsIC0xID0gZG93blxuICAgICAgICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgd2Ugc3dpcGUgdXB3YXJkcyB3aGlsZSBiZWluZyBvbiB0aGUgbGFzdCBzbmFwIHBvaW50XG4gICAgICAgICAgICBpZiAoZHJhZ0RpcmVjdGlvbiA+IDAgJiYgaXNMYXN0U25hcFBvaW50ICYmIHNuYXBQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBzbmFwVG9Qb2ludChzbmFwUG9pbnRzT2Zmc2V0W3NuYXBQb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0ZpcnN0ICYmIGRyYWdEaXJlY3Rpb24gPCAwICYmIGRpc21pc3NpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3RpdmVTbmFwUG9pbnRJbmRleCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgc25hcFRvUG9pbnQoc25hcFBvaW50c09mZnNldFthY3RpdmVTbmFwUG9pbnRJbmRleCArIGRyYWdEaXJlY3Rpb25dKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzbmFwVG9Qb2ludChjbG9zZXN0U25hcFBvaW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25EcmFnKHsgZHJhZ2dlZERpc3RhbmNlIH0pIHtcbiAgICAgICAgaWYgKGFjdGl2ZVNuYXBQb2ludE9mZnNldCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgfHwgZGlyZWN0aW9uID09PSAncmlnaHQnID8gYWN0aXZlU25hcFBvaW50T2Zmc2V0IC0gZHJhZ2dlZERpc3RhbmNlIDogYWN0aXZlU25hcFBvaW50T2Zmc2V0ICsgZHJhZ2dlZERpc3RhbmNlO1xuICAgICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB3ZSBleGNlZWQgdGhlIGxhc3QoYmlnZ2VzdCkgc25hcCBwb2ludFxuICAgICAgICBpZiAoKGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgfHwgZGlyZWN0aW9uID09PSAncmlnaHQnKSAmJiBuZXdWYWx1ZSA8IHNuYXBQb2ludHNPZmZzZXRbc25hcFBvaW50c09mZnNldC5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGlyZWN0aW9uID09PSAndG9wJyB8fCBkaXJlY3Rpb24gPT09ICdsZWZ0JykgJiYgbmV3VmFsdWUgPiBzbmFwUG9pbnRzT2Zmc2V0W3NuYXBQb2ludHNPZmZzZXQubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gYHRyYW5zbGF0ZTNkKDAsICR7bmV3VmFsdWV9cHgsIDApYCA6IGB0cmFuc2xhdGUzZCgke25ld1ZhbHVlfXB4LCAwLCAwKWBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBlcmNlbnRhZ2VEcmFnZ2VkKGFic0RyYWdnZWREaXN0YW5jZSwgaXNEcmFnZ2luZ0Rvd24pIHtcbiAgICAgICAgaWYgKCFzbmFwUG9pbnRzIHx8IHR5cGVvZiBhY3RpdmVTbmFwUG9pbnRJbmRleCAhPT0gJ251bWJlcicgfHwgIXNuYXBQb2ludHNPZmZzZXQgfHwgZmFkZUZyb21JbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyB0cnVlIHdlIGFyZSBkcmFnZ2luZyB0byBhIHNuYXAgcG9pbnQgdGhhdCBpcyBzdXBwb3NlZCB0byBoYXZlIGFuIG92ZXJsYXlcbiAgICAgICAgY29uc3QgaXNPdmVybGF5U25hcFBvaW50ID0gYWN0aXZlU25hcFBvaW50SW5kZXggPT09IGZhZGVGcm9tSW5kZXggLSAxO1xuICAgICAgICBjb25zdCBpc092ZXJsYXlTbmFwUG9pbnRPckhpZ2hlciA9IGFjdGl2ZVNuYXBQb2ludEluZGV4ID49IGZhZGVGcm9tSW5kZXg7XG4gICAgICAgIGlmIChpc092ZXJsYXlTbmFwUG9pbnRPckhpZ2hlciAmJiBpc0RyYWdnaW5nRG93bikge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG9uJ3QgYW5pbWF0ZSwgYnV0IHN0aWxsIHVzZSB0aGlzIG9uZSBpZiB3ZSBhcmUgZHJhZ2dpbmcgYXdheSBmcm9tIHRoZSBvdmVybGF5U25hcFBvaW50XG4gICAgICAgIGlmIChpc092ZXJsYXlTbmFwUG9pbnQgJiYgIWlzRHJhZ2dpbmdEb3duKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKCFzaG91bGRGYWRlICYmICFpc092ZXJsYXlTbmFwUG9pbnQpIHJldHVybiBudWxsO1xuICAgICAgICAvLyBFaXRoZXIgZmFkZUZyb20gaW5kZXggb3IgdGhlIG9uZSBiZWZvcmVcbiAgICAgICAgY29uc3QgdGFyZ2V0U25hcFBvaW50SW5kZXggPSBpc092ZXJsYXlTbmFwUG9pbnQgPyBhY3RpdmVTbmFwUG9pbnRJbmRleCArIDEgOiBhY3RpdmVTbmFwUG9pbnRJbmRleCAtIDE7XG4gICAgICAgIC8vIEdldCB0aGUgZGlzdGFuY2UgZnJvbSBvdmVybGF5U25hcFBvaW50IHRvIHRoZSBvbmUgYmVmb3JlIG9yIHZpY2UtdmVyc2EgdG8gY2FsY3VsYXRlIHRoZSBvcGFjaXR5IHBlcmNlbnRhZ2UgYWNjb3JkaW5nbHlcbiAgICAgICAgY29uc3Qgc25hcFBvaW50RGlzdGFuY2UgPSBpc092ZXJsYXlTbmFwUG9pbnQgPyBzbmFwUG9pbnRzT2Zmc2V0W3RhcmdldFNuYXBQb2ludEluZGV4XSAtIHNuYXBQb2ludHNPZmZzZXRbdGFyZ2V0U25hcFBvaW50SW5kZXggLSAxXSA6IHNuYXBQb2ludHNPZmZzZXRbdGFyZ2V0U25hcFBvaW50SW5kZXggKyAxXSAtIHNuYXBQb2ludHNPZmZzZXRbdGFyZ2V0U25hcFBvaW50SW5kZXhdO1xuICAgICAgICBjb25zdCBwZXJjZW50YWdlRHJhZ2dlZCA9IGFic0RyYWdnZWREaXN0YW5jZSAvIE1hdGguYWJzKHNuYXBQb2ludERpc3RhbmNlKTtcbiAgICAgICAgaWYgKGlzT3ZlcmxheVNuYXBQb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIDEgLSBwZXJjZW50YWdlRHJhZ2dlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwZXJjZW50YWdlRHJhZ2dlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBpc0xhc3RTbmFwUG9pbnQsXG4gICAgICAgIGFjdGl2ZVNuYXBQb2ludCxcbiAgICAgICAgc2hvdWxkRmFkZSxcbiAgICAgICAgZ2V0UGVyY2VudGFnZURyYWdnZWQsXG4gICAgICAgIHNldEFjdGl2ZVNuYXBQb2ludCxcbiAgICAgICAgYWN0aXZlU25hcFBvaW50SW5kZXgsXG4gICAgICAgIG9uUmVsZWFzZSxcbiAgICAgICAgb25EcmFnLFxuICAgICAgICBzbmFwUG9pbnRzT2Zmc2V0XG4gICAgfTtcbn1cblxuY29uc3Qgbm9vcCA9ICgpPT4oKT0+e307XG5mdW5jdGlvbiB1c2VTY2FsZUJhY2tncm91bmQoKSB7XG4gICAgY29uc3QgeyBkaXJlY3Rpb24sIGlzT3Blbiwgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kLCBzZXRCYWNrZ3JvdW5kQ29sb3JPblNjYWxlLCBub0JvZHlTdHlsZXMgfSA9IHVzZURyYXdlckNvbnRleHQoKTtcbiAgICBjb25zdCB0aW1lb3V0SWRSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgaW5pdGlhbEJhY2tncm91bmRDb2xvciA9IHVzZU1lbW8oKCk9PmRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yLCBbXSk7XG4gICAgZnVuY3Rpb24gZ2V0U2NhbGUoKSB7XG4gICAgICAgIHJldHVybiAod2luZG93LmlubmVyV2lkdGggLSBXSU5ET1dfVE9QX09GRlNFVCkgLyB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB9XG4gICAgUmVhY3RfX2RlZmF1bHQudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmIChpc09wZW4gJiYgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICBpZiAodGltZW91dElkUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dCh0aW1lb3V0SWRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdmF1bC1kcmF3ZXItd3JhcHBlcl0nKSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbdmF1bC1kcmF3ZXItd3JhcHBlcl0nKTtcbiAgICAgICAgICAgIGlmICghd3JhcHBlcikgcmV0dXJuO1xuICAgICAgICAgICAgY2hhaW4oc2V0QmFja2dyb3VuZENvbG9yT25TY2FsZSAmJiAhbm9Cb2R5U3R5bGVzID8gYXNzaWduU3R5bGUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdibGFjaydcbiAgICAgICAgICAgIH0pIDogbm9vcCwgYXNzaWduU3R5bGUod3JhcHBlciwge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gJ3RvcCcgOiAnbGVmdCcsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiAndHJhbnNmb3JtLCBib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IGAke1RSQU5TSVRJT05TLkRVUkFUSU9OfXNgLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogYGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyU3R5bGVzQ2xlYW51cCA9IGFzc2lnblN0eWxlKHdyYXBwZXIsIHtcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IGAke0JPUkRFUl9SQURJVVN9cHhgLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAuLi5pc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7Z2V0U2NhbGUoKX0pIHRyYW5zbGF0ZTNkKDAsIGNhbGMoZW52KHNhZmUtYXJlYS1pbnNldC10b3ApICsgMTRweCksIDApYFxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7Z2V0U2NhbGUoKX0pIHRyYW5zbGF0ZTNkKGNhbGMoZW52KHNhZmUtYXJlYS1pbnNldC10b3ApICsgMTRweCksIDAsIDApYFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICAgICAgd3JhcHBlclN0eWxlc0NsZWFudXAoKTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0SWRSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsQmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBpbml0aWFsQmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgVFJBTlNJVElPTlMuRFVSQVRJT04gKiAxMDAwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIGlzT3BlbixcbiAgICAgICAgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kLFxuICAgICAgICBpbml0aWFsQmFja2dyb3VuZENvbG9yXG4gICAgXSk7XG59XG5cbmxldCBwcmV2aW91c0JvZHlQb3NpdGlvbiA9IG51bGw7XG4vKipcbiAqIFRoaXMgaG9vayBpcyBuZWNlc3NhcnkgdG8gcHJldmVudCBidWdneSBiZWhhdmlvciBvbiBpT1MgZGV2aWNlcyAobmVlZCB0byB0ZXN0IG9uIEFuZHJvaWQpLlxuICogSSB3b24ndCBnZXQgaW50byB0b28gbXVjaCBkZXRhaWwgYWJvdXQgd2hhdCBidWdzIGl0IHNvbHZlcywgYnV0IHNvIGZhciBJJ3ZlIGZvdW5kIHRoYXQgc2V0dGluZyB0aGUgYm9keSB0byBgcG9zaXRpb246IGZpeGVkYCBpcyB0aGUgbW9zdCByZWxpYWJsZSB3YXkgdG8gcHJldmVudCB0aG9zZSBidWdzLlxuICogSXNzdWVzIHRoYXQgdGhpcyBob29rIHNvbHZlczpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9lbWlsa293YWxza2kvdmF1bC9pc3N1ZXMvNDM1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZW1pbGtvd2Fsc2tpL3ZhdWwvaXNzdWVzLzQzM1xuICogQW5kIG1vcmUgdGhhdCBJIGRpc2NvdmVyZWQsIGJ1dCB3ZXJlIGp1c3Qgbm90IHJlcG9ydGVkLlxuICovIGZ1bmN0aW9uIHVzZVBvc2l0aW9uRml4ZWQoeyBpc09wZW4sIG1vZGFsLCBuZXN0ZWQsIGhhc0JlZW5PcGVuZWQsIHByZXZlbnRTY3JvbGxSZXN0b3JhdGlvbiwgbm9Cb2R5U3R5bGVzIH0pIHtcbiAgICBjb25zdCBbYWN0aXZlVXJsLCBzZXRBY3RpdmVVcmxdID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoKCk9PnR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiAnJyk7XG4gICAgY29uc3Qgc2Nyb2xsUG9zID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKDApO1xuICAgIGNvbnN0IHNldFBvc2l0aW9uRml4ZWQgPSBSZWFjdF9fZGVmYXVsdC51c2VDYWxsYmFjaygoKT0+e1xuICAgICAgICAvLyBBbGwgYnJvd3NlcnMgb24gaU9TIHdpbGwgcmV0dXJuIHRydWUgaGVyZS5cbiAgICAgICAgaWYgKCFpc1NhZmFyaSgpKSByZXR1cm47XG4gICAgICAgIC8vIElmIHByZXZpb3VzQm9keVBvc2l0aW9uIGlzIGFscmVhZHkgc2V0LCBkb24ndCBzZXQgaXQgYWdhaW4uXG4gICAgICAgIGlmIChwcmV2aW91c0JvZHlQb3NpdGlvbiA9PT0gbnVsbCAmJiBpc09wZW4gJiYgIW5vQm9keVN0eWxlcykge1xuICAgICAgICAgICAgcHJldmlvdXNCb2R5UG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgdG9wOiBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCxcbiAgICAgICAgICAgICAgICByaWdodDogJ3Vuc2V0J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZG9tIGluc2lkZSBhbiBhbmltYXRpb24gZnJhbWVcbiAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsWCwgaW5uZXJIZWlnaHQgfSA9IHdpbmRvdztcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ2ZpeGVkJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihkb2N1bWVudC5ib2R5LnN0eWxlLCB7XG4gICAgICAgICAgICAgICAgdG9wOiBgJHstc2Nyb2xsUG9zLmN1cnJlbnR9cHhgLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGAkey1zY3JvbGxYfXB4YCxcbiAgICAgICAgICAgICAgICByaWdodDogJzBweCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCk9PndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBjaGVjayBpZiB0aGUgYm90dG9tIGJhciBhcHBlYXJlZCBkdWUgdG8gdGhlIHBvc2l0aW9uIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3R0b21CYXJIZWlnaHQgPSBpbm5lckhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdHRvbUJhckhlaWdodCAmJiBzY3JvbGxQb3MuY3VycmVudCA+PSBpbm5lckhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgY29udGVudCBmdXJ0aGVyIHVwIHNvIHRoYXQgdGhlIGJvdHRvbSBiYXIgZG9lc24ndCBoaWRlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IGAkey0oc2Nyb2xsUG9zLmN1cnJlbnQgKyBib3R0b21CYXJIZWlnaHQpfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLCAzMDApO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBpc09wZW5cbiAgICBdKTtcbiAgICBjb25zdCByZXN0b3JlUG9zaXRpb25TZXR0aW5nID0gUmVhY3RfX2RlZmF1bHQudXNlQ2FsbGJhY2soKCk9PntcbiAgICAgICAgLy8gQWxsIGJyb3dzZXJzIG9uIGlPUyB3aWxsIHJldHVybiB0cnVlIGhlcmUuXG4gICAgICAgIGlmICghaXNTYWZhcmkoKSkgcmV0dXJuO1xuICAgICAgICBpZiAocHJldmlvdXNCb2R5UG9zaXRpb24gIT09IG51bGwgJiYgIW5vQm9keVN0eWxlcykge1xuICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgcG9zaXRpb24gZnJvbSBcInB4XCIgdG8gSW50XG4gICAgICAgICAgICBjb25zdCB5ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUudG9wLCAxMCk7XG4gICAgICAgICAgICBjb25zdCB4ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCwgMTApO1xuICAgICAgICAgICAgLy8gUmVzdG9yZSBzdHlsZXNcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuYm9keS5zdHlsZSwgcHJldmlvdXNCb2R5UG9zaXRpb24pO1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmIChwcmV2ZW50U2Nyb2xsUmVzdG9yYXRpb24gJiYgYWN0aXZlVXJsICE9PSB3aW5kb3cubG9jYXRpb24uaHJlZikge1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVVcmwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldmlvdXNCb2R5UG9zaXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBhY3RpdmVVcmxcbiAgICBdKTtcbiAgICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgICAgICAgICBzY3JvbGxQb3MuY3VycmVudCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICB9XG4gICAgICAgIG9uU2Nyb2xsKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3RfX2RlZmF1bHQudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgICAgICAgICAgLy8gQW5vdGhlciBkcmF3ZXIgaXMgb3BlbmVkLCBzYWZlIHRvIGlnbm9yZSB0aGUgZXhlY3V0aW9uXG4gICAgICAgICAgICBjb25zdCBoYXNEcmF3ZXJPcGVuZWQgPSAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXZhdWwtZHJhd2VyXScpO1xuICAgICAgICAgICAgaWYgKGhhc0RyYXdlck9wZW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgcmVzdG9yZVBvc2l0aW9uU2V0dGluZygpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgbW9kYWwsXG4gICAgICAgIHJlc3RvcmVQb3NpdGlvblNldHRpbmdcbiAgICBdKTtcbiAgICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgaWYgKG5lc3RlZCB8fCAhaGFzQmVlbk9wZW5lZCkgcmV0dXJuO1xuICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCB0byBmb3JjZSBTYWZhcmkgdG9vbGJhciB0byBzaG93ICoqYmVmb3JlKiogdGhlIGRyYXdlciBzdGFydHMgYW5pbWF0aW5nIHRvIHByZXZlbnQgYSBnbmFybHkgc2hpZnQgZnJvbSBoYXBwZW5pbmdcbiAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgLy8gYXZvaWQgZm9yIHN0YW5kYWxvbmUgbW9kZSAoUFdBKVxuICAgICAgICAgICAgY29uc3QgaXNTdGFuZGFsb25lID0gd2luZG93Lm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJykubWF0Y2hlcztcbiAgICAgICAgICAgICFpc1N0YW5kYWxvbmUgJiYgc2V0UG9zaXRpb25GaXhlZCgpO1xuICAgICAgICAgICAgaWYgKCFtb2RhbCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmVQb3NpdGlvblNldHRpbmcoKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdG9yZVBvc2l0aW9uU2V0dGluZygpO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBpc09wZW4sXG4gICAgICAgIGhhc0JlZW5PcGVuZWQsXG4gICAgICAgIGFjdGl2ZVVybCxcbiAgICAgICAgbW9kYWwsXG4gICAgICAgIG5lc3RlZCxcbiAgICAgICAgc2V0UG9zaXRpb25GaXhlZCxcbiAgICAgICAgcmVzdG9yZVBvc2l0aW9uU2V0dGluZ1xuICAgIF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RvcmVQb3NpdGlvblNldHRpbmdcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBSb290KHsgb3Blbjogb3BlblByb3AsIG9uT3BlbkNoYW5nZSwgY2hpbGRyZW4sIG9uRHJhZzogb25EcmFnUHJvcCwgb25SZWxlYXNlOiBvblJlbGVhc2VQcm9wLCBzbmFwUG9pbnRzLCBzaG91bGRTY2FsZUJhY2tncm91bmQgPSBmYWxzZSwgc2V0QmFja2dyb3VuZENvbG9yT25TY2FsZSA9IHRydWUsIGNsb3NlVGhyZXNob2xkID0gQ0xPU0VfVEhSRVNIT0xELCBzY3JvbGxMb2NrVGltZW91dCA9IFNDUk9MTF9MT0NLX1RJTUVPVVQsIGRpc21pc3NpYmxlID0gdHJ1ZSwgaGFuZGxlT25seSA9IGZhbHNlLCBmYWRlRnJvbUluZGV4ID0gc25hcFBvaW50cyAmJiBzbmFwUG9pbnRzLmxlbmd0aCAtIDEsIGFjdGl2ZVNuYXBQb2ludDogYWN0aXZlU25hcFBvaW50UHJvcCwgc2V0QWN0aXZlU25hcFBvaW50OiBzZXRBY3RpdmVTbmFwUG9pbnRQcm9wLCBmaXhlZCwgbW9kYWwgPSB0cnVlLCBvbkNsb3NlLCBuZXN0ZWQsIG5vQm9keVN0eWxlcyA9IGZhbHNlLCBkaXJlY3Rpb24gPSAnYm90dG9tJywgZGVmYXVsdE9wZW4gPSBmYWxzZSwgZGlzYWJsZVByZXZlbnRTY3JvbGwgPSB0cnVlLCBzbmFwVG9TZXF1ZW50aWFsUG9pbnQgPSBmYWxzZSwgcHJldmVudFNjcm9sbFJlc3RvcmF0aW9uID0gZmFsc2UsIHJlcG9zaXRpb25JbnB1dHMgPSB0cnVlLCBvbkFuaW1hdGlvbkVuZCwgY29udGFpbmVyLCBhdXRvRm9jdXMgPSBmYWxzZSB9KSB7XG4gICAgdmFyIF9kcmF3ZXJSZWZfY3VycmVudCwgX2RyYXdlclJlZl9jdXJyZW50MTtcbiAgICBjb25zdCBbaXNPcGVuID0gZmFsc2UsIHNldElzT3Blbl0gPSB1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gICAgICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0T3BlbixcbiAgICAgICAgcHJvcDogb3BlblByb3AsXG4gICAgICAgIG9uQ2hhbmdlOiAobyk9PntcbiAgICAgICAgICAgIG9uT3BlbkNoYW5nZSA9PSBudWxsID8gdm9pZCAwIDogb25PcGVuQ2hhbmdlKG8pO1xuICAgICAgICAgICAgaWYgKCFvICYmICFuZXN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXN0b3JlUG9zaXRpb25TZXR0aW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgb25BbmltYXRpb25FbmQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQW5pbWF0aW9uRW5kKG8pO1xuICAgICAgICAgICAgfSwgVFJBTlNJVElPTlMuRFVSQVRJT04gKiAxMDAwKTtcbiAgICAgICAgICAgIGlmIChvICYmICFtb2RhbCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbykge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSByZW1vdmVkIHdoZW4gdGhlIGV4aXQgYW5pbWF0aW9uIGVuZHMgKGA1MDBtc2ApXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgW2hhc0JlZW5PcGVuZWQsIHNldEhhc0JlZW5PcGVuZWRdID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbanVzdFJlbGVhc2VkLCBzZXRKdXN0UmVsZWFzZWRdID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG92ZXJsYXlSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgb3BlblRpbWUgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgZHJhZ1N0YXJ0VGltZSA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBkcmFnRW5kVGltZSA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBsYXN0VGltZURyYWdQcmV2ZW50ZWQgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgaXNBbGxvd2VkVG9EcmFnID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBuZXN0ZWRPcGVuQ2hhbmdlVGltZXIgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgcG9pbnRlclN0YXJ0ID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKDApO1xuICAgIGNvbnN0IGtleWJvYXJkSXNPcGVuID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBzaG91bGRBbmltYXRlID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKCFkZWZhdWx0T3Blbik7XG4gICAgY29uc3QgcHJldmlvdXNEaWZmRnJvbUluaXRpYWwgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYoMCk7XG4gICAgY29uc3QgZHJhd2VyUmVmID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGRyYXdlckhlaWdodFJlZiA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZigoKF9kcmF3ZXJSZWZfY3VycmVudCA9IGRyYXdlclJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2RyYXdlclJlZl9jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCkgfHwgMCk7XG4gICAgY29uc3QgZHJhd2VyV2lkdGhSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYoKChfZHJhd2VyUmVmX2N1cnJlbnQxID0gZHJhd2VyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZHJhd2VyUmVmX2N1cnJlbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSB8fCAwKTtcbiAgICBjb25zdCBpbml0aWFsRHJhd2VySGVpZ2h0ID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKDApO1xuICAgIGNvbnN0IG9uU25hcFBvaW50Q2hhbmdlID0gUmVhY3RfX2RlZmF1bHQudXNlQ2FsbGJhY2soKGFjdGl2ZVNuYXBQb2ludEluZGV4KT0+e1xuICAgICAgICAvLyBDaGFuZ2Ugb3BlblRpbWUgcmVmIHdoZW4gd2UgcmVhY2ggdGhlIGxhc3Qgc25hcCBwb2ludCB0byBwcmV2ZW50IGRyYWdnaW5nIGZvciA1MDBtcyBpbmNhc2UgaXQncyBzY3JvbGxhYmxlLlxuICAgICAgICBpZiAoc25hcFBvaW50cyAmJiBhY3RpdmVTbmFwUG9pbnRJbmRleCA9PT0gc25hcFBvaW50c09mZnNldC5sZW5ndGggLSAxKSBvcGVuVGltZS5jdXJyZW50ID0gbmV3IERhdGUoKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgeyBhY3RpdmVTbmFwUG9pbnQsIGFjdGl2ZVNuYXBQb2ludEluZGV4LCBzZXRBY3RpdmVTbmFwUG9pbnQsIG9uUmVsZWFzZTogb25SZWxlYXNlU25hcFBvaW50cywgc25hcFBvaW50c09mZnNldCwgb25EcmFnOiBvbkRyYWdTbmFwUG9pbnRzLCBzaG91bGRGYWRlLCBnZXRQZXJjZW50YWdlRHJhZ2dlZDogZ2V0U25hcFBvaW50c1BlcmNlbnRhZ2VEcmFnZ2VkIH0gPSB1c2VTbmFwUG9pbnRzKHtcbiAgICAgICAgc25hcFBvaW50cyxcbiAgICAgICAgYWN0aXZlU25hcFBvaW50UHJvcCxcbiAgICAgICAgc2V0QWN0aXZlU25hcFBvaW50UHJvcCxcbiAgICAgICAgZHJhd2VyUmVmLFxuICAgICAgICBmYWRlRnJvbUluZGV4LFxuICAgICAgICBvdmVybGF5UmVmLFxuICAgICAgICBvblNuYXBQb2ludENoYW5nZSxcbiAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHNuYXBUb1NlcXVlbnRpYWxQb2ludFxuICAgIH0pO1xuICAgIHVzZVByZXZlbnRTY3JvbGwoe1xuICAgICAgICBpc0Rpc2FibGVkOiAhaXNPcGVuIHx8IGlzRHJhZ2dpbmcgfHwgIW1vZGFsIHx8IGp1c3RSZWxlYXNlZCB8fCAhaGFzQmVlbk9wZW5lZCB8fCAhcmVwb3NpdGlvbklucHV0cyB8fCAhZGlzYWJsZVByZXZlbnRTY3JvbGxcbiAgICB9KTtcbiAgICBjb25zdCB7IHJlc3RvcmVQb3NpdGlvblNldHRpbmcgfSA9IHVzZVBvc2l0aW9uRml4ZWQoe1xuICAgICAgICBpc09wZW4sXG4gICAgICAgIG1vZGFsLFxuICAgICAgICBuZXN0ZWQ6IG5lc3RlZCAhPSBudWxsID8gbmVzdGVkIDogZmFsc2UsXG4gICAgICAgIGhhc0JlZW5PcGVuZWQsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXN0b3JhdGlvbixcbiAgICAgICAgbm9Cb2R5U3R5bGVzXG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZ2V0U2NhbGUoKSB7XG4gICAgICAgIHJldHVybiAod2luZG93LmlubmVyV2lkdGggLSBXSU5ET1dfVE9QX09GRlNFVCkgLyB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25QcmVzcyhldmVudCkge1xuICAgICAgICB2YXIgX2RyYXdlclJlZl9jdXJyZW50LCBfZHJhd2VyUmVmX2N1cnJlbnQxO1xuICAgICAgICBpZiAoIWRpc21pc3NpYmxlICYmICFzbmFwUG9pbnRzKSByZXR1cm47XG4gICAgICAgIGlmIChkcmF3ZXJSZWYuY3VycmVudCAmJiAhZHJhd2VyUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkgcmV0dXJuO1xuICAgICAgICBkcmF3ZXJIZWlnaHRSZWYuY3VycmVudCA9ICgoX2RyYXdlclJlZl9jdXJyZW50ID0gZHJhd2VyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZHJhd2VyUmVmX2N1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0KSB8fCAwO1xuICAgICAgICBkcmF3ZXJXaWR0aFJlZi5jdXJyZW50ID0gKChfZHJhd2VyUmVmX2N1cnJlbnQxID0gZHJhd2VyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZHJhd2VyUmVmX2N1cnJlbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSB8fCAwO1xuICAgICAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xuICAgICAgICBkcmFnU3RhcnRUaW1lLmN1cnJlbnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAvLyBpT1MgZG9lc24ndCB0cmlnZ2VyIG1vdXNlVXAgYWZ0ZXIgc2Nyb2xsaW5nIHNvIHdlIG5lZWQgdG8gbGlzdGVuIHRvIHRvdWNoZWQgaW4gb3JkZXIgdG8gZGlzYWxsb3cgZHJhZ2dpbmdcbiAgICAgICAgaWYgKGlzSU9TKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpPT5pc0FsbG93ZWRUb0RyYWcuY3VycmVudCA9IGZhbHNlLCB7XG4gICAgICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHdlIG1haW50YWluIGNvcnJlY3QgcG9pbnRlciBjYXB0dXJlIGV2ZW4gd2hlbiBnb2luZyBvdXRzaWRlIG9mIHRoZSBkcmF3ZXJcbiAgICAgICAgZXZlbnQudGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgIHBvaW50ZXJTdGFydC5jdXJyZW50ID0gaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gZXZlbnQucGFnZVkgOiBldmVudC5wYWdlWDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkRHJhZyhlbCwgaXNEcmFnZ2luZ0luRGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciBfd2luZG93X2dldFNlbGVjdGlvbjtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBlbDtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ZWRUZXh0ID0gKF93aW5kb3dfZ2V0U2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpKSA9PSBudWxsID8gdm9pZCAwIDogX3dpbmRvd19nZXRTZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3Qgc3dpcGVBbW91bnQgPSBkcmF3ZXJSZWYuY3VycmVudCA/IGdldFRyYW5zbGF0ZShkcmF3ZXJSZWYuY3VycmVudCwgZGlyZWN0aW9uKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAvLyBGaXhlcyBodHRwczovL2dpdGh1Yi5jb20vZW1pbGtvd2Fsc2tpL3ZhdWwvaXNzdWVzLzQ4M1xuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS12YXVsLW5vLWRyYWcnKSB8fCBlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXZhdWwtbm8tZHJhZ10nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcgfHwgZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFsbG93IHNjcm9sbGluZyB3aGVuIGFuaW1hdGluZ1xuICAgICAgICBpZiAob3BlblRpbWUuY3VycmVudCAmJiBkYXRlLmdldFRpbWUoKSAtIG9wZW5UaW1lLmN1cnJlbnQuZ2V0VGltZSgpIDwgNTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3aXBlQW1vdW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnYm90dG9tJyA/IHN3aXBlQW1vdW50ID4gMCA6IHN3aXBlQW1vdW50IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IGRyYWcgaWYgdGhlcmUncyBoaWdobGlnaHRlZCB0ZXh0XG4gICAgICAgIGlmIChoaWdobGlnaHRlZFRleHQgJiYgaGlnaGxpZ2h0ZWRUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEaXNhbGxvdyBkcmFnZ2luZyBpZiBkcmF3ZXIgd2FzIHNjcm9sbGVkIHdpdGhpbiBgc2Nyb2xsTG9ja1RpbWVvdXRgXG4gICAgICAgIGlmIChsYXN0VGltZURyYWdQcmV2ZW50ZWQuY3VycmVudCAmJiBkYXRlLmdldFRpbWUoKSAtIGxhc3RUaW1lRHJhZ1ByZXZlbnRlZC5jdXJyZW50LmdldFRpbWUoKSA8IHNjcm9sbExvY2tUaW1lb3V0ICYmIHN3aXBlQW1vdW50ID09PSAwKSB7XG4gICAgICAgICAgICBsYXN0VGltZURyYWdQcmV2ZW50ZWQuY3VycmVudCA9IGRhdGU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRHJhZ2dpbmdJbkRpcmVjdGlvbikge1xuICAgICAgICAgICAgbGFzdFRpbWVEcmFnUHJldmVudGVkLmN1cnJlbnQgPSBkYXRlO1xuICAgICAgICAgICAgLy8gV2UgYXJlIGRyYWdnaW5nIGRvd24gc28gd2Ugc2hvdWxkIGFsbG93IHNjcm9sbGluZ1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEtlZXAgY2xpbWJpbmcgdXAgdGhlIERPTSB0cmVlIGFzIGxvbmcgYXMgdGhlcmUncyBhIHBhcmVudFxuICAgICAgICB3aGlsZShlbGVtZW50KXtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGlzIHNjcm9sbGFibGVcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnNjcm9sbEhlaWdodCA+IGVsZW1lbnQuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc2Nyb2xsVG9wICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUaW1lRHJhZ1ByZXZlbnRlZC5jdXJyZW50ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgc2Nyb2xsYWJsZSBhbmQgbm90IHNjcm9sbGVkIHRvIHRoZSB0b3AsIHNvIGRvbid0IGRyYWdcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ2RpYWxvZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTW92ZSB1cCB0byB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm8gc2Nyb2xsYWJsZSBwYXJlbnRzIG5vdCBzY3JvbGxlZCB0byB0aGUgdG9wIGZvdW5kLCBzbyBkcmFnXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRyYWcoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFkcmF3ZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8ga25vdyBob3cgbXVjaCBvZiB0aGUgZHJhd2VyIGhhcyBiZWVuIGRyYWdnZWQgaW4gcGVyY2VudGFnZXMgc28gdGhhdCB3ZSBjYW4gdHJhbnNmb3JtIGJhY2tncm91bmQgYWNjb3JkaW5nbHlcbiAgICAgICAgaWYgKGlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbk11bHRpcGxpZXIgPSBkaXJlY3Rpb24gPT09ICdib3R0b20nIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IDEgOiAtMTtcbiAgICAgICAgICAgIGNvbnN0IGRyYWdnZWREaXN0YW5jZSA9IChwb2ludGVyU3RhcnQuY3VycmVudCAtIChpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBldmVudC5wYWdlWSA6IGV2ZW50LnBhZ2VYKSkgKiBkaXJlY3Rpb25NdWx0aXBsaWVyO1xuICAgICAgICAgICAgY29uc3QgaXNEcmFnZ2luZ0luRGlyZWN0aW9uID0gZHJhZ2dlZERpc3RhbmNlID4gMDtcbiAgICAgICAgICAgIC8vIFByZSBjb25kaXRpb24gZm9yIGRpc2FsbG93aW5nIGRyYWdnaW5nIGluIHRoZSBjbG9zZSBkaXJlY3Rpb24uXG4gICAgICAgICAgICBjb25zdCBub0Nsb3NlU25hcFBvaW50c1ByZUNvbmRpdGlvbiA9IHNuYXBQb2ludHMgJiYgIWRpc21pc3NpYmxlICYmICFpc0RyYWdnaW5nSW5EaXJlY3Rpb247XG4gICAgICAgICAgICAvLyBEaXNhbGxvdyBkcmFnZ2luZyBkb3duIHRvIGNsb3NlIHdoZW4gZmlyc3Qgc25hcCBwb2ludCBpcyB0aGUgYWN0aXZlIG9uZSBhbmQgZGlzbWlzc2libGUgcHJvcCBpcyBzZXQgdG8gZmFsc2UuXG4gICAgICAgICAgICBpZiAobm9DbG9zZVNuYXBQb2ludHNQcmVDb25kaXRpb24gJiYgYWN0aXZlU25hcFBvaW50SW5kZXggPT09IDApIHJldHVybjtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY2FwdHVyZSBsYXN0IHRpbWUgd2hlbiBkcmFnIHdpdGggc2Nyb2xsIHdhcyB0cmlnZ2VyZWQgYW5kIGhhdmUgYSB0aW1lb3V0IGJldHdlZW5cbiAgICAgICAgICAgIGNvbnN0IGFic0RyYWdnZWREaXN0YW5jZSA9IE1hdGguYWJzKGRyYWdnZWREaXN0YW5jZSk7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdmF1bC1kcmF3ZXItd3JhcHBlcl0nKTtcbiAgICAgICAgICAgIGNvbnN0IGRyYXdlckRpbWVuc2lvbiA9IGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgfHwgZGlyZWN0aW9uID09PSAndG9wJyA/IGRyYXdlckhlaWdodFJlZi5jdXJyZW50IDogZHJhd2VyV2lkdGhSZWYuY3VycmVudDtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSBkcmFnZ2VkLCB3aGVyZSAxIGlzIHRoZSBjbG9zZWQgcG9zaXRpb25cbiAgICAgICAgICAgIGxldCBwZXJjZW50YWdlRHJhZ2dlZCA9IGFic0RyYWdnZWREaXN0YW5jZSAvIGRyYXdlckRpbWVuc2lvbjtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBQb2ludFBlcmNlbnRhZ2VEcmFnZ2VkID0gZ2V0U25hcFBvaW50c1BlcmNlbnRhZ2VEcmFnZ2VkKGFic0RyYWdnZWREaXN0YW5jZSwgaXNEcmFnZ2luZ0luRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzbmFwUG9pbnRQZXJjZW50YWdlRHJhZ2dlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEcmFnZ2VkID0gc25hcFBvaW50UGVyY2VudGFnZURyYWdnZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEaXNhbGxvdyBjbG9zZSBkcmFnZ2luZyBiZXlvbmQgdGhlIHNtYWxsZXN0IHNuYXAgcG9pbnQuXG4gICAgICAgICAgICBpZiAobm9DbG9zZVNuYXBQb2ludHNQcmVDb25kaXRpb24gJiYgcGVyY2VudGFnZURyYWdnZWQgPj0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNBbGxvd2VkVG9EcmFnLmN1cnJlbnQgJiYgIXNob3VsZERyYWcoZXZlbnQudGFyZ2V0LCBpc0RyYWdnaW5nSW5EaXJlY3Rpb24pKSByZXR1cm47XG4gICAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKERSQUdfQ0xBU1MpO1xuICAgICAgICAgICAgLy8gSWYgc2hvdWxkRHJhZyBnYXZlIHRydWUgb25jZSBhZnRlciBwcmVzc2luZyBkb3duIG9uIHRoZSBkcmF3ZXIsIHdlIHNldCBpc0FsbG93ZWRUb0RyYWcgdG8gdHJ1ZSBhbmQgaXQgd2lsbCByZW1haW4gdHJ1ZSB1bnRpbCB3ZSBsZXQgZ28sIHRoZXJlJ3Mgbm8gcmVhc29uIHRvIGRpc2FibGUgZHJhZ2dpbmcgbWlkIHdheSwgZXZlciwgYW5kIHRoYXQncyB0aGUgc29sdXRpb24gdG8gaXRcbiAgICAgICAgICAgIGlzQWxsb3dlZFRvRHJhZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldChkcmF3ZXJSZWYuY3VycmVudCwge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdub25lJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXQob3ZlcmxheVJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzbmFwUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgb25EcmFnU25hcFBvaW50cyh7XG4gICAgICAgICAgICAgICAgICAgIGRyYWdnZWREaXN0YW5jZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUnVuIHRoaXMgb25seSBpZiBzbmFwUG9pbnRzIGFyZSBub3QgZGVmaW5lZCBvciBpZiB3ZSBhcmUgYXQgdGhlIGxhc3Qgc25hcCBwb2ludCAoaGlnaGVzdCBvbmUpXG4gICAgICAgICAgICBpZiAoaXNEcmFnZ2luZ0luRGlyZWN0aW9uICYmICFzbmFwUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGFtcGVuZWREcmFnZ2VkRGlzdGFuY2UgPSBkYW1wZW5WYWx1ZShkcmFnZ2VkRGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0ZVZhbHVlID0gTWF0aC5taW4oZGFtcGVuZWREcmFnZ2VkRGlzdGFuY2UgKiAtMSwgMCkgKiBkaXJlY3Rpb25NdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIHNldChkcmF3ZXJSZWYuY3VycmVudCwge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGlzVmVydGljYWwoZGlyZWN0aW9uKSA/IGB0cmFuc2xhdGUzZCgwLCAke3RyYW5zbGF0ZVZhbHVlfXB4LCAwKWAgOiBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVWYWx1ZX1weCwgMCwgMClgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3BhY2l0eVZhbHVlID0gMSAtIHBlcmNlbnRhZ2VEcmFnZ2VkO1xuICAgICAgICAgICAgaWYgKHNob3VsZEZhZGUgfHwgZmFkZUZyb21JbmRleCAmJiBhY3RpdmVTbmFwUG9pbnRJbmRleCA9PT0gZmFkZUZyb21JbmRleCAtIDEpIHtcbiAgICAgICAgICAgICAgICBvbkRyYWdQcm9wID09IG51bGwgPyB2b2lkIDAgOiBvbkRyYWdQcm9wKGV2ZW50LCBwZXJjZW50YWdlRHJhZ2dlZCk7XG4gICAgICAgICAgICAgICAgc2V0KG92ZXJsYXlSZWYuY3VycmVudCwge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBgJHtvcGFjaXR5VmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod3JhcHBlciAmJiBvdmVybGF5UmVmLmN1cnJlbnQgJiYgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHBlcmNlbnRhZ2VEcmFnZ2VkIGFzIGEgZnJhY3Rpb24gKDAgdG8gMSlcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZVZhbHVlID0gTWF0aC5taW4oZ2V0U2NhbGUoKSArIHBlcmNlbnRhZ2VEcmFnZ2VkICogKDEgLSBnZXRTY2FsZSgpKSwgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9yZGVyUmFkaXVzVmFsdWUgPSA4IC0gcGVyY2VudGFnZURyYWdnZWQgKiA4O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0ZVZhbHVlID0gTWF0aC5tYXgoMCwgMTQgLSBwZXJjZW50YWdlRHJhZ2dlZCAqIDE0KTtcbiAgICAgICAgICAgICAgICBzZXQod3JhcHBlciwge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IGAke2JvcmRlclJhZGl1c1ZhbHVlfXB4YCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBgc2NhbGUoJHtzY2FsZVZhbHVlfSkgdHJhbnNsYXRlM2QoMCwgJHt0cmFuc2xhdGVWYWx1ZX1weCwgMClgIDogYHNjYWxlKCR7c2NhbGVWYWx1ZX0pIHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlVmFsdWV9cHgsIDAsIDApYCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNuYXBQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2xhdGVWYWx1ZSA9IGFic0RyYWdnZWREaXN0YW5jZSAqIGRpcmVjdGlvbk11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gYHRyYW5zbGF0ZTNkKDAsICR7dHJhbnNsYXRlVmFsdWV9cHgsIDApYCA6IGB0cmFuc2xhdGUzZCgke3RyYW5zbGF0ZVZhbHVlfXB4LCAwLCAwKWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBSZWFjdF9fZGVmYXVsdC51c2VFZmZlY3QoKCk9PntcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgc2hvdWxkQW5pbWF0ZS5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIFJlYWN0X19kZWZhdWx0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICB2YXIgX3dpbmRvd192aXN1YWxWaWV3cG9ydDtcbiAgICAgICAgZnVuY3Rpb24gb25WaXN1YWxWaWV3cG9ydENoYW5nZSgpIHtcbiAgICAgICAgICAgIGlmICghZHJhd2VyUmVmLmN1cnJlbnQgfHwgIXJlcG9zaXRpb25JbnB1dHMpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChpc0lucHV0KGZvY3VzZWRFbGVtZW50KSB8fCBrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIF93aW5kb3dfdmlzdWFsVmlld3BvcnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlzdWFsVmlld3BvcnRIZWlnaHQgPSAoKF93aW5kb3dfdmlzdWFsVmlld3BvcnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQpID09IG51bGwgPyB2b2lkIDAgOiBfd2luZG93X3Zpc3VhbFZpZXdwb3J0LmhlaWdodCkgfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBoZWlnaHQgb2YgdGhlIGtleWJvYXJkXG4gICAgICAgICAgICAgICAgbGV0IGRpZmZGcm9tSW5pdGlhbCA9IHRvdGFsSGVpZ2h0IC0gdmlzdWFsVmlld3BvcnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJhd2VySGVpZ2h0ID0gZHJhd2VyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8IDA7XG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IGRyYXdlciBoZWlnaHQgb25seSBpZiBpdCdzIHRhbGwgZW5vdWdoXG4gICAgICAgICAgICAgICAgY29uc3QgaXNUYWxsRW5vdWdoID0gZHJhd2VySGVpZ2h0ID4gdG90YWxIZWlnaHQgKiAwLjg7XG4gICAgICAgICAgICAgICAgaWYgKCFpbml0aWFsRHJhd2VySGVpZ2h0LmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbERyYXdlckhlaWdodC5jdXJyZW50ID0gZHJhd2VySGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRGcm9tVG9wID0gZHJhd2VyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICAgICAgIC8vIHZpc3VhbFZpZXdwb3J0IGhlaWdodCBtYXkgY2hhbmdlIGR1ZSB0byBzb21xIGUgc3VidGxlIGNoYW5nZXMgdG8gdGhlIGtleWJvYXJkLiBDaGVja2luZyBpZiB0aGUgaGVpZ2h0IGNoYW5nZWQgYnkgNjAgb3IgbW9yZSB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZXkga2V5Ym9hcmQgcmVhbGx5IGNoYW5nZWQgaXRzIG9wZW4gc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHByZXZpb3VzRGlmZkZyb21Jbml0aWFsLmN1cnJlbnQgLSBkaWZmRnJvbUluaXRpYWwpID4gNjApIHtcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmRJc09wZW4uY3VycmVudCA9ICFrZXlib2FyZElzT3Blbi5jdXJyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc25hcFBvaW50cyAmJiBzbmFwUG9pbnRzLmxlbmd0aCA+IDAgJiYgc25hcFBvaW50c09mZnNldCAmJiBhY3RpdmVTbmFwUG9pbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVTbmFwUG9pbnRIZWlnaHQgPSBzbmFwUG9pbnRzT2Zmc2V0W2FjdGl2ZVNuYXBQb2ludEluZGV4XSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBkaWZmRnJvbUluaXRpYWwgKz0gYWN0aXZlU25hcFBvaW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91c0RpZmZGcm9tSW5pdGlhbC5jdXJyZW50ID0gZGlmZkZyb21Jbml0aWFsO1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGhhdmUgdG8gY2hhbmdlIHRoZSBoZWlnaHQgaWYgdGhlIGlucHV0IGlzIGluIHZpZXcsIHdoZW4gd2UgYXJlIGhlcmUgd2UgYXJlIGluIHRoZSBvcGVuZWQga2V5Ym9hcmQgc3RhdGUgc28gd2UgY2FuIGNvcnJlY3RseSBjaGVjayBpZiB0aGUgaW5wdXQgaXMgaW4gdmlld1xuICAgICAgICAgICAgICAgIGlmIChkcmF3ZXJIZWlnaHQgPiB2aXN1YWxWaWV3cG9ydEhlaWdodCB8fCBrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGRyYXdlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RyYXdlckhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodCA+IHZpc3VhbFZpZXdwb3J0SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdEcmF3ZXJIZWlnaHQgPSB2aXN1YWxWaWV3cG9ydEhlaWdodCAtIChpc1RhbGxFbm91Z2ggPyBvZmZzZXRGcm9tVG9wIDogV0lORE9XX1RPUF9PRkZTRVQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gZml4ZWQsIGRvbid0IG1vdmUgdGhlIGRyYXdlciB1cHdhcmRzIGlmIHRoZXJlJ3Mgc3BhY2UsIGJ1dCByYXRoZXIgb25seSBjaGFuZ2UgaXQncyBoZWlnaHQgc28gaXQncyBmdWxseSBzY3JvbGxhYmxlIHdoZW4gdGhlIGtleWJvYXJkIGlzIG9wZW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpeGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHQgLSBNYXRoLm1heChkaWZmRnJvbUluaXRpYWwsIDApfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdlclJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke01hdGgubWF4KG5ld0RyYXdlckhlaWdodCwgdmlzdWFsVmlld3BvcnRIZWlnaHQgLSBvZmZzZXRGcm9tVG9wKX1weGA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc01vYmlsZUZpcmVmb3goKSkge1xuICAgICAgICAgICAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtpbml0aWFsRHJhd2VySGVpZ2h0LmN1cnJlbnR9cHhgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc25hcFBvaW50cyAmJiBzbmFwUG9pbnRzLmxlbmd0aCA+IDAgJiYgIWtleWJvYXJkSXNPcGVuLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd2VyUmVmLmN1cnJlbnQuc3R5bGUuYm90dG9tID0gYDBweGA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgYm90dG9tIHZhbHVlIHdvdWxkIG5ldmVyIG1ha2Ugc2Vuc2VcbiAgICAgICAgICAgICAgICAgICAgZHJhd2VyUmVmLmN1cnJlbnQuc3R5bGUuYm90dG9tID0gYCR7TWF0aC5tYXgoZGlmZkZyb21Jbml0aWFsLCAwKX1weGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIChfd2luZG93X3Zpc3VhbFZpZXdwb3J0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0KSA9PSBudWxsID8gdm9pZCAwIDogX3dpbmRvd192aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblZpc3VhbFZpZXdwb3J0Q2hhbmdlKTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICB2YXIgX3dpbmRvd192aXN1YWxWaWV3cG9ydDtcbiAgICAgICAgICAgIHJldHVybiAoX3dpbmRvd192aXN1YWxWaWV3cG9ydCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCkgPT0gbnVsbCA/IHZvaWQgMCA6IF93aW5kb3dfdmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25WaXN1YWxWaWV3cG9ydENoYW5nZSk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICBhY3RpdmVTbmFwUG9pbnRJbmRleCxcbiAgICAgICAgc25hcFBvaW50cyxcbiAgICAgICAgc25hcFBvaW50c09mZnNldFxuICAgIF0pO1xuICAgIGZ1bmN0aW9uIGNsb3NlRHJhd2VyKGZyb21XaXRoaW4pIHtcbiAgICAgICAgY2FuY2VsRHJhZygpO1xuICAgICAgICBvbkNsb3NlID09IG51bGwgPyB2b2lkIDAgOiBvbkNsb3NlKCk7XG4gICAgICAgIGlmICghZnJvbVdpdGhpbikge1xuICAgICAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICBpZiAoc25hcFBvaW50cykge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVNuYXBQb2ludChzbmFwUG9pbnRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgVFJBTlNJVElPTlMuRFVSQVRJT04gKiAxMDAwKTsgLy8gc2Vjb25kcyB0byBtc1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldERyYXdlcigpIHtcbiAgICAgICAgaWYgKCFkcmF3ZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdmF1bC1kcmF3ZXItd3JhcHBlcl0nKTtcbiAgICAgICAgY29uc3QgY3VycmVudFN3aXBlQW1vdW50ID0gZ2V0VHJhbnNsYXRlKGRyYXdlclJlZi5jdXJyZW50LCBkaXJlY3Rpb24pO1xuICAgICAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGB0cmFuc2Zvcm0gJHtUUkFOU0lUSU9OUy5EVVJBVElPTn1zIGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgXG4gICAgICAgIH0pO1xuICAgICAgICBzZXQob3ZlcmxheVJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBgb3BhY2l0eSAke1RSQU5TSVRJT05TLkRVUkFUSU9OfXMgY3ViaWMtYmV6aWVyKCR7VFJBTlNJVElPTlMuRUFTRS5qb2luKCcsJyl9KWAsXG4gICAgICAgICAgICBvcGFjaXR5OiAnMSdcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IGJhY2tncm91bmQgaWYgc3dpcGVkIHVwd2FyZHNcbiAgICAgICAgaWYgKHNob3VsZFNjYWxlQmFja2dyb3VuZCAmJiBjdXJyZW50U3dpcGVBbW91bnQgJiYgY3VycmVudFN3aXBlQW1vdW50ID4gMCAmJiBpc09wZW4pIHtcbiAgICAgICAgICAgIHNldCh3cmFwcGVyLCB7XG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBgJHtCT1JERVJfUkFESVVTfXB4YCxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgLi4uaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8ge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke2dldFNjYWxlKCl9KSB0cmFuc2xhdGUzZCgwLCBjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSArIDE0cHgpLCAwKWAsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ3RvcCdcbiAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke2dldFNjYWxlKCl9KSB0cmFuc2xhdGUzZChjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSArIDE0cHgpLCAwLCAwKWAsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2xlZnQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uUHJvcGVydHk6ICd0cmFuc2Zvcm0sIGJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogYCR7VFJBTlNJVElPTlMuRFVSQVRJT059c2AsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBgY3ViaWMtYmV6aWVyKCR7VFJBTlNJVElPTlMuRUFTRS5qb2luKCcsJyl9KWBcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbmNlbERyYWcoKSB7XG4gICAgICAgIGlmICghaXNEcmFnZ2luZyB8fCAhZHJhd2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgZHJhd2VyUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZShEUkFHX0NMQVNTKTtcbiAgICAgICAgaXNBbGxvd2VkVG9EcmFnLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XG4gICAgICAgIGRyYWdFbmRUaW1lLmN1cnJlbnQgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblJlbGVhc2UoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc0RyYWdnaW5nIHx8ICFkcmF3ZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKERSQUdfQ0xBU1MpO1xuICAgICAgICBpc0FsbG93ZWRUb0RyYWcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcbiAgICAgICAgZHJhZ0VuZFRpbWUuY3VycmVudCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IHN3aXBlQW1vdW50ID0gZ2V0VHJhbnNsYXRlKGRyYXdlclJlZi5jdXJyZW50LCBkaXJlY3Rpb24pO1xuICAgICAgICBpZiAoIWV2ZW50IHx8ICFzaG91bGREcmFnKGV2ZW50LnRhcmdldCwgZmFsc2UpIHx8ICFzd2lwZUFtb3VudCB8fCBOdW1iZXIuaXNOYU4oc3dpcGVBbW91bnQpKSByZXR1cm47XG4gICAgICAgIGlmIChkcmFnU3RhcnRUaW1lLmN1cnJlbnQgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgY29uc3QgdGltZVRha2VuID0gZHJhZ0VuZFRpbWUuY3VycmVudC5nZXRUaW1lKCkgLSBkcmFnU3RhcnRUaW1lLmN1cnJlbnQuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBkaXN0TW92ZWQgPSBwb2ludGVyU3RhcnQuY3VycmVudCAtIChpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBldmVudC5wYWdlWSA6IGV2ZW50LnBhZ2VYKTtcbiAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBNYXRoLmFicyhkaXN0TW92ZWQpIC8gdGltZVRha2VuO1xuICAgICAgICBpZiAodmVsb2NpdHkgPiAwLjA1KSB7XG4gICAgICAgICAgICAvLyBganVzdFJlbGVhc2VkYCBpcyBuZWVkZWQgdG8gcHJldmVudCB0aGUgZHJhd2VyIGZyb20gZm9jdXNpbmcgb24gYW4gaW5wdXQgd2hlbiB0aGUgZHJhZyBlbmRzLCBhcyBpdCdzIG5vdCB0aGUgaW50ZW50IG1vc3Qgb2YgdGhlIHRpbWUuXG4gICAgICAgICAgICBzZXRKdXN0UmVsZWFzZWQodHJ1ZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgc2V0SnVzdFJlbGVhc2VkKGZhbHNlKTtcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNuYXBQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbk11bHRpcGxpZXIgPSBkaXJlY3Rpb24gPT09ICdib3R0b20nIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IDEgOiAtMTtcbiAgICAgICAgICAgIG9uUmVsZWFzZVNuYXBQb2ludHMoe1xuICAgICAgICAgICAgICAgIGRyYWdnZWREaXN0YW5jZTogZGlzdE1vdmVkICogZGlyZWN0aW9uTXVsdGlwbGllcixcbiAgICAgICAgICAgICAgICBjbG9zZURyYXdlcixcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICBkaXNtaXNzaWJsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvblJlbGVhc2VQcm9wID09IG51bGwgPyB2b2lkIDAgOiBvblJlbGVhc2VQcm9wKGV2ZW50LCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBNb3ZlZCB1cHdhcmRzLCBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnYm90dG9tJyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCcgPyBkaXN0TW92ZWQgPiAwIDogZGlzdE1vdmVkIDwgMCkge1xuICAgICAgICAgICAgcmVzZXREcmF3ZXIoKTtcbiAgICAgICAgICAgIG9uUmVsZWFzZVByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uUmVsZWFzZVByb3AoZXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2ZWxvY2l0eSA+IFZFTE9DSVRZX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIG9uUmVsZWFzZVByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uUmVsZWFzZVByb3AoZXZlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2RyYXdlclJlZl9jdXJyZW50X2dldEJvdW5kaW5nQ2xpZW50UmVjdF9oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHZpc2libGVEcmF3ZXJIZWlnaHQgPSBNYXRoLm1pbigoX2RyYXdlclJlZl9jdXJyZW50X2dldEJvdW5kaW5nQ2xpZW50UmVjdF9oZWlnaHQgPSBkcmF3ZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQpICE9IG51bGwgPyBfZHJhd2VyUmVmX2N1cnJlbnRfZ2V0Qm91bmRpbmdDbGllbnRSZWN0X2hlaWdodCA6IDAsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgIHZhciBfZHJhd2VyUmVmX2N1cnJlbnRfZ2V0Qm91bmRpbmdDbGllbnRSZWN0X3dpZHRoO1xuICAgICAgICBjb25zdCB2aXNpYmxlRHJhd2VyV2lkdGggPSBNYXRoLm1pbigoX2RyYXdlclJlZl9jdXJyZW50X2dldEJvdW5kaW5nQ2xpZW50UmVjdF93aWR0aCA9IGRyYXdlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSAhPSBudWxsID8gX2RyYXdlclJlZl9jdXJyZW50X2dldEJvdW5kaW5nQ2xpZW50UmVjdF93aWR0aCA6IDAsIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICAgICAgY29uc3QgaXNIb3Jpem9udGFsU3dpcGUgPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCc7XG4gICAgICAgIGlmIChNYXRoLmFicyhzd2lwZUFtb3VudCkgPj0gKGlzSG9yaXpvbnRhbFN3aXBlID8gdmlzaWJsZURyYXdlcldpZHRoIDogdmlzaWJsZURyYXdlckhlaWdodCkgKiBjbG9zZVRocmVzaG9sZCkge1xuICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIG9uUmVsZWFzZVByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uUmVsZWFzZVByb3AoZXZlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvblJlbGVhc2VQcm9wID09IG51bGwgPyB2b2lkIDAgOiBvblJlbGVhc2VQcm9wKGV2ZW50LCB0cnVlKTtcbiAgICAgICAgcmVzZXREcmF3ZXIoKTtcbiAgICB9XG4gICAgUmVhY3RfX2RlZmF1bHQudXNlRWZmZWN0KCgpPT57XG4gICAgICAgIC8vIFRyaWdnZXIgZW50ZXIgYW5pbWF0aW9uIHdpdGhvdXQgdXNpbmcgQ1NTIGFuaW1hdGlvblxuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICBzZXQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsQmVoYXZpb3I6ICdhdXRvJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvcGVuVGltZS5jdXJyZW50ID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgIHJlc2V0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3Njcm9sbEJlaGF2aW9yJyk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICBpc09wZW5cbiAgICBdKTtcbiAgICBmdW5jdGlvbiBvbk5lc3RlZE9wZW5DaGFuZ2Uobykge1xuICAgICAgICBjb25zdCBzY2FsZSA9IG8gPyAod2luZG93LmlubmVyV2lkdGggLSBORVNURURfRElTUExBQ0VNRU5UKSAvIHdpbmRvdy5pbm5lcldpZHRoIDogMTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRyYW5zbGF0ZSA9IG8gPyAtTkVTVEVEX0RJU1BMQUNFTUVOVCA6IDA7XG4gICAgICAgIGlmIChuZXN0ZWRPcGVuQ2hhbmdlVGltZXIuY3VycmVudCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChuZXN0ZWRPcGVuQ2hhbmdlVGltZXIuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBgdHJhbnNmb3JtICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gYHNjYWxlKCR7c2NhbGV9KSB0cmFuc2xhdGUzZCgwLCAke2luaXRpYWxUcmFuc2xhdGV9cHgsIDApYCA6IGBzY2FsZSgke3NjYWxlfSkgdHJhbnNsYXRlM2QoJHtpbml0aWFsVHJhbnNsYXRlfXB4LCAwLCAwKWBcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghbyAmJiBkcmF3ZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgbmVzdGVkT3BlbkNoYW5nZVRpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBnZXRUcmFuc2xhdGUoZHJhd2VyUmVmLmN1cnJlbnQsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBgdHJhbnNsYXRlM2QoMCwgJHt0cmFuc2xhdGVWYWx1ZX1weCwgMClgIDogYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlVmFsdWV9cHgsIDAsIDApYFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvbk5lc3RlZERyYWcoX2V2ZW50LCBwZXJjZW50YWdlRHJhZ2dlZCkge1xuICAgICAgICBpZiAocGVyY2VudGFnZURyYWdnZWQgPCAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGluaXRpYWxTY2FsZSA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIE5FU1RFRF9ESVNQTEFDRU1FTlQpIC8gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIGNvbnN0IG5ld1NjYWxlID0gaW5pdGlhbFNjYWxlICsgcGVyY2VudGFnZURyYWdnZWQgKiAoMSAtIGluaXRpYWxTY2FsZSk7XG4gICAgICAgIGNvbnN0IG5ld1RyYW5zbGF0ZSA9IC1ORVNURURfRElTUExBQ0VNRU5UICsgcGVyY2VudGFnZURyYWdnZWQgKiBORVNURURfRElTUExBQ0VNRU5UO1xuICAgICAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gYHNjYWxlKCR7bmV3U2NhbGV9KSB0cmFuc2xhdGUzZCgwLCAke25ld1RyYW5zbGF0ZX1weCwgMClgIDogYHNjYWxlKCR7bmV3U2NhbGV9KSB0cmFuc2xhdGUzZCgke25ld1RyYW5zbGF0ZX1weCwgMCwgMClgLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbk5lc3RlZFJlbGVhc2UoX2V2ZW50LCBvKSB7XG4gICAgICAgIGNvbnN0IGRpbSA9IGlzVmVydGljYWwoZGlyZWN0aW9uKSA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBjb25zdCBzY2FsZSA9IG8gPyAoZGltIC0gTkVTVEVEX0RJU1BMQUNFTUVOVCkgLyBkaW0gOiAxO1xuICAgICAgICBjb25zdCB0cmFuc2xhdGUgPSBvID8gLU5FU1RFRF9ESVNQTEFDRU1FTlQgOiAwO1xuICAgICAgICBpZiAobykge1xuICAgICAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYHRyYW5zZm9ybSAke1RSQU5TSVRJT05TLkRVUkFUSU9OfXMgY3ViaWMtYmV6aWVyKCR7VFJBTlNJVElPTlMuRUFTRS5qb2luKCcsJyl9KWAsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBgc2NhbGUoJHtzY2FsZX0pIHRyYW5zbGF0ZTNkKDAsICR7dHJhbnNsYXRlfXB4LCAwKWAgOiBgc2NhbGUoJHtzY2FsZX0pIHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlfXB4LCAwLCAwKWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlYWN0X19kZWZhdWx0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBpZiAoIW1vZGFsKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRvIHRoaXMgbWFudWFsbHkgdW5mb3J0dW5hdGVseVxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBtb2RhbFxuICAgIF0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nUHJpbWl0aXZlLlJvb3QsIHtcbiAgICAgICAgZGVmYXVsdE9wZW46IGRlZmF1bHRPcGVuLFxuICAgICAgICBvbk9wZW5DaGFuZ2U6IChvcGVuKT0+e1xuICAgICAgICAgICAgaWYgKCFkaXNtaXNzaWJsZSAmJiAhb3BlbikgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKG9wZW4pIHtcbiAgICAgICAgICAgICAgICBzZXRIYXNCZWVuT3BlbmVkKHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9zZURyYXdlcih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldElzT3BlbihvcGVuKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3BlbjogaXNPcGVuXG4gICAgfSwgLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIGFjdGl2ZVNuYXBQb2ludCxcbiAgICAgICAgICAgIHNuYXBQb2ludHMsXG4gICAgICAgICAgICBzZXRBY3RpdmVTbmFwUG9pbnQsXG4gICAgICAgICAgICBkcmF3ZXJSZWYsXG4gICAgICAgICAgICBvdmVybGF5UmVmLFxuICAgICAgICAgICAgb25PcGVuQ2hhbmdlLFxuICAgICAgICAgICAgb25QcmVzcyxcbiAgICAgICAgICAgIG9uUmVsZWFzZSxcbiAgICAgICAgICAgIG9uRHJhZyxcbiAgICAgICAgICAgIGRpc21pc3NpYmxlLFxuICAgICAgICAgICAgc2hvdWxkQW5pbWF0ZSxcbiAgICAgICAgICAgIGhhbmRsZU9ubHksXG4gICAgICAgICAgICBpc09wZW4sXG4gICAgICAgICAgICBpc0RyYWdnaW5nLFxuICAgICAgICAgICAgc2hvdWxkRmFkZSxcbiAgICAgICAgICAgIGNsb3NlRHJhd2VyLFxuICAgICAgICAgICAgb25OZXN0ZWREcmFnLFxuICAgICAgICAgICAgb25OZXN0ZWRPcGVuQ2hhbmdlLFxuICAgICAgICAgICAgb25OZXN0ZWRSZWxlYXNlLFxuICAgICAgICAgICAga2V5Ym9hcmRJc09wZW4sXG4gICAgICAgICAgICBtb2RhbCxcbiAgICAgICAgICAgIHNuYXBQb2ludHNPZmZzZXQsXG4gICAgICAgICAgICBhY3RpdmVTbmFwUG9pbnRJbmRleCxcbiAgICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICAgIHNob3VsZFNjYWxlQmFja2dyb3VuZCxcbiAgICAgICAgICAgIHNldEJhY2tncm91bmRDb2xvck9uU2NhbGUsXG4gICAgICAgICAgICBub0JvZHlTdHlsZXMsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgfVxuICAgIH0sIGNoaWxkcmVuKSk7XG59XG5jb25zdCBPdmVybGF5ID0gLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdC5mb3J3YXJkUmVmKGZ1bmN0aW9uKHsgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCB7IG92ZXJsYXlSZWYsIHNuYXBQb2ludHMsIG9uUmVsZWFzZSwgc2hvdWxkRmFkZSwgaXNPcGVuLCBtb2RhbCwgc2hvdWxkQW5pbWF0ZSB9ID0gdXNlRHJhd2VyQ29udGV4dCgpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmID0gdXNlQ29tcG9zZWRSZWZzKHJlZiwgb3ZlcmxheVJlZik7XG4gICAgY29uc3QgaGFzU25hcFBvaW50cyA9IHNuYXBQb2ludHMgJiYgc25hcFBvaW50cy5sZW5ndGggPiAwO1xuICAgIC8vIE92ZXJsYXkgaXMgdGhlIGNvbXBvbmVudCB0aGF0IGlzIGxvY2tpbmcgc2Nyb2xsLCByZW1vdmluZyBpdCB3aWxsIHVubG9jayB0aGUgc2Nyb2xsIHdpdGhvdXQgaGF2aW5nIHRvIGRpZyBpbnRvIFJhZGl4J3MgRGlhbG9nIGxpYnJhcnlcbiAgICBpZiAoIW1vZGFsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBvbk1vdXNlVXAgPSBSZWFjdF9fZGVmYXVsdC51c2VDYWxsYmFjaygoZXZlbnQpPT5vblJlbGVhc2UoZXZlbnQpLCBbXG4gICAgICAgIG9uUmVsZWFzZVxuICAgIF0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nUHJpbWl0aXZlLk92ZXJsYXksIHtcbiAgICAgICAgb25Nb3VzZVVwOiBvbk1vdXNlVXAsXG4gICAgICAgIHJlZjogY29tcG9zZWRSZWYsXG4gICAgICAgIFwiZGF0YS12YXVsLW92ZXJsYXlcIjogXCJcIixcbiAgICAgICAgXCJkYXRhLXZhdWwtc25hcC1wb2ludHNcIjogaXNPcGVuICYmIGhhc1NuYXBQb2ludHMgPyAndHJ1ZScgOiAnZmFsc2UnLFxuICAgICAgICBcImRhdGEtdmF1bC1zbmFwLXBvaW50cy1vdmVybGF5XCI6IGlzT3BlbiAmJiBzaG91bGRGYWRlID8gJ3RydWUnIDogJ2ZhbHNlJyxcbiAgICAgICAgXCJkYXRhLXZhdWwtYW5pbWF0ZVwiOiAoc2hvdWxkQW5pbWF0ZSA9PSBudWxsID8gdm9pZCAwIDogc2hvdWxkQW5pbWF0ZS5jdXJyZW50KSA/ICd0cnVlJyA6ICdmYWxzZScsXG4gICAgICAgIC4uLnJlc3RcbiAgICB9KTtcbn0pO1xuT3ZlcmxheS5kaXNwbGF5TmFtZSA9ICdEcmF3ZXIuT3ZlcmxheSc7XG5jb25zdCBDb250ZW50ID0gLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdC5mb3J3YXJkUmVmKGZ1bmN0aW9uKHsgb25Qb2ludGVyRG93bk91dHNpZGUsIHN0eWxlLCBvbk9wZW5BdXRvRm9jdXMsIC4uLnJlc3QgfSwgcmVmKSB7XG4gICAgY29uc3QgeyBkcmF3ZXJSZWYsIG9uUHJlc3MsIG9uUmVsZWFzZSwgb25EcmFnLCBrZXlib2FyZElzT3Blbiwgc25hcFBvaW50c09mZnNldCwgYWN0aXZlU25hcFBvaW50SW5kZXgsIG1vZGFsLCBpc09wZW4sIGRpcmVjdGlvbiwgc25hcFBvaW50cywgY29udGFpbmVyLCBoYW5kbGVPbmx5LCBzaG91bGRBbmltYXRlLCBhdXRvRm9jdXMgfSA9IHVzZURyYXdlckNvbnRleHQoKTtcbiAgICAvLyBOZWVkZWQgdG8gdXNlIHRyYW5zaXRpb24gaW5zdGVhZCBvZiBhbmltYXRpb25zXG4gICAgY29uc3QgW2RlbGF5ZWRTbmFwUG9pbnRzLCBzZXREZWxheWVkU25hcFBvaW50c10gPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgY29tcG9zZWRSZWYgPSB1c2VDb21wb3NlZFJlZnMocmVmLCBkcmF3ZXJSZWYpO1xuICAgIGNvbnN0IHBvaW50ZXJTdGFydFJlZiA9IFJlYWN0X19kZWZhdWx0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBsYXN0S25vd25Qb2ludGVyRXZlbnRSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgd2FzQmV5b25kVGhlUG9pbnRSZWYgPSBSZWFjdF9fZGVmYXVsdC51c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IGhhc1NuYXBQb2ludHMgPSBzbmFwUG9pbnRzICYmIHNuYXBQb2ludHMubGVuZ3RoID4gMDtcbiAgICB1c2VTY2FsZUJhY2tncm91bmQoKTtcbiAgICBjb25zdCBpc0RlbHRhSW5EaXJlY3Rpb24gPSAoZGVsdGEsIGRpcmVjdGlvbiwgdGhyZXNob2xkID0gMCk9PntcbiAgICAgICAgaWYgKHdhc0JleW9uZFRoZVBvaW50UmVmLmN1cnJlbnQpIHJldHVybiB0cnVlO1xuICAgICAgICBjb25zdCBkZWx0YVkgPSBNYXRoLmFicyhkZWx0YS55KTtcbiAgICAgICAgY29uc3QgZGVsdGFYID0gTWF0aC5hYnMoZGVsdGEueCk7XG4gICAgICAgIGNvbnN0IGlzRGVsdGFYID0gZGVsdGFYID4gZGVsdGFZO1xuICAgICAgICBjb25zdCBkRmFjdG9yID0gW1xuICAgICAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICAgICAncmlnaHQnXG4gICAgICAgIF0uaW5jbHVkZXMoZGlyZWN0aW9uKSA/IDEgOiAtMTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgY29uc3QgaXNSZXZlcnNlRGlyZWN0aW9uID0gZGVsdGEueCAqIGRGYWN0b3IgPCAwO1xuICAgICAgICAgICAgaWYgKCFpc1JldmVyc2VEaXJlY3Rpb24gJiYgZGVsdGFYID49IDAgJiYgZGVsdGFYIDw9IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0RlbHRhWDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGlzUmV2ZXJzZURpcmVjdGlvbiA9IGRlbHRhLnkgKiBkRmFjdG9yIDwgMDtcbiAgICAgICAgICAgIGlmICghaXNSZXZlcnNlRGlyZWN0aW9uICYmIGRlbHRhWSA+PSAwICYmIGRlbHRhWSA8PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzRGVsdGFYO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdhc0JleW9uZFRoZVBvaW50UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFJlYWN0X19kZWZhdWx0LnVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBpZiAoaGFzU25hcFBvaW50cykge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgICAgIHNldERlbGF5ZWRTbmFwUG9pbnRzKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgZnVuY3Rpb24gaGFuZGxlT25Qb2ludGVyVXAoZXZlbnQpIHtcbiAgICAgICAgcG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB3YXNCZXlvbmRUaGVQb2ludFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIG9uUmVsZWFzZShldmVudCk7XG4gICAgfVxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nUHJpbWl0aXZlLkNvbnRlbnQsIHtcbiAgICAgICAgXCJkYXRhLXZhdWwtZHJhd2VyLWRpcmVjdGlvblwiOiBkaXJlY3Rpb24sXG4gICAgICAgIFwiZGF0YS12YXVsLWRyYXdlclwiOiBcIlwiLFxuICAgICAgICBcImRhdGEtdmF1bC1kZWxheWVkLXNuYXAtcG9pbnRzXCI6IGRlbGF5ZWRTbmFwUG9pbnRzID8gJ3RydWUnIDogJ2ZhbHNlJyxcbiAgICAgICAgXCJkYXRhLXZhdWwtc25hcC1wb2ludHNcIjogaXNPcGVuICYmIGhhc1NuYXBQb2ludHMgPyAndHJ1ZScgOiAnZmFsc2UnLFxuICAgICAgICBcImRhdGEtdmF1bC1jdXN0b20tY29udGFpbmVyXCI6IGNvbnRhaW5lciA/ICd0cnVlJyA6ICdmYWxzZScsXG4gICAgICAgIFwiZGF0YS12YXVsLWFuaW1hdGVcIjogKHNob3VsZEFuaW1hdGUgPT0gbnVsbCA/IHZvaWQgMCA6IHNob3VsZEFuaW1hdGUuY3VycmVudCkgPyAndHJ1ZScgOiAnZmFsc2UnLFxuICAgICAgICAuLi5yZXN0LFxuICAgICAgICByZWY6IGNvbXBvc2VkUmVmLFxuICAgICAgICBzdHlsZTogc25hcFBvaW50c09mZnNldCAmJiBzbmFwUG9pbnRzT2Zmc2V0Lmxlbmd0aCA+IDAgPyB7XG4gICAgICAgICAgICAnLS1zbmFwLXBvaW50LWhlaWdodCc6IGAke3NuYXBQb2ludHNPZmZzZXRbYWN0aXZlU25hcFBvaW50SW5kZXggIT0gbnVsbCA/IGFjdGl2ZVNuYXBQb2ludEluZGV4IDogMF19cHhgLFxuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfSA6IHN0eWxlLFxuICAgICAgICBvblBvaW50ZXJEb3duOiAoZXZlbnQpPT57XG4gICAgICAgICAgICBpZiAoaGFuZGxlT25seSkgcmV0dXJuO1xuICAgICAgICAgICAgcmVzdC5vblBvaW50ZXJEb3duID09IG51bGwgPyB2b2lkIDAgOiByZXN0Lm9uUG9pbnRlckRvd24uY2FsbChyZXN0LCBldmVudCk7XG4gICAgICAgICAgICBwb2ludGVyU3RhcnRSZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5wYWdlWCxcbiAgICAgICAgICAgICAgICB5OiBldmVudC5wYWdlWVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9uUHJlc3MoZXZlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBvbk9wZW5BdXRvRm9jdXM6IChlKT0+e1xuICAgICAgICAgICAgb25PcGVuQXV0b0ZvY3VzID09IG51bGwgPyB2b2lkIDAgOiBvbk9wZW5BdXRvRm9jdXMoZSk7XG4gICAgICAgICAgICBpZiAoIWF1dG9Gb2N1cykge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU6IChlKT0+e1xuICAgICAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9uUG9pbnRlckRvd25PdXRzaWRlKGUpO1xuICAgICAgICAgICAgaWYgKCFtb2RhbCB8fCBlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleWJvYXJkSXNPcGVuLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBrZXlib2FyZElzT3Blbi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uRm9jdXNPdXRzaWRlOiAoZSk9PntcbiAgICAgICAgICAgIGlmICghbW9kYWwpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJNb3ZlOiAoZXZlbnQpPT57XG4gICAgICAgICAgICBsYXN0S25vd25Qb2ludGVyRXZlbnRSZWYuY3VycmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgaWYgKGhhbmRsZU9ubHkpIHJldHVybjtcbiAgICAgICAgICAgIHJlc3Qub25Qb2ludGVyTW92ZSA9PSBudWxsID8gdm9pZCAwIDogcmVzdC5vblBvaW50ZXJNb3ZlLmNhbGwocmVzdCwgZXZlbnQpO1xuICAgICAgICAgICAgaWYgKCFwb2ludGVyU3RhcnRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeVBvc2l0aW9uID0gZXZlbnQucGFnZVkgLSBwb2ludGVyU3RhcnRSZWYuY3VycmVudC55O1xuICAgICAgICAgICAgY29uc3QgeFBvc2l0aW9uID0gZXZlbnQucGFnZVggLSBwb2ludGVyU3RhcnRSZWYuY3VycmVudC54O1xuICAgICAgICAgICAgY29uc3Qgc3dpcGVTdGFydFRocmVzaG9sZCA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnID8gMTAgOiAyO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogeFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHk6IHlQb3NpdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGlzQWxsb3dlZFRvU3dpcGUgPSBpc0RlbHRhSW5EaXJlY3Rpb24oZGVsdGEsIGRpcmVjdGlvbiwgc3dpcGVTdGFydFRocmVzaG9sZCk7XG4gICAgICAgICAgICBpZiAoaXNBbGxvd2VkVG9Td2lwZSkgb25EcmFnKGV2ZW50KTtcbiAgICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKHhQb3NpdGlvbikgPiBzd2lwZVN0YXJ0VGhyZXNob2xkIHx8IE1hdGguYWJzKHlQb3NpdGlvbikgPiBzd2lwZVN0YXJ0VGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJVcDogKGV2ZW50KT0+e1xuICAgICAgICAgICAgcmVzdC5vblBvaW50ZXJVcCA9PSBudWxsID8gdm9pZCAwIDogcmVzdC5vblBvaW50ZXJVcC5jYWxsKHJlc3QsIGV2ZW50KTtcbiAgICAgICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHdhc0JleW9uZFRoZVBvaW50UmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9uUmVsZWFzZShldmVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlck91dDogKGV2ZW50KT0+e1xuICAgICAgICAgICAgcmVzdC5vblBvaW50ZXJPdXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3Qub25Qb2ludGVyT3V0LmNhbGwocmVzdCwgZXZlbnQpO1xuICAgICAgICAgICAgaGFuZGxlT25Qb2ludGVyVXAobGFzdEtub3duUG9pbnRlckV2ZW50UmVmLmN1cnJlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNvbnRleHRNZW51OiAoZXZlbnQpPT57XG4gICAgICAgICAgICByZXN0Lm9uQ29udGV4dE1lbnUgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3Qub25Db250ZXh0TWVudS5jYWxsKHJlc3QsIGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChsYXN0S25vd25Qb2ludGVyRXZlbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU9uUG9pbnRlclVwKGxhc3RLbm93blBvaW50ZXJFdmVudFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5Db250ZW50LmRpc3BsYXlOYW1lID0gJ0RyYXdlci5Db250ZW50JztcbmNvbnN0IExPTkdfSEFORExFX1BSRVNTX1RJTUVPVVQgPSAyNTA7XG5jb25zdCBET1VCTEVfVEFQX1RJTUVPVVQgPSAxMjA7XG5jb25zdCBIYW5kbGUgPSAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0LmZvcndhcmRSZWYoZnVuY3Rpb24oeyBwcmV2ZW50Q3ljbGUgPSBmYWxzZSwgY2hpbGRyZW4sIC4uLnJlc3QgfSwgcmVmKSB7XG4gICAgY29uc3QgeyBjbG9zZURyYXdlciwgaXNEcmFnZ2luZywgc25hcFBvaW50cywgYWN0aXZlU25hcFBvaW50LCBzZXRBY3RpdmVTbmFwUG9pbnQsIGRpc21pc3NpYmxlLCBoYW5kbGVPbmx5LCBpc09wZW4sIG9uUHJlc3MsIG9uRHJhZyB9ID0gdXNlRHJhd2VyQ29udGV4dCgpO1xuICAgIGNvbnN0IGNsb3NlVGltZW91dElkUmVmID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHNob3VsZENhbmNlbEludGVyYWN0aW9uUmVmID0gUmVhY3RfX2RlZmF1bHQudXNlUmVmKGZhbHNlKTtcbiAgICBmdW5jdGlvbiBoYW5kbGVTdGFydEN5Y2xlKCkge1xuICAgICAgICAvLyBTdG9wIGlmIHRoaXMgaXMgdGhlIHNlY29uZCBjbGljayBvZiBhIGRvdWJsZSBjbGlja1xuICAgICAgICBpZiAoc2hvdWxkQ2FuY2VsSW50ZXJhY3Rpb25SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgaGFuZGxlQ2FuY2VsSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgaGFuZGxlQ3ljbGVTbmFwUG9pbnRzKCk7XG4gICAgICAgIH0sIERPVUJMRV9UQVBfVElNRU9VVCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUN5Y2xlU25hcFBvaW50cygpIHtcbiAgICAgICAgLy8gUHJldmVudCBhY2NpZGVudGFsIHRhcHMgd2hpbGUgcmVzaXppbmcgZHJhd2VyXG4gICAgICAgIGlmIChpc0RyYWdnaW5nIHx8IHByZXZlbnRDeWNsZSB8fCBzaG91bGRDYW5jZWxJbnRlcmFjdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVDYW5jZWxJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0byBjbGVhciB0aGUgdGltZW91dCBpZCBpZiB0aGUgdXNlciByZWxlYXNlcyB0aGUgaGFuZGxlIGJlZm9yZSB0aGUgY2FuY2VsIHRpbWVvdXRcbiAgICAgICAgaGFuZGxlQ2FuY2VsSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgaWYgKCFzbmFwUG9pbnRzIHx8IHNuYXBQb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIWRpc21pc3NpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0xhc3RTbmFwUG9pbnQgPSBhY3RpdmVTbmFwUG9pbnQgPT09IHNuYXBQb2ludHNbc25hcFBvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGlzTGFzdFNuYXBQb2ludCAmJiBkaXNtaXNzaWJsZSkge1xuICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50U25hcEluZGV4ID0gc25hcFBvaW50cy5maW5kSW5kZXgoKHBvaW50KT0+cG9pbnQgPT09IGFjdGl2ZVNuYXBQb2ludCk7XG4gICAgICAgIGlmIChjdXJyZW50U25hcEluZGV4ID09PSAtMSkgcmV0dXJuOyAvLyBhY3RpdmVTbmFwUG9pbnQgbm90IGZvdW5kIGluIHNuYXBQb2ludHNcbiAgICAgICAgY29uc3QgbmV4dFNuYXBQb2ludCA9IHNuYXBQb2ludHNbY3VycmVudFNuYXBJbmRleCArIDFdO1xuICAgICAgICBzZXRBY3RpdmVTbmFwUG9pbnQobmV4dFNuYXBQb2ludCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0SW50ZXJhY3Rpb24oKSB7XG4gICAgICAgIGNsb3NlVGltZW91dElkUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgLy8gQ2FuY2VsIGNsaWNrIGludGVyYWN0aW9uIG9uIGEgbG9uZyBwcmVzc1xuICAgICAgICAgICAgc2hvdWxkQ2FuY2VsSW50ZXJhY3Rpb25SZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH0sIExPTkdfSEFORExFX1BSRVNTX1RJTUVPVVQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVDYW5jZWxJbnRlcmFjdGlvbigpIHtcbiAgICAgICAgaWYgKGNsb3NlVGltZW91dElkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY2xvc2VUaW1lb3V0SWRSZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvdWxkQ2FuY2VsSW50ZXJhY3Rpb25SZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgb25DbGljazogaGFuZGxlU3RhcnRDeWNsZSxcbiAgICAgICAgb25Qb2ludGVyQ2FuY2VsOiBoYW5kbGVDYW5jZWxJbnRlcmFjdGlvbixcbiAgICAgICAgb25Qb2ludGVyRG93bjogKGUpPT57XG4gICAgICAgICAgICBpZiAoaGFuZGxlT25seSkgb25QcmVzcyhlKTtcbiAgICAgICAgICAgIGhhbmRsZVN0YXJ0SW50ZXJhY3Rpb24oKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Qb2ludGVyTW92ZTogKGUpPT57XG4gICAgICAgICAgICBpZiAoaGFuZGxlT25seSkgb25EcmFnKGUpO1xuICAgICAgICB9LFxuICAgICAgICAvLyBvblBvaW50ZXJVcCBpcyBhbHJlYWR5IGhhbmRsZWQgYnkgdGhlIGNvbnRlbnQgY29tcG9uZW50XG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICBcImRhdGEtdmF1bC1kcmF3ZXItdmlzaWJsZVwiOiBpc09wZW4gPyAndHJ1ZScgOiAnZmFsc2UnLFxuICAgICAgICBcImRhdGEtdmF1bC1oYW5kbGVcIjogXCJcIixcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgICAgLi4ucmVzdFxuICAgIH0sIC8qI19fUFVSRV9fKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBcImRhdGEtdmF1bC1oYW5kbGUtaGl0YXJlYVwiOiBcIlwiLFxuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG4gICAgfSwgY2hpbGRyZW4pKTtcbn0pO1xuSGFuZGxlLmRpc3BsYXlOYW1lID0gJ0RyYXdlci5IYW5kbGUnO1xuZnVuY3Rpb24gTmVzdGVkUm9vdCh7IG9uRHJhZywgb25PcGVuQ2hhbmdlLCBvcGVuOiBuZXN0ZWRJc09wZW4sIC4uLnJlc3QgfSkge1xuICAgIGNvbnN0IHsgb25OZXN0ZWREcmFnLCBvbk5lc3RlZE9wZW5DaGFuZ2UsIG9uTmVzdGVkUmVsZWFzZSB9ID0gdXNlRHJhd2VyQ29udGV4dCgpO1xuICAgIGlmICghb25OZXN0ZWREcmFnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRHJhd2VyLk5lc3RlZFJvb3QgbXVzdCBiZSBwbGFjZWQgaW4gYW5vdGhlciBkcmF3ZXInKTtcbiAgICB9XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb290LCB7XG4gICAgICAgIG5lc3RlZDogdHJ1ZSxcbiAgICAgICAgb3BlbjogbmVzdGVkSXNPcGVuLFxuICAgICAgICBvbkNsb3NlOiAoKT0+e1xuICAgICAgICAgICAgb25OZXN0ZWRPcGVuQ2hhbmdlKGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25EcmFnOiAoZSwgcCk9PntcbiAgICAgICAgICAgIG9uTmVzdGVkRHJhZyhlLCBwKTtcbiAgICAgICAgICAgIG9uRHJhZyA9PSBudWxsID8gdm9pZCAwIDogb25EcmFnKGUsIHApO1xuICAgICAgICB9LFxuICAgICAgICBvbk9wZW5DaGFuZ2U6IChvKT0+e1xuICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgICBvbk5lc3RlZE9wZW5DaGFuZ2Uobyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbk9wZW5DaGFuZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG9uT3BlbkNoYW5nZShvKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWxlYXNlOiBvbk5lc3RlZFJlbGVhc2UsXG4gICAgICAgIC4uLnJlc3RcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIFBvcnRhbChwcm9wcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VEcmF3ZXJDb250ZXh0KCk7XG4gICAgY29uc3QgeyBjb250YWluZXIgPSBjb250ZXh0LmNvbnRhaW5lciwgLi4ucG9ydGFsUHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nUHJpbWl0aXZlLlBvcnRhbCwge1xuICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgLi4ucG9ydGFsUHJvcHNcbiAgICB9KTtcbn1cbmNvbnN0IERyYXdlciA9IHtcbiAgICBSb290LFxuICAgIE5lc3RlZFJvb3QsXG4gICAgQ29udGVudCxcbiAgICBPdmVybGF5LFxuICAgIFRyaWdnZXI6IERpYWxvZ1ByaW1pdGl2ZS5UcmlnZ2VyLFxuICAgIFBvcnRhbCxcbiAgICBIYW5kbGUsXG4gICAgQ2xvc2U6IERpYWxvZ1ByaW1pdGl2ZS5DbG9zZSxcbiAgICBUaXRsZTogRGlhbG9nUHJpbWl0aXZlLlRpdGxlLFxuICAgIERlc2NyaXB0aW9uOiBEaWFsb2dQcmltaXRpdmUuRGVzY3JpcHRpb25cbn07XG5cbmV4cG9ydCB7IENvbnRlbnQsIERyYXdlciwgSGFuZGxlLCBOZXN0ZWRSb290LCBPdmVybGF5LCBQb3J0YWwsIFJvb3QgfTtcbiJdLCJuYW1lcyI6WyJfX2luc2VydENTUyIsImNvZGUiLCJkb2N1bWVudCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhcHBlbmRDaGlsZCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJEaWFsb2dQcmltaXRpdmUiLCJSZWFjdCIsIlJlYWN0X19kZWZhdWx0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlRWZmZWN0IiwidXNlTWVtbyIsIkRyYXdlckNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiZHJhd2VyUmVmIiwiY3VycmVudCIsIm92ZXJsYXlSZWYiLCJvblByZXNzIiwib25SZWxlYXNlIiwib25EcmFnIiwib25OZXN0ZWREcmFnIiwib25OZXN0ZWRPcGVuQ2hhbmdlIiwib25OZXN0ZWRSZWxlYXNlIiwib3BlblByb3AiLCJ1bmRlZmluZWQiLCJkaXNtaXNzaWJsZSIsImlzT3BlbiIsImlzRHJhZ2dpbmciLCJrZXlib2FyZElzT3BlbiIsInNuYXBQb2ludHNPZmZzZXQiLCJzbmFwUG9pbnRzIiwiaGFuZGxlT25seSIsIm1vZGFsIiwic2hvdWxkRmFkZSIsImFjdGl2ZVNuYXBQb2ludCIsIm9uT3BlbkNoYW5nZSIsInNldEFjdGl2ZVNuYXBQb2ludCIsImNsb3NlRHJhd2VyIiwiZGlyZWN0aW9uIiwic2hvdWxkQW5pbWF0ZSIsInNob3VsZFNjYWxlQmFja2dyb3VuZCIsInNldEJhY2tncm91bmRDb2xvck9uU2NhbGUiLCJub0JvZHlTdHlsZXMiLCJjb250YWluZXIiLCJhdXRvRm9jdXMiLCJ1c2VEcmF3ZXJDb250ZXh0IiwiY29udGV4dCIsInVzZUNvbnRleHQiLCJFcnJvciIsImlzTW9iaWxlRmlyZWZveCIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsIndpbmRvdyIsInRlc3QiLCJpc01hYyIsInRlc3RQbGF0Zm9ybSIsImlzSVBob25lIiwiaXNTYWZhcmkiLCJpc0lQYWQiLCJtYXhUb3VjaFBvaW50cyIsImlzSU9TIiwicmUiLCJwbGF0Zm9ybSIsIktFWUJPQVJEX0JVRkZFUiIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCJjaGFpbiQxIiwiY2FsbGJhY2tzIiwiYXJncyIsImNhbGxiYWNrIiwidmlzdWFsVmlld3BvcnQiLCJpc1Njcm9sbGFibGUiLCJub2RlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm92ZXJmbG93Iiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiZ2V0U2Nyb2xsUGFyZW50IiwicGFyZW50RWxlbWVudCIsInNjcm9sbGluZ0VsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJub25UZXh0SW5wdXRUeXBlcyIsIlNldCIsInByZXZlbnRTY3JvbGxDb3VudCIsInJlc3RvcmUiLCJ1c2VQcmV2ZW50U2Nyb2xsIiwib3B0aW9ucyIsImlzRGlzYWJsZWQiLCJwcmV2ZW50U2Nyb2xsTW9iaWxlU2FmYXJpIiwic2Nyb2xsYWJsZSIsImxhc3RZIiwib25Ub3VjaFN0YXJ0IiwiZSIsInRhcmdldCIsImJvZHkiLCJjaGFuZ2VkVG91Y2hlcyIsInBhZ2VZIiwib25Ub3VjaE1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInkiLCJzY3JvbGxUb3AiLCJib3R0b20iLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJvblRvdWNoRW5kIiwiaXNJbnB1dCIsImFjdGl2ZUVsZW1lbnQiLCJ0cmFuc2Zvcm0iLCJmb2N1cyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9uRm9jdXMiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInNjcm9sbEludG9WaWV3IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJvbldpbmRvd1Njcm9sbCIsInNjcm9sbFRvIiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0IiwicmVzdG9yZVN0eWxlcyIsInNldFN0eWxlIiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnQiLCJwYXNzaXZlIiwiY2FwdHVyZSIsImVsZW1lbnQiLCJ2YWx1ZSIsImN1ciIsImV2ZW50IiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyb290Iiwic2Nyb2xsYWJsZVRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsInRhcmdldFRvcCIsInRhcmdldEJvdHRvbSIsImtleWJvYXJkSGVpZ2h0IiwiSFRNTElucHV0RWxlbWVudCIsImhhcyIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiLCJIVE1MRWxlbWVudCIsImlzQ29udGVudEVkaXRhYmxlIiwic2V0UmVmIiwicmVmIiwiY29tcG9zZVJlZnMiLCJyZWZzIiwiZm9yRWFjaCIsInVzZUNvbXBvc2VkUmVmcyIsInVzZUNhbGxiYWNrIiwiY2FjaGUiLCJXZWFrTWFwIiwic2V0IiwiZWwiLCJzdHlsZXMiLCJpZ25vcmVDYWNoZSIsIm9yaWdpbmFsU3R5bGVzIiwiT2JqZWN0IiwiZW50cmllcyIsImtleSIsInN0YXJ0c1dpdGgiLCJzZXRQcm9wZXJ0eSIsInJlc2V0IiwicHJvcCIsImdldCIsImlzVmVydGljYWwiLCJnZXRUcmFuc2xhdGUiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJtb3pUcmFuc2Zvcm0iLCJtYXQiLCJtYXRjaCIsInBhcnNlRmxvYXQiLCJzcGxpdCIsImRhbXBlblZhbHVlIiwidiIsIk1hdGgiLCJsb2ciLCJhc3NpZ25TdHlsZSIsInByZXZTdHlsZSIsImFzc2lnbiIsImNoYWluIiwiZm5zIiwiZm4iLCJUUkFOU0lUSU9OUyIsIkRVUkFUSU9OIiwiRUFTRSIsIlZFTE9DSVRZX1RIUkVTSE9MRCIsIkNMT1NFX1RIUkVTSE9MRCIsIlNDUk9MTF9MT0NLX1RJTUVPVVQiLCJCT1JERVJfUkFESVVTIiwiTkVTVEVEX0RJU1BMQUNFTUVOVCIsIldJTkRPV19UT1BfT0ZGU0VUIiwiRFJBR19DTEFTUyIsInVzZUNhbGxiYWNrUmVmIiwiY2FsbGJhY2tSZWYiLCJ1c2VSZWYiLCJjYWxsIiwidXNlVW5jb250cm9sbGVkU3RhdGUiLCJkZWZhdWx0UHJvcCIsIm9uQ2hhbmdlIiwidW5jb250cm9sbGVkU3RhdGUiLCJ1c2VTdGF0ZSIsInByZXZWYWx1ZVJlZiIsImhhbmRsZUNoYW5nZSIsInVzZUNvbnRyb2xsYWJsZVN0YXRlIiwidW5jb250cm9sbGVkUHJvcCIsInNldFVuY29udHJvbGxlZFByb3AiLCJpc0NvbnRyb2xsZWQiLCJzZXRWYWx1ZSIsIm5leHRWYWx1ZSIsInNldHRlciIsInVzZVNuYXBQb2ludHMiLCJhY3RpdmVTbmFwUG9pbnRQcm9wIiwic2V0QWN0aXZlU25hcFBvaW50UHJvcCIsImZhZGVGcm9tSW5kZXgiLCJvblNuYXBQb2ludENoYW5nZSIsInNuYXBUb1NlcXVlbnRpYWxQb2ludCIsIndpbmRvd0RpbWVuc2lvbnMiLCJzZXRXaW5kb3dEaW1lbnNpb25zIiwib25SZXNpemUiLCJpc0xhc3RTbmFwUG9pbnQiLCJsZW5ndGgiLCJhY3RpdmVTbmFwUG9pbnRJbmRleCIsIl9zbmFwUG9pbnRzX2ZpbmRJbmRleCIsImZpbmRJbmRleCIsInNuYXBQb2ludCIsIk51bWJlciIsImlzTmFOIiwiY29udGFpbmVyU2l6ZSIsIndpZHRoIiwiX3NuYXBQb2ludHNfbWFwIiwibWFwIiwiaXNQeCIsInNuYXBQb2ludEFzTnVtYmVyIiwicGFyc2VJbnQiLCJhY3RpdmVTbmFwUG9pbnRPZmZzZXQiLCJzbmFwVG9Qb2ludCIsImRpbWVuc2lvbiIsIl9zbmFwUG9pbnRzT2Zmc2V0X2ZpbmRJbmRleCIsIm5ld1NuYXBQb2ludEluZGV4Iiwic25hcFBvaW50RGltIiwidHJhbnNpdGlvbiIsImpvaW4iLCJvcGFjaXR5IiwibWF4IiwibmV3SW5kZXgiLCJkcmFnZ2VkRGlzdGFuY2UiLCJ2ZWxvY2l0eSIsImN1cnJlbnRQb3NpdGlvbiIsImlzT3ZlcmxheVNuYXBQb2ludCIsImlzRmlyc3QiLCJoYXNEcmFnZ2VkVXAiLCJjbG9zZXN0U25hcFBvaW50IiwicmVkdWNlIiwicHJldiIsImN1cnIiLCJhYnMiLCJkaW0iLCJkcmFnRGlyZWN0aW9uIiwibmV3VmFsdWUiLCJnZXRQZXJjZW50YWdlRHJhZ2dlZCIsImFic0RyYWdnZWREaXN0YW5jZSIsImlzRHJhZ2dpbmdEb3duIiwiaXNPdmVybGF5U25hcFBvaW50T3JIaWdoZXIiLCJ0YXJnZXRTbmFwUG9pbnRJbmRleCIsInNuYXBQb2ludERpc3RhbmNlIiwicGVyY2VudGFnZURyYWdnZWQiLCJub29wIiwidXNlU2NhbGVCYWNrZ3JvdW5kIiwidGltZW91dElkUmVmIiwiaW5pdGlhbEJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRDb2xvciIsImdldFNjYWxlIiwiY2xlYXJUaW1lb3V0Iiwid3JhcHBlciIsInF1ZXJ5U2VsZWN0b3IiLCJiYWNrZ3JvdW5kIiwidHJhbnNmb3JtT3JpZ2luIiwidHJhbnNpdGlvblByb3BlcnR5IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uIiwid3JhcHBlclN0eWxlc0NsZWFudXAiLCJib3JkZXJSYWRpdXMiLCJzZXRUaW1lb3V0IiwicmVtb3ZlUHJvcGVydHkiLCJwcmV2aW91c0JvZHlQb3NpdGlvbiIsInVzZVBvc2l0aW9uRml4ZWQiLCJuZXN0ZWQiLCJoYXNCZWVuT3BlbmVkIiwicHJldmVudFNjcm9sbFJlc3RvcmF0aW9uIiwiYWN0aXZlVXJsIiwic2V0QWN0aXZlVXJsIiwibG9jYXRpb24iLCJocmVmIiwic2Nyb2xsUG9zIiwic2V0UG9zaXRpb25GaXhlZCIsInBvc2l0aW9uIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tQmFySGVpZ2h0IiwicmVzdG9yZVBvc2l0aW9uU2V0dGluZyIsIngiLCJvblNjcm9sbCIsImhhc0RyYXdlck9wZW5lZCIsImlzU3RhbmRhbG9uZSIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiUm9vdCIsIm9wZW4iLCJjaGlsZHJlbiIsIm9uRHJhZ1Byb3AiLCJvblJlbGVhc2VQcm9wIiwiY2xvc2VUaHJlc2hvbGQiLCJzY3JvbGxMb2NrVGltZW91dCIsImZpeGVkIiwib25DbG9zZSIsImRlZmF1bHRPcGVuIiwiZGlzYWJsZVByZXZlbnRTY3JvbGwiLCJyZXBvc2l0aW9uSW5wdXRzIiwib25BbmltYXRpb25FbmQiLCJfZHJhd2VyUmVmX2N1cnJlbnQiLCJfZHJhd2VyUmVmX2N1cnJlbnQxIiwic2V0SXNPcGVuIiwibyIsInBvaW50ZXJFdmVudHMiLCJzZXRIYXNCZWVuT3BlbmVkIiwic2V0SXNEcmFnZ2luZyIsImp1c3RSZWxlYXNlZCIsInNldEp1c3RSZWxlYXNlZCIsIm9wZW5UaW1lIiwiZHJhZ1N0YXJ0VGltZSIsImRyYWdFbmRUaW1lIiwibGFzdFRpbWVEcmFnUHJldmVudGVkIiwiaXNBbGxvd2VkVG9EcmFnIiwibmVzdGVkT3BlbkNoYW5nZVRpbWVyIiwicG9pbnRlclN0YXJ0IiwicHJldmlvdXNEaWZmRnJvbUluaXRpYWwiLCJkcmF3ZXJIZWlnaHRSZWYiLCJkcmF3ZXJXaWR0aFJlZiIsImluaXRpYWxEcmF3ZXJIZWlnaHQiLCJEYXRlIiwib25SZWxlYXNlU25hcFBvaW50cyIsIm9uRHJhZ1NuYXBQb2ludHMiLCJnZXRTbmFwUG9pbnRzUGVyY2VudGFnZURyYWdnZWQiLCJjb250YWlucyIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwicGFnZVgiLCJzaG91bGREcmFnIiwiaXNEcmFnZ2luZ0luRGlyZWN0aW9uIiwiX3dpbmRvd19nZXRTZWxlY3Rpb24iLCJoaWdobGlnaHRlZFRleHQiLCJnZXRTZWxlY3Rpb24iLCJ0b1N0cmluZyIsInN3aXBlQW1vdW50IiwiZGF0ZSIsInRhZ05hbWUiLCJoYXNBdHRyaWJ1dGUiLCJjbG9zZXN0IiwiZ2V0VGltZSIsImdldEF0dHJpYnV0ZSIsInBhcmVudE5vZGUiLCJkaXJlY3Rpb25NdWx0aXBsaWVyIiwibm9DbG9zZVNuYXBQb2ludHNQcmVDb25kaXRpb24iLCJkcmF3ZXJEaW1lbnNpb24iLCJzbmFwUG9pbnRQZXJjZW50YWdlRHJhZ2dlZCIsImNsYXNzTGlzdCIsImFkZCIsImRhbXBlbmVkRHJhZ2dlZERpc3RhbmNlIiwidHJhbnNsYXRlVmFsdWUiLCJtaW4iLCJvcGFjaXR5VmFsdWUiLCJzY2FsZVZhbHVlIiwiYm9yZGVyUmFkaXVzVmFsdWUiLCJfd2luZG93X3Zpc3VhbFZpZXdwb3J0Iiwib25WaXN1YWxWaWV3cG9ydENoYW5nZSIsImZvY3VzZWRFbGVtZW50IiwidmlzdWFsVmlld3BvcnRIZWlnaHQiLCJ0b3RhbEhlaWdodCIsImRpZmZGcm9tSW5pdGlhbCIsImRyYXdlckhlaWdodCIsImlzVGFsbEVub3VnaCIsIm9mZnNldEZyb21Ub3AiLCJhY3RpdmVTbmFwUG9pbnRIZWlnaHQiLCJuZXdEcmF3ZXJIZWlnaHQiLCJmcm9tV2l0aGluIiwiY2FuY2VsRHJhZyIsInJlc2V0RHJhd2VyIiwiY3VycmVudFN3aXBlQW1vdW50IiwicmVtb3ZlIiwidGltZVRha2VuIiwiZGlzdE1vdmVkIiwiX2RyYXdlclJlZl9jdXJyZW50X2dldEJvdW5kaW5nQ2xpZW50UmVjdF9oZWlnaHQiLCJ2aXNpYmxlRHJhd2VySGVpZ2h0IiwiX2RyYXdlclJlZl9jdXJyZW50X2dldEJvdW5kaW5nQ2xpZW50UmVjdF93aWR0aCIsInZpc2libGVEcmF3ZXJXaWR0aCIsImlzSG9yaXpvbnRhbFN3aXBlIiwic2Nyb2xsQmVoYXZpb3IiLCJzY2FsZSIsImluaXRpYWxUcmFuc2xhdGUiLCJfZXZlbnQiLCJpbml0aWFsU2NhbGUiLCJuZXdTY2FsZSIsIm5ld1RyYW5zbGF0ZSIsInRyYW5zbGF0ZSIsIlByb3ZpZGVyIiwiT3ZlcmxheSIsImZvcndhcmRSZWYiLCJyZXN0IiwiY29tcG9zZWRSZWYiLCJoYXNTbmFwUG9pbnRzIiwib25Nb3VzZVVwIiwiZGlzcGxheU5hbWUiLCJDb250ZW50Iiwib25Qb2ludGVyRG93bk91dHNpZGUiLCJvbk9wZW5BdXRvRm9jdXMiLCJkZWxheWVkU25hcFBvaW50cyIsInNldERlbGF5ZWRTbmFwUG9pbnRzIiwicG9pbnRlclN0YXJ0UmVmIiwibGFzdEtub3duUG9pbnRlckV2ZW50UmVmIiwid2FzQmV5b25kVGhlUG9pbnRSZWYiLCJpc0RlbHRhSW5EaXJlY3Rpb24iLCJkZWx0YSIsInRocmVzaG9sZCIsImRlbHRhWSIsImRlbHRhWCIsImlzRGVsdGFYIiwiZEZhY3RvciIsImluY2x1ZGVzIiwiaXNSZXZlcnNlRGlyZWN0aW9uIiwiaGFuZGxlT25Qb2ludGVyVXAiLCJvblBvaW50ZXJEb3duIiwiZGVmYXVsdFByZXZlbnRlZCIsIm9uRm9jdXNPdXRzaWRlIiwib25Qb2ludGVyTW92ZSIsInlQb3NpdGlvbiIsInhQb3NpdGlvbiIsInN3aXBlU3RhcnRUaHJlc2hvbGQiLCJwb2ludGVyVHlwZSIsImlzQWxsb3dlZFRvU3dpcGUiLCJvblBvaW50ZXJVcCIsIm9uUG9pbnRlck91dCIsIm9uQ29udGV4dE1lbnUiLCJMT05HX0hBTkRMRV9QUkVTU19USU1FT1VUIiwiRE9VQkxFX1RBUF9USU1FT1VUIiwiSGFuZGxlIiwicHJldmVudEN5Y2xlIiwiY2xvc2VUaW1lb3V0SWRSZWYiLCJzaG91bGRDYW5jZWxJbnRlcmFjdGlvblJlZiIsImhhbmRsZVN0YXJ0Q3ljbGUiLCJoYW5kbGVDYW5jZWxJbnRlcmFjdGlvbiIsImhhbmRsZUN5Y2xlU25hcFBvaW50cyIsImN1cnJlbnRTbmFwSW5kZXgiLCJwb2ludCIsIm5leHRTbmFwUG9pbnQiLCJoYW5kbGVTdGFydEludGVyYWN0aW9uIiwib25DbGljayIsIm9uUG9pbnRlckNhbmNlbCIsIk5lc3RlZFJvb3QiLCJuZXN0ZWRJc09wZW4iLCJwIiwiUG9ydGFsIiwicHJvcHMiLCJwb3J0YWxQcm9wcyIsIkRyYXdlciIsIlRyaWdnZXIiLCJDbG9zZSIsIlRpdGxlIiwiRGVzY3JpcHRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/vaul/dist/index.mjs\n"));

/***/ })

});